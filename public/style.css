/* ===================================
   Bureau F Inspired Design System
   Modern Minimalist CSS Architecture
   =================================== */

/* ===================================
   CSS Custom Properties (Design Tokens)
   Task 2.1: 创建新的 CSS 变量和设计令牌
   Requirements: 1.5, 8.5
   =================================== */
:root {
  /* Colors - Bureau F Minimalist Palette */
  --primary-black: #000000;
  --primary-white: #ffffff;
  --primary-gray: #f5f5f5;
  --accent-blue: #0066cc;
  --accent-green: #00cc66;
  --accent-orange: #ff6600;

  /* Semantic Colors */
  --text-primary: #1a1a1a;
  --text-secondary: #666666;
  --text-muted: #888888;
  --text-light: #999999;
  --border-light: #e0e0e0;
  --border-medium: #cccccc;
  --background-subtle: #fafafa;
  --background-overlay: rgba(0, 0, 0, 0.05);
  --background-hover: #f5f5f5;

  /* Typography */
  --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;

  /* Font Sizes */
  --text-xs: 0.6875rem;
  /* 11px */
  --text-sm: 0.8125rem;
  /* 13px */
  --text-base: 0.875rem;
  /* 14px */
  --text-md: 1rem;
  /* 16px */
  --text-lg: 1.125rem;
  /* 18px */
  --text-xl: 1.25rem;
  /* 20px */
  --text-2xl: 1.5rem;
  /* 24px */
  --text-3xl: 1.875rem;
  /* 30px */
  --text-4xl: 2.25rem;
  /* 36px */
  --text-5xl: 3rem;
  /* 48px */
  --text-6xl: 3.75rem;
  /* 60px */
  --text-7xl: 4.5rem;
  /* 72px */

  /* Font Weights */
  --font-light: 300;
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
  --font-extrabold: 800;

  /* Line Heights */
  --leading-none: 1;
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 2;

  /* Letter Spacing */
  --tracking-tighter: -0.05em;
  --tracking-tight: -0.025em;
  --tracking-normal: 0;
  --tracking-wide: 0.025em;
  --tracking-wider: 0.05em;
  --tracking-widest: 0.1em;

  /* Spacing System (4px base) */
  --space-0: 0;
  --space-1: 0.25rem;
  /* 4px */
  --space-2: 0.5rem;
  /* 8px */
  --space-3: 0.75rem;
  /* 12px */
  --space-4: 1rem;
  /* 16px */
  --space-5: 1.25rem;
  /* 20px */
  --space-6: 1.5rem;
  /* 24px */
  --space-8: 2rem;
  /* 32px */
  --space-10: 2.5rem;
  /* 40px */
  --space-12: 3rem;
  /* 48px */
  --space-16: 4rem;
  /* 64px */
  --space-20: 5rem;
  /* 80px */
  --space-24: 6rem;
  /* 96px */
  --space-32: 8rem;
  /* 128px */

  /* Layout Variables */
  --header-height: 80px;
  --sidebar-width: 220px;
  --sidebar-width-tablet: 180px;
  --sidebar-width-mobile: 0px;
  --content-padding: 40px;
  --content-padding-tablet: 24px;
  --content-padding-mobile: 16px;

  /* Shadows - Bureau F Style (subtle) */
  --shadow-none: none;
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.03);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px 0 rgba(0, 0, 0, 0.03);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.07), 0 2px 4px -1px rgba(0, 0, 0, 0.04);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -2px rgba(0, 0, 0, 0.04);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 10px 10px -5px rgba(0, 0, 0, 0.03);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
  --shadow-card: 0 2px 8px rgba(0, 0, 0, 0.06);
  --shadow-card-hover: 0 8px 24px rgba(0, 0, 0, 0.12);

  /* Transitions - Smooth Bureau F animations */
  --transition-fast: 150ms ease-out;
  --transition-normal: 250ms ease-out;
  --transition-slow: 350ms ease-out;
  --transition-slower: 500ms ease-out;
  --transition-cubic: 600ms cubic-bezier(0.4, 0, 0.2, 1);

  /* Easing Functions */
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* Border Radius */
  --radius-none: 0;
  --radius-sm: 0.125rem;
  /* 2px */
  --radius-md: 0.375rem;
  /* 6px */
  --radius-lg: 0.5rem;
  /* 8px */
  --radius-xl: 0.75rem;
  /* 12px */
  --radius-2xl: 1rem;
  /* 16px */
  --radius-3xl: 1.5rem;
  /* 24px */
  --radius-full: 9999px;

  /* Z-Index Scale */
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-fixed: 300;
  --z-modal-backdrop: 400;
  --z-modal: 500;
  --z-popover: 600;
  --z-tooltip: 700;
  --z-header: 1000;
  --z-sidebar: 900;

  /* Card Grid Variables */
  --card-min-width: 280px;
  --card-gap: 24px;
  --card-aspect-ratio: 4/3;
  --card-border-radius: var(--radius-lg);
}

/* ===================================
   Dark Mode Theme Tokens
   =================================== */
[data-theme="dark"] {
  /* Colors - Dark Mode */
  --primary-black: #ffffff;
  --primary-white: #0a0a0a;
  --primary-gray: #1a1a1a;

  /* Semantic Colors */
  --text-primary: #f0f0f0;
  --text-secondary: #a0a0a0;
  --text-muted: #666666;
  --text-light: #444444;
  --border-light: #2a2a2a;
  --border-medium: #404040;
  --background-subtle: #111111;
  --background-overlay: rgba(255, 255, 255, 0.05);
  --background-hover: #1a1a1a;

  /* Update Shadows for Dark Mode to be visible */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.5);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.6), 0 1px 2px 0 rgba(0, 0, 0, 0.4);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.6), 0 2px 4px -1px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.6), 0 4px 6px -2px rgba(0, 0, 0, 0.4);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6), 0 10px 10px -5px rgba(0, 0, 0, 0.4);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
  --shadow-card: 0 2px 8px rgba(0, 0, 0, 0.4);
  --shadow-card-hover: 0 8px 24px rgba(0, 0, 0, 0.6);
}

/* ===================================
   Reset & Base Styles
   =================================== */

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  background-color: #ffffff;
}

body {
  font-family: var(--font-primary);
  font-size: var(--text-base);
  line-height: var(--leading-normal);
  color: var(--text-primary);
  background-color: #ffffff;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  overflow-x: hidden;
}

/* Focus Management - Accessibility */
:focus {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
}

:focus:not(:focus-visible) {
  outline: none;
}

:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
}

/* Selection */
::selection {
  background-color: var(--primary-black);
  color: var(--primary-white);
}

/* ===================================
   Typography
   =================================== */

h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: var(--font-bold);
  line-height: var(--leading-tight);
  color: var(--text-primary);
  margin-bottom: var(--space-4);
}

h1 {
  font-size: var(--text-5xl);
  letter-spacing: var(--tracking-tight);
}

h2 {
  font-size: var(--text-4xl);
  letter-spacing: var(--tracking-tight);
}

h3 {
  font-size: var(--text-3xl);
}

h4 {
  font-size: var(--text-2xl);
}

h5 {
  font-size: var(--text-xl);
}

h6 {
  font-size: var(--text-lg);
}

p {
  margin-bottom: var(--space-4);
  line-height: var(--leading-relaxed);
}

a {
  color: var(--text-primary);
  text-decoration: none;
  transition: color var(--transition-fast);
}

a:hover {
  color: var(--text-secondary);
}

/* ===================================
   Layout Container
   =================================== */

.container {
  width: 100%;
  max-width: 1280px;
  margin: 0 auto;
  padding: 0 var(--space-6);
}

/* ===================================
   Site Header (极简头部)
   =================================== */

.site-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: var(--z-header);
  height: var(--header-height);
  background-color: #ffffff;
  border-bottom: 1px solid var(--primary-black);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--content-padding);
  transition: all var(--transition-normal);
}

.site-header.scrolled {
  background-color: rgba(255, 255, 255, 0.98);
  backdrop-filter: blur(10px);
}

/* Logo */
.logo {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.logo-text {
  font-family: var(--font-primary);
  font-weight: var(--font-extrabold);
  font-size: var(--text-2xl);
  letter-spacing: var(--tracking-tight);
  color: var(--primary-black);
}

.logo-line {
  display: inline-block;
  width: 60px;
  height: 2px;
  background: var(--primary-black);
  vertical-align: middle;
}

/* Header Actions */
.header-actions {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

/* Circular Theme Toggle Button for Header */
.theme-toggle-circle {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: none;
  background: rgba(0, 0, 0, 0.05);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  flex-shrink: 0;
}

.theme-toggle-circle:hover {
  transform: scale(1.1);
  background: rgba(0, 0, 0, 0.1);
}

.theme-toggle-circle:active {
  transform: scale(0.95);
}

.theme-toggle-circle:focus {
  outline: none;
}

.theme-toggle-circle:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
}

.theme-toggle-circle .theme-icon {
  width: 18px;
  height: 18px;
  position: absolute;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  color: #1a1a1a;
  /* 白天模式下使用深色图标 */
}

/* Light mode - ensure dark icon color */
[data-theme="light"] .theme-toggle-circle .theme-icon,
body:not([data-theme="dark"]) .theme-toggle-circle .theme-icon {
  color: #1a1a1a;
}

/* Light mode - show moon icon */
[data-theme="light"] .theme-toggle-circle .theme-icon--sun,
body:not([data-theme="dark"]) .theme-toggle-circle .theme-icon--sun {
  opacity: 0;
  transform: rotate(-90deg) scale(0.5);
}

[data-theme="light"] .theme-toggle-circle .theme-icon--moon,
body:not([data-theme="dark"]) .theme-toggle-circle .theme-icon--moon {
  opacity: 1;
  transform: rotate(0deg) scale(1);
}

/* Dark mode - show sun icon */
[data-theme="dark"] .theme-toggle-circle {
  background: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .theme-toggle-circle:hover {
  background: rgba(255, 255, 255, 0.2);
}

[data-theme="dark"] .theme-toggle-circle .theme-icon {
  color: #f0f0f0;
}

[data-theme="dark"] .theme-toggle-circle .theme-icon--sun {
  opacity: 1;
  transform: rotate(0deg) scale(1);
}

[data-theme="dark"] .theme-toggle-circle .theme-icon--moon {
  opacity: 0;
  transform: rotate(90deg) scale(0.5);
}

/* Nav Auth (Index page header) */
.nav-auth {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex-direction: row;
  flex-wrap: nowrap;
  position: relative;
  z-index: 9999;
}

.nav-auth .btn {
  flex-shrink: 0;
  white-space: nowrap;
}

.nav-auth .user-avatar {
  flex-shrink: 0;
}

.header-icon {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  background: transparent;
  border: none;
  cursor: pointer;
  transition: background-color var(--transition-fast);
}

.header-icon:hover {
  background-color: var(--background-hover);
}

/* Mobile Menu Toggle */
.mobile-menu-toggle {
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 40px;
  height: 40px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  z-index: calc(var(--z-header) + 1);
}

.mobile-menu-toggle span {
  display: block;
  width: 24px;
  height: 2px;
  background-color: var(--primary-black);
  margin: 3px 0;
  transition: all var(--transition-fast);
}

.mobile-menu-toggle.active span:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}

.mobile-menu-toggle.active span:nth-child(2) {
  opacity: 0;
}

.mobile-menu-toggle.active span:nth-child(3) {
  transform: rotate(-45deg) translate(7px, -6px);
}


/* ===================================
   Side Navigation (左侧固定导航)
   Task 2.2: 实现左侧固定导航栏样式
   Requirements: 1.3, 1.4
   =================================== */

.side-nav {
  position: fixed;
  left: 0;
  top: var(--header-height);
  bottom: 0;
  width: var(--sidebar-width);
  padding: var(--space-6) var(--space-5);
  border-right: 1px solid var(--border-light);
  background-color: #ffffff;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: var(--z-sidebar);
  transition: transform var(--transition-normal), width var(--transition-normal), padding var(--transition-normal);
  opacity: 1 !important;
}

/* ===================================
   Sidebar Collapse Feature
   =================================== */

/* Sidebar Toggle Button */
.sidebar-toggle {
  position: fixed;
  left: var(--sidebar-width);
  top: calc(var(--header-height) + 20px);
  width: 24px;
  height: 24px;
  background: #ffffff;
  border: 1px solid var(--border-light);
  border-radius: 50%;
  cursor: pointer;
  z-index: calc(var(--z-sidebar) + 1);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition-normal);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transform: translateX(-50%);
}

.sidebar-toggle:hover {
  background: var(--background-hover);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.sidebar-toggle svg {
  width: 14px;
  height: 14px;
  stroke: var(--text-secondary);
  transition: transform var(--transition-normal);
}

/* Collapsed State */
.side-nav.collapsed {
  width: 72px;
  padding: var(--space-4) var(--space-3);
  overflow: visible;
}

.side-nav.collapsed+.sidebar-toggle {
  left: 72px;
}

.side-nav.collapsed+.sidebar-toggle svg {
  transform: rotate(180deg);
}

/* Hide text in collapsed state */
.side-nav.collapsed .nav-item>span,
.side-nav.collapsed .nav-item-arrow,
.side-nav.collapsed .submenu,
.side-nav.collapsed .nav-divider {
  display: none;
}

/* Nav icon container - circular background */
.nav-icon-wrapper {
  display: none;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: #f5f5f5;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.nav-icon-wrapper svg {
  width: 22px;
  height: 22px;
  stroke: #666666;
  fill: none;
  stroke-width: 1.5;
}

/* Show icon wrapper in collapsed state */
.side-nav.collapsed .nav-icon-wrapper {
  display: flex;
}

/* Collapsed nav item styling */
.side-nav.collapsed .nav-item,
.side-nav.collapsed .nav-item.has-submenu {
  justify-content: center;
  padding: var(--space-2);
  margin-bottom: var(--space-3);
  position: relative;
  background: transparent;
}

/* Ensure nav-item has position relative for tooltip positioning */
.side-nav.collapsed .nav-item {
  position: relative;
}

.side-nav.collapsed .nav-item:hover .nav-icon-wrapper,
.side-nav.collapsed .nav-item.has-submenu:hover .nav-icon-wrapper {
  background: #e8e8e8;
}

.side-nav.collapsed .nav-item:hover .nav-icon-wrapper svg,
.side-nav.collapsed .nav-item.has-submenu:hover .nav-icon-wrapper svg {
  stroke: #333333;
}

/* Tooltip - rounded rectangle style like reference image */
.nav-tooltip {
  position: absolute;
  left: calc(100% + 12px);
  top: 50%;
  transform: translateY(-50%);
  padding: 8px 16px;
  background: #f5f5f5;
  color: #333333;
  font-size: 14px;
  font-weight: 500;
  white-space: nowrap;
  border-radius: 8px;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.15s ease, visibility 0.15s ease;
  pointer-events: none;
  z-index: 10000;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  display: none;
}

/* Show tooltip container in collapsed state (but still invisible until hover) */
.side-nav.collapsed .nav-tooltip {
  display: block;
}

/* Hide tooltip in expanded state */
.side-nav:not(.collapsed) .nav-tooltip {
  display: none !important;
}

/* Show tooltip only in collapsed state on hover */
.side-nav.collapsed .nav-item:hover>.nav-tooltip {
  display: block !important;
  opacity: 1;
  visibility: visible;
}

/* Hide tooltip for submenu items (they have popup instead) */
.side-nav.collapsed .nav-item.has-submenu>.nav-tooltip {
  display: none !important;
}

/* AI Tools Submenu Popup - icon grid with tooltips */
.nav-submenu-popup {
  position: absolute;
  left: calc(100% + 8px);
  top: 0;
  background: #ffffff;
  border-radius: 16px;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.12);
  padding: 12px;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s ease, visibility 0.2s ease;
  pointer-events: none;
  z-index: -1;
  display: none;
  overflow: visible;
}

.side-nav.collapsed .nav-submenu-popup {
  display: block;
  z-index: 9999;
}

/* Show submenu popup on hover - controlled by JavaScript for 0.5s delay */
.side-nav.collapsed .nav-submenu-popup.visible {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

/* Submenu popup header */
.submenu-popup-header {
  padding: 8px 12px 12px;
  font-size: 13px;
  font-weight: 600;
  color: #999999;
  border-bottom: 1px solid #f0f0f0;
  margin-bottom: 8px;
}

/* Submenu popup grid - icons only */
.submenu-popup-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 8px;
  overflow: visible;
}

/* Submenu popup items - icon only with tooltip */
.submenu-popup-item {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  border-radius: 12px;
  background: #f5f5f5;
  color: #666666;
  text-decoration: none;
  transition: all 0.15s ease;
  cursor: pointer;
}

.submenu-popup-item:hover {
  background: #e8e8e8;
}

.submenu-popup-item.active {
  background: #333333;
}

.submenu-popup-item.active svg {
  stroke: #ffffff;
}

/* Submenu item icon */
.submenu-popup-item svg {
  width: 20px;
  height: 20px;
  stroke: #666666;
  fill: none;
  stroke-width: 1.5;
}

.submenu-popup-item:hover svg {
  stroke: #333333;
}

/* Submenu item tooltip - appears on the right side */
.submenu-popup-item .submenu-tooltip {
  position: absolute;
  left: calc(100% + 10px);
  top: 50%;
  transform: translateY(-50%);
  padding: 8px 14px;
  background: #333333;
  color: #ffffff;
  font-size: 13px;
  font-weight: 500;
  white-space: nowrap;
  border-radius: 8px;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.15s ease, visibility 0.15s ease;
  pointer-events: none;
  z-index: 10001;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.submenu-popup-item .submenu-tooltip::after {
  content: '';
  position: absolute;
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  border: 6px solid transparent;
  border-right-color: #333333;
}

/* Show tooltip via JavaScript .visible class */
.submenu-popup-item .submenu-tooltip.visible {
  opacity: 1;
  visibility: visible;
  pointer-events: none;
  /* Keep pointer-events none even when visible */
}

/* Adjust main content when sidebar is collapsed */
.main-content {
  transition: margin-left var(--transition-normal);
}

body.sidebar-collapsed .main-content {
  margin-left: 72px;
}

body.sidebar-collapsed .site-footer {
  margin-left: 72px;
}

/* Custom Scrollbar for Side Nav */
.side-nav::-webkit-scrollbar {
  width: 4px;
}

.side-nav::-webkit-scrollbar-track {
  background: transparent;
}

.side-nav::-webkit-scrollbar-thumb {
  background-color: var(--border-light);
  border-radius: var(--radius-full);
}

.side-nav::-webkit-scrollbar-thumb:hover {
  background-color: var(--border-medium);
}

/* Navigation Group Title */
.nav-group-title {
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
  color: var(--text-light);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  padding: var(--space-2) var(--space-3);
  margin-top: var(--space-2);
  margin-bottom: var(--space-1);
}

/* Main Navigation Item */
.nav-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-2) var(--space-3);
  font-size: var(--text-base);
  font-weight: var(--font-normal);
  color: var(--text-secondary);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all var(--transition-fast);
  text-decoration: none;
  margin-bottom: var(--space-1);
  user-select: none;
  opacity: 1 !important;
}

.nav-item:hover {
  background-color: var(--background-hover);
  color: var(--text-primary);
}

.nav-item.active {
  background-color: var(--primary-black);
  color: var(--primary-white);
}

.nav-item.active:hover {
  background-color: var(--text-primary);
  color: var(--primary-white);
}

/* Navigation Item with Submenu */
.nav-item.has-submenu {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-2) var(--space-3);
  font-size: var(--text-base);
  font-weight: var(--font-medium);
  color: #1a1a1a;
  background-color: transparent;
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  width: 100%;
  text-align: left;
  margin-bottom: var(--space-1);
  opacity: 1 !important;
  visibility: visible !important;
}

.nav-item.has-submenu:hover {
  background-color: var(--background-hover);
  color: var(--text-primary);
}

[data-theme="dark"] .nav-item.has-submenu {
  color: #f0f0f0;
}

[data-theme="dark"] .nav-item.has-submenu:hover {
  background-color: rgba(0, 255, 204, 0.1);
  color: #00ffcc;
}

.nav-item-icon {
  width: 20px;
  height: 20px;
  margin-right: var(--space-2);
  opacity: 0.7;
}

.nav-item-arrow {
  font-size: 10px;
  transition: transform var(--transition-fast);
  opacity: 0.5;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Arrow points up when expanded, down when collapsed */
.nav-item.has-submenu.expanded .nav-item-arrow {
  transform: rotate(180deg);
}

/* Submenu */
.submenu {
  padding-left: var(--space-4);
  max-height: 0;
  overflow: hidden;
  transition: max-height var(--transition-slow) ease-out;
}

.submenu.expanded {
  max-height: 1000px;
}

.submenu-item {
  display: block;
  padding: var(--space-2) var(--space-3);
  font-size: var(--text-sm);
  color: var(--text-muted);
  border-left: 2px solid transparent;
  transition: all var(--transition-fast);
  text-decoration: none;
  margin-bottom: 2px;
}

.submenu-item:hover {
  color: var(--text-primary);
  border-left-color: var(--border-medium);
  background-color: var(--background-subtle);
}

.submenu-item.active {
  color: var(--primary-black);
  border-left-color: var(--primary-black);
  background-color: var(--background-subtle);
  font-weight: var(--font-medium);
}

/* Navigation Divider */
.nav-divider {
  height: 1px;
  background-color: var(--border-light);
  margin: var(--space-4) 0;
}

/* Navigation Badge */
.nav-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 18px;
  height: 18px;
  padding: 0 var(--space-1);
  font-size: 10px;
  font-weight: var(--font-semibold);
  color: var(--primary-white);
  background-color: var(--accent-blue);
  border-radius: var(--radius-full);
}

/* ===================================
   Main Content Area
   =================================== */

.main-content {
  margin-left: var(--sidebar-width);
  margin-top: var(--header-height);
  min-height: calc(100vh - var(--header-height));
  padding: var(--content-padding);
  background-color: #ffffff;
  transition: margin-left var(--transition-normal);
}

/* Content Header */
.content-header {
  margin-bottom: var(--space-8);
}

.content-title {
  font-size: var(--text-3xl);
  font-weight: var(--font-extrabold);
  color: var(--text-primary);
  margin-bottom: var(--space-2);
  letter-spacing: var(--tracking-tight);
}

.content-subtitle {
  font-size: var(--text-md);
  color: var(--text-secondary);
  line-height: var(--leading-relaxed);
}

/* ===================================
   Search Box
   =================================== */

.search-container {
  margin-bottom: var(--space-8);
  max-width: 600px;
}

.search-box {
  position: relative;
  display: flex;
  align-items: center;
  background: var(--primary-white);
  border: 2px solid var(--border-light);
  border-radius: var(--radius-lg);
  padding: var(--space-3) var(--space-4);
  transition: all var(--transition-fast);
}

.search-box:focus-within {
  border-color: var(--primary-black);
  box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.05);
}

.search-icon {
  width: 20px;
  height: 20px;
  color: var(--text-muted);
  flex-shrink: 0;
  margin-right: var(--space-2);
}

.search-input {
  flex: 1;
  border: none;
  outline: none;
  font-size: var(--text-base);
  font-family: var(--font-primary);
  color: var(--text-primary);
  background: transparent;
}

.search-input::placeholder {
  color: var(--text-muted);
}

.search-clear {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  color: var(--text-muted);
  transition: all var(--transition-fast);
  flex-shrink: 0;
  margin-left: var(--space-2);
}

.search-clear:hover {
  background: var(--background-hover);
  color: var(--text-primary);
}

.search-stats {
  margin-top: var(--space-3);
  font-size: var(--text-sm);
  color: var(--text-secondary);
}

.search-stats span {
  font-weight: var(--font-semibold);
  color: var(--text-primary);
}

/* Search highlight */
.search-highlight {
  background-color: #ffeb3b;
  color: #000;
  padding: 2px 4px;
  border-radius: 2px;
  font-weight: var(--font-medium);
}

/* Dark theme search box */
[data-theme="dark"] .search-box {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .search-box:focus-within {
  border-color: rgba(255, 255, 255, 0.3);
  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .search-input {
  color: #f0f0f0;
}

[data-theme="dark"] .search-input::placeholder {
  color: rgba(255, 255, 255, 0.4);
}

[data-theme="dark"] .search-highlight {
  background-color: #ffd700;
  color: #000;
}

/* Section Title */
.section-title {
  font-size: var(--text-xl);
  font-weight: var(--font-bold);
  color: var(--text-primary);
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-3);
  border-bottom: 1px solid var(--border-light);
}

/* ===================================
   Tool Card Grid Layout
   Task 2.3: 实现工具卡片网格布局
   Requirements: 1.3, 1.7
   =================================== */

.tool-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--card-min-width), 1fr));
  gap: var(--card-gap);
}

/* Tool Card */
.tool-card {
  position: relative;
  background-color: var(--primary-white);
  border: 1px solid var(--border-light);
  border-radius: var(--card-border-radius);
  overflow: hidden;
  transition: all var(--transition-normal);
  cursor: pointer;
  opacity: 1 !important;
  transform: none !important;
}

.tool-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-card-hover);
  border-color: var(--border-medium);
}

/* Card Image Container */
.tool-card-image {
  position: relative;
  aspect-ratio: var(--card-aspect-ratio);
  overflow: hidden;
  background-color: var(--background-subtle);
}

.tool-card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--transition-cubic);
}

.tool-card:hover .tool-card-image img {
  transform: scale(1.05);
}

/* Card Image Overlay */
.tool-card-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.7) 0%, transparent 50%);
  opacity: 0;
  transition: opacity var(--transition-normal);
  display: flex;
  align-items: flex-end;
  padding: var(--space-5);
}

.tool-card:hover .tool-card-overlay {
  opacity: 1;
}

.tool-card-overlay-content {
  color: var(--primary-white);
  transform: translateY(10px);
  transition: transform var(--transition-normal);
}

.tool-card:hover .tool-card-overlay-content {
  transform: translateY(0);
}

/* Card Content */
.tool-card-content {
  padding: var(--space-5);
}

/* Tool Card Logo Header */
.tool-card-header-with-logo {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.tool-card-logo {
  width: 32px;
  height: 32px;
  border-radius: 6px;
  object-fit: contain;
  flex-shrink: 0;
  background-color: var(--background-subtle);
  padding: 4px;
}

.tool-card-title {
  font-size: var(--text-md);
  font-weight: var(--font-semibold);
  color: var(--text-primary);
  margin-bottom: 0;
  line-height: var(--leading-snug);
}

.tool-card-description {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-3);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  box-orient: vertical;
  overflow: hidden;
}

/* Card Tags */
.tool-card-tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.tool-tag {
  display: inline-block;
  padding: var(--space-1) var(--space-2);
  font-size: var(--text-xs);
  font-weight: var(--font-medium);
  color: var(--text-muted);
  background-color: var(--background-subtle);
  border-radius: var(--radius-full);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

/* Card Actions */
.tool-card-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-3) var(--space-5);
  border-top: 1px solid var(--border-light);
}

.tool-card-link {
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--text-primary);
  display: flex;
  align-items: center;
  gap: var(--space-2);
  transition: color var(--transition-fast);
}

.tool-card-link:hover {
  color: var(--accent-blue);
}

.tool-card-link-arrow {
  transition: transform var(--transition-fast);
}

.tool-card-link:hover .tool-card-link-arrow {
  transform: translateX(4px);
}

/* Compact Card Variant */
.tool-card.compact .tool-card-content {
  padding: var(--space-4);
}

.tool-card.compact .tool-card-title {
  font-size: var(--text-base);
}

/* Featured Card Variant */
.tool-card.featured {
  grid-column: span 2;
}

.tool-card.featured .tool-card-image {
  aspect-ratio: 16/9;
}


/* ===================================
   Responsive Design
   Task 2.4: 实现响应式断点
   Requirements: 2.1, 2.2, 2.3
   =================================== */

/* Large Desktop (> 1440px) */
@media (min-width: 1440px) {
  :root {
    --sidebar-width: 260px;
    --content-padding: 48px;
    --card-min-width: 320px;
  }
}

/* Desktop (1024px - 1440px) */
@media (min-width: 1024px) and (max-width: 1439px) {
  :root {
    --sidebar-width: 220px;
    --content-padding: 40px;
    --card-min-width: 280px;
  }
}

/* Tablet (768px - 1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
  :root {
    --sidebar-width: var(--sidebar-width-tablet);
    --content-padding: var(--content-padding-tablet);
    --card-min-width: 240px;
    --card-gap: 20px;
  }

  .site-header {
    padding: 0 var(--space-6);
  }

  .side-nav {
    width: var(--sidebar-width-tablet);
    padding: var(--space-4) var(--space-3);
  }

  /* Adjust sidebar toggle position for tablet */
  .sidebar-toggle {
    left: var(--sidebar-width-tablet);
  }

  .side-nav.collapsed+.sidebar-toggle {
    left: 72px;
  }

  .nav-item {
    font-size: var(--text-sm);
    padding: var(--space-2);
  }

  .submenu-item {
    font-size: var(--text-xs);
    padding: var(--space-2);
  }

  .main-content {
    margin-left: var(--sidebar-width-tablet);
    padding: var(--content-padding-tablet);
  }

  body.sidebar-collapsed .main-content {
    margin-left: 72px;
  }

  .content-title {
    font-size: var(--text-2xl);
  }

  .tool-card.featured {
    grid-column: span 1;
  }
}

/* Mobile (< 768px) */
@media (max-width: 767px) {
  :root {
    --header-height: 60px;
    --sidebar-width: 280px;
    --content-padding: var(--content-padding-mobile);
    --card-min-width: 100%;
    --card-gap: 16px;
  }

  /* Header Mobile */
  .site-header {
    height: var(--header-height);
    padding: 0 var(--space-4);
  }

  .logo-text {
    font-size: var(--text-lg);
  }

  .logo-line {
    width: 40px;
  }

  .mobile-menu-toggle {
    display: flex;
  }

  /* Side Navigation Mobile - Off-canvas */
  .side-nav {
    transform: translateX(-100%);
    width: var(--sidebar-width);
    top: var(--header-height);
    box-shadow: var(--shadow-xl);
    padding: var(--space-4);
  }

  .side-nav.open {
    transform: translateX(0);
  }

  /* Mobile Overlay */
  .mobile-overlay {
    position: fixed;
    inset: 0;
    top: var(--header-height);
    background-color: rgba(0, 0, 0, 0.5);
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-normal);
    z-index: calc(var(--z-sidebar) - 1);
  }

  .mobile-overlay.visible {
    opacity: 1;
    visibility: visible;
  }

  /* Main Content Mobile */
  .main-content {
    margin-left: 0;
    padding: var(--content-padding-mobile);
  }

  .content-header {
    margin-bottom: var(--space-6);
  }

  .content-title {
    font-size: var(--text-xl);
  }

  .content-subtitle {
    font-size: var(--text-sm);
  }

  .section-title {
    font-size: var(--text-lg);
    margin-bottom: var(--space-4);
  }

  /* Tool Grid Mobile */
  .tool-grid {
    grid-template-columns: 1fr;
    gap: var(--card-gap);
  }

  .tool-card.featured {
    grid-column: span 1;
  }

  .tool-card-content {
    padding: var(--space-4);
  }

  .tool-card-title {
    font-size: var(--text-base);
  }

  .tool-card-actions {
    padding: var(--space-2) var(--space-4);
  }
}

/* Small Mobile (< 480px) */
@media (max-width: 479px) {
  :root {
    --content-padding: 12px;
    --card-gap: 12px;
  }

  .site-header {
    padding: 0 var(--space-3);
  }

  .logo-line {
    display: none;
  }

  .tool-card-description {
    -webkit-line-clamp: 1;
    line-clamp: 1;
  }
}

/* ===================================
   Animation System
   Task 4: 实现动画系统
   Requirements: 1.1, 1.2, 1.3, 1.4, 1.7, 1.8
   =================================== */

/* ===================================
   4.1 Page Load Animations
   CSS fadeInUp 动画 + 交错动画延迟
   Requirements: 1.1, 1.8
   =================================== */

/* Core Keyframe Animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-30px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes scaleInBounce {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }

  60% {
    opacity: 1;
    transform: scale(1.02);
  }

  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulse {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.7;
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

/* Page Load Initial State - Elements start hidden */
.page-load-animate {
  opacity: 0;
}

/* Animation Classes - Applied on page load */
.animate-in {
  animation: fadeInUp 0.6s var(--ease-out) forwards;
}

.animate-in-down {
  animation: fadeInDown 0.6s var(--ease-out) forwards;
}

.animate-fade {
  animation: fadeIn 0.5s var(--ease-out) forwards;
}

.animate-slide-left {
  animation: slideInLeft 0.6s var(--ease-out) forwards;
}

.animate-slide-right {
  animation: slideInRight 0.6s var(--ease-out) forwards;
}

.animate-scale {
  animation: scaleIn 0.5s var(--ease-out) forwards;
}

.animate-scale-bounce {
  animation: scaleInBounce 0.7s var(--ease-out) forwards;
}

/* Stagger Animation Delays - For sequential element animations */
.stagger-1 {
  animation-delay: 0.05s;
  opacity: 0;
}

.stagger-2 {
  animation-delay: 0.1s;
  opacity: 0;
}

.stagger-3 {
  animation-delay: 0.15s;
  opacity: 0;
}

.stagger-4 {
  animation-delay: 0.2s;
  opacity: 0;
}

.stagger-5 {
  animation-delay: 0.25s;
  opacity: 0;
}

.stagger-6 {
  animation-delay: 0.3s;
  opacity: 0;
}

.stagger-7 {
  animation-delay: 0.35s;
  opacity: 0;
}

.stagger-8 {
  animation-delay: 0.4s;
  opacity: 0;
}

.stagger-9 {
  animation-delay: 0.45s;
  opacity: 0;
}

.stagger-10 {
  animation-delay: 0.5s;
  opacity: 0;
}

.stagger-11 {
  animation-delay: 0.55s;
  opacity: 0;
}

.stagger-12 {
  animation-delay: 0.6s;
  opacity: 0;
}

/* Longer stagger delays for hero sections */
.stagger-slow-1 {
  animation-delay: 0.1s;
  opacity: 0;
}

.stagger-slow-2 {
  animation-delay: 0.2s;
  opacity: 0;
}

.stagger-slow-3 {
  animation-delay: 0.3s;
  opacity: 0;
}

.stagger-slow-4 {
  animation-delay: 0.4s;
  opacity: 0;
}

.stagger-slow-5 {
  animation-delay: 0.5s;
  opacity: 0;
}

/* ===================================
   4.2 Scroll Triggered Animations
   Intersection Observer API
   Requirements: 1.2, 1.7
   =================================== */

/* Scroll Animation Base State */
.scroll-animate {
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.6s var(--ease-out), transform 0.6s var(--ease-out);
  will-change: opacity, transform;
}

.scroll-animate.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Scroll Animation Variants */
.scroll-animate-left {
  opacity: 0;
  transform: translateX(-40px);
  transition: opacity 0.6s var(--ease-out), transform 0.6s var(--ease-out);
  will-change: opacity, transform;
}

.scroll-animate-left.visible {
  opacity: 1;
  transform: translateX(0);
}

.scroll-animate-right {
  opacity: 0;
  transform: translateX(40px);
  transition: opacity 0.6s var(--ease-out), transform 0.6s var(--ease-out);
  will-change: opacity, transform;
}

.scroll-animate-right.visible {
  opacity: 1;
  transform: translateX(0);
}

.scroll-animate-scale {
  opacity: 0;
  transform: scale(0.9);
  transition: opacity 0.6s var(--ease-out), transform 0.6s var(--ease-out);
  will-change: opacity, transform;
}

.scroll-animate-scale.visible {
  opacity: 1;
  transform: scale(1);
}

/* Staggered scroll animations for grid items */
.scroll-animate-stagger {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 0.5s var(--ease-out), transform 0.5s var(--ease-out);
  will-change: opacity, transform;
}

/* Only apply animation when JS adds the animate class */
.scroll-animate-stagger.animate-ready {
  opacity: 0;
  transform: translateY(30px);
}

.scroll-animate-stagger.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Stagger delays applied via JavaScript data attribute */
.scroll-animate-stagger[data-delay="1"] {
  transition-delay: 0.05s;
}

.scroll-animate-stagger[data-delay="2"] {
  transition-delay: 0.1s;
}

.scroll-animate-stagger[data-delay="3"] {
  transition-delay: 0.15s;
}

.scroll-animate-stagger[data-delay="4"] {
  transition-delay: 0.2s;
}

.scroll-animate-stagger[data-delay="5"] {
  transition-delay: 0.25s;
}

.scroll-animate-stagger[data-delay="6"] {
  transition-delay: 0.3s;
}

.scroll-animate-stagger[data-delay="7"] {
  transition-delay: 0.35s;
}

.scroll-animate-stagger[data-delay="8"] {
  transition-delay: 0.4s;
}

/* ===================================
   4.3 Navigation Interaction Animations
   子菜单展开/收起动画 + 悬停过渡效果
   Requirements: 1.3, 1.4
   =================================== */

/* Navigation Item Hover Effects */
.nav-item {
  position: relative;
  transition: all var(--transition-fast);
}

.nav-item::before {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%) scaleX(0);
  width: 3px;
  height: 60%;
  background-color: var(--primary-black);
  border-radius: var(--radius-full);
  transition: transform var(--transition-fast);
  transform-origin: left center;
}

.nav-item:hover::before,
.nav-item.active::before {
  transform: translateY(-50%) scaleX(1);
}

/* Submenu Expand/Collapse Animation */
.submenu {
  padding-left: var(--space-4);
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.3s ease-out,
    padding 0.3s ease-out;
}

.submenu.expanded {
  max-height: 1000px;
  opacity: 1;
  padding-top: var(--space-1);
  padding-bottom: var(--space-1);
}

/* Submenu Item Animations */
.submenu-item {
  opacity: 1;
  transform: translateX(0);
  transition: all var(--transition-fast);
}

.submenu.expanded .submenu-item {
  opacity: 1;
  transform: translateX(0);
}

/* Staggered submenu item animations */
.submenu.expanded .submenu-item:nth-child(1) {
  transition-delay: 0.02s;
}

.submenu.expanded .submenu-item:nth-child(2) {
  transition-delay: 0.04s;
}

.submenu.expanded .submenu-item:nth-child(3) {
  transition-delay: 0.06s;
}

.submenu.expanded .submenu-item:nth-child(4) {
  transition-delay: 0.08s;
}

.submenu.expanded .submenu-item:nth-child(5) {
  transition-delay: 0.1s;
}

.submenu.expanded .submenu-item:nth-child(6) {
  transition-delay: 0.12s;
}

.submenu.expanded .submenu-item:nth-child(7) {
  transition-delay: 0.14s;
}

.submenu.expanded .submenu-item:nth-child(8) {
  transition-delay: 0.16s;
}

.submenu.expanded .submenu-item:nth-child(9) {
  transition-delay: 0.18s;
}

.submenu.expanded .submenu-item:nth-child(10) {
  transition-delay: 0.2s;
}

.submenu.expanded .submenu-item:nth-child(11) {
  transition-delay: 0.22s;
}

.submenu.expanded .submenu-item:nth-child(12) {
  transition-delay: 0.24s;
}

.submenu.expanded .submenu-item:nth-child(13) {
  transition-delay: 0.26s;
}

.submenu.expanded .submenu-item:nth-child(14) {
  transition-delay: 0.28s;
}

.submenu.expanded .submenu-item:nth-child(15) {
  transition-delay: 0.3s;
}

/* Navigation Arrow Rotation */
.nav-item-arrow {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  transition: transform 0.3s var(--ease-out);
  opacity: 0.5;
}

/* Arrow points up when expanded, down when collapsed */
.nav-item.has-submenu.expanded .nav-item-arrow {
  transform: rotate(180deg);
}

/* Submenu Item Hover Effect */
.submenu-item {
  position: relative;
}

.submenu-item::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: 0;
  width: 0;
  height: 1px;
  background-color: var(--primary-black);
  transition: width var(--transition-fast);
}

.submenu-item:hover::after,
.submenu-item.active::after {
  width: 100%;
}

/* Mobile Navigation Slide Animation */
.side-nav {
  transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 0.35s ease-out;
}

@media (max-width: 767px) {
  .side-nav {
    transform: translateX(-100%);
    box-shadow: none;
  }

  .side-nav.open {
    transform: translateX(0);
    box-shadow: var(--shadow-xl);
  }

  /* Hide sidebar toggle on mobile */
  .sidebar-toggle {
    display: none !important;
  }

  /* Reset collapsed state on mobile */
  .side-nav.collapsed {
    width: var(--sidebar-width);
    padding: var(--space-6) var(--space-5);
    overflow-y: auto;
  }

  .side-nav.collapsed .nav-icon-wrapper {
    display: none;
  }

  .side-nav.collapsed .nav-item>span,
  .side-nav.collapsed .nav-item-arrow,
  .side-nav.collapsed .submenu,
  .side-nav.collapsed .nav-divider {
    display: block;
  }

  .side-nav.collapsed .nav-submenu-popup,
  .side-nav.collapsed .nav-tooltip {
    display: none !important;
  }

  body.sidebar-collapsed .main-content,
  body.sidebar-collapsed .site-footer {
    margin-left: 0;
  }
}

/* Mobile Overlay Fade Animation */
.mobile-overlay {
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.35s ease-out, visibility 0.35s ease-out;
}

.mobile-overlay.visible {
  opacity: 1;
  visibility: visible;
}

/* Mobile Menu Toggle Animation */
.mobile-menu-toggle span {
  display: block;
  width: 24px;
  height: 2px;
  background-color: var(--primary-black);
  margin: 3px 0;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  transform-origin: center;
}

.mobile-menu-toggle.active span:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}

.mobile-menu-toggle.active span:nth-child(2) {
  opacity: 0;
  transform: scaleX(0);
}

.mobile-menu-toggle.active span:nth-child(3) {
  transform: rotate(-45deg) translate(7px, -6px);
}

/* ===================================
   Card Hover Animations
   Requirements: 1.3, 1.7
   =================================== */

/* Tool Card Enhanced Hover */
.tool-card {
  transition: transform 0.4s var(--ease-out),
    box-shadow 0.4s var(--ease-out),
    border-color 0.3s ease-out;
}

.tool-card:hover {
  transform: translateY(-8px);
  box-shadow: var(--shadow-card-hover);
}

.tool-card:active {
  transform: translateY(-4px);
  transition-duration: 0.1s;
}

/* Card Image Zoom Effect */
.tool-card-image img {
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.tool-card:hover .tool-card-image img {
  transform: scale(1.08);
}

/* Card Overlay Slide Up */
.tool-card-overlay {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.4s ease-out, transform 0.4s var(--ease-out);
}

.tool-card:hover .tool-card-overlay {
  opacity: 1;
  transform: translateY(0);
}

/* Card Link Arrow Animation */
.tool-card-link-arrow {
  display: inline-block;
  transition: transform 0.3s var(--ease-out);
}

.tool-card-link:hover .tool-card-link-arrow {
  transform: translateX(6px);
}

/* ===================================
   Button Animations
   =================================== */

.btn {
  position: relative;
  overflow: hidden;
  transition: all 0.3s var(--ease-out);
}

.btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.6s ease-out, height 0.6s ease-out;
}

.btn:hover::before {
  width: 300px;
  height: 300px;
}

.btn:active {
  transform: scale(0.98);
  transition-duration: 0.1s;
}

/* ===================================
   Loading States
   =================================== */

/* Skeleton Loading Animation */
.skeleton {
  background: linear-gradient(90deg,
      var(--background-subtle) 25%,
      var(--background-hover) 50%,
      var(--background-subtle) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

/* Pulse Loading */
.loading-pulse {
  animation: pulse 1.5s ease-in-out infinite;
}

/* ===================================
   Micro-interactions
   Requirements: 1.8
   =================================== */

/* Focus Ring Animation */
:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
  animation: focusRing 0.2s ease-out;
}

@keyframes focusRing {
  from {
    outline-offset: 0;
    outline-color: transparent;
  }

  to {
    outline-offset: 2px;
    outline-color: var(--accent-blue);
  }
}

/* Tag Hover Effect */
.tool-tag {
  transition: all var(--transition-fast);
}

.tool-tag:hover {
  background-color: var(--primary-black);
  color: var(--primary-white);
  transform: scale(1.05);
}

/* Section Title Underline Animation */
.section-title {
  position: relative;
  display: inline-block;
}

.section-title::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -4px;
  width: 0;
  height: 2px;
  background-color: var(--primary-black);
  transition: width 0.6s var(--ease-out);
}

.section-title.visible::after,
.tool-section:hover .section-title::after {
  width: 60px;
}

/* ===================================
   Reduced Motion Support
   =================================== */

@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .scroll-animate,
  .scroll-animate-left,
  .scroll-animate-right,
  .scroll-animate-scale,
  .scroll-animate-stagger {
    opacity: 1;
    transform: none;
  }

  .stagger-1,
  .stagger-2,
  .stagger-3,
  .stagger-4,
  .stagger-5,
  .stagger-6,
  .stagger-7,
  .stagger-8,
  .stagger-9,
  .stagger-10,
  .stagger-11,
  .stagger-12 {
    opacity: 1;
  }

  .submenu-item {
    opacity: 1;
    transform: none;
  }
}

/* ===================================
   Workflow Editor Context Menu
   =================================== */

.context-menu-item {
  padding: 8px 16px;
  cursor: pointer;
  color: #e2e8f0;
  font-size: 13px;
  transition: background 0.2s;
}

.context-menu-item:hover {
  background: #334155;
}

/* ===================================
   Hero Section (for index.html)
   =================================== */

/* Task 11.1: Performance Optimization CSS
   使用GPU加速和减少重绘/回流
   Requirements: 3.1, 3.3, 3.7 */

/* GPU加速提示 - 将动画元素提升到独立图层 */
.hero-section,
.hero-particles-canvas,
.hero-title,
.hero-subtitle,
.hero-actions,
.hero-btn {
  will-change: transform, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* 减少重绘：使用transform代替top/left */
.hero-content {
  transform: translate3d(0, 0, 0);
}

/* 优化Canvas渲染 */
.hero-particles-canvas {
  image-rendering: optimizeSpeed;
  image-rendering: -webkit-optimize-contrast;
  contain: strict;
}

/* 主题切换过渡优化 */
.theme-transitioning .hero-section,
.theme-transitioning .hero-title,
.theme-transitioning .hero-subtitle,
.theme-transitioning .hero-actions {
  transition: background-color 0.5s ease, color 0.5s ease, opacity 0.5s ease;
}

/* 低性能模式：禁用复杂效果 */
.hero-section.low-performance .hero-title-text,
.hero-section.low-performance .hero-subtitle-text {
  animation: none !important;
  text-shadow: none !important;
}

.hero-section.low-performance .hero-btn {
  animation: none !important;
  box-shadow: none !important;
}

/* 减少动画偏好：简化所有动画 */
@media (prefers-reduced-motion: reduce) {

  .hero-section *,
  .hero-section *::before,
  .hero-section *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .hero-particles-canvas {
    display: none !important;
  }

  .hero-title,
  .hero-subtitle,
  .hero-actions {
    opacity: 1 !important;
    transform: none !important;
  }
}

/* Task 11.2: 静态回退样式 - 在动画加载前显示内容
   确保首次内容绘制（FCP）在1.5秒内完成
   Requirements: 9.3, 9.5 */
.hero-static-fallback .hero-title,
.hero-static-fallback .hero-subtitle,
.hero-static-fallback .hero-actions {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 0.3s ease, transform 0.3s ease;
}

/* Canvas不支持时的CSS-only动画回退 */
.hero-section.no-canvas-fallback::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background:
    radial-gradient(circle at 20% 30%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba(6, 182, 212, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 50% 50%, rgba(59, 130, 246, 0.05) 0%, transparent 70%);
  animation: heroBackgroundPulse 8s ease-in-out infinite;
  pointer-events: none;
  z-index: 1;
}

@keyframes heroBackgroundPulse {

  0%,
  100% {
    opacity: 0.5;
    transform: scale(1);
  }

  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

/* 无动画支持时的完全静态回退 */
.hero-section.no-animation-fallback .hero-title,
.hero-section.no-animation-fallback .hero-subtitle,
.hero-section.no-animation-fallback .hero-actions {
  opacity: 1 !important;
  transform: none !important;
  animation: none !important;
}

.hero-section.no-animation-fallback::before {
  animation: none !important;
  opacity: 0.6;
}

/* Hero Animation CSS Variables */
:root {
  /* Light Mode Colors */
  --hero-light-bg: #f8fafc;
  --hero-light-title: #1e3a5f;
  --hero-light-subtitle: #64748b;
  --hero-light-particle-1: #87ceeb;
  --hero-light-particle-2: #ffffff;
  --hero-light-particle-3: #b0e0e6;

  /* Dark Mode Colors */
  --hero-dark-bg: #0a0f1a;
  --hero-dark-title: #ffffff;
  --hero-dark-subtitle: #22d3ee;
  --hero-dark-glow-1: #8b5cf6;
  --hero-dark-glow-2: #3b82f6;
  --hero-dark-glow-3: #06b6d4;
  --hero-dark-btn-primary: #06b6d4;
  --hero-dark-btn-glow: rgba(6, 182, 212, 0.5);

  /* Animation Timings */
  --hero-title-duration: 1.5s;
  --hero-subtitle-delay: 1s;
  --hero-subtitle-duration: 1s;
  --hero-btn-delay: 2s;
  --hero-btn-duration: 0.8s;
  --hero-glow-duration: 3s;
  --hero-shimmer-duration: 2s;
  --hero-pulse-duration: 2s;

  /* Animation Easings */
  --hero-ease-out: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --hero-ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.hero-section {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-20) var(--space-6);
  position: relative;
  overflow: hidden;
  transition: background 0.5s ease;
}

/* Light Mode Hero */
.hero-section[data-theme="light"] {
  background: var(--hero-light-bg);
}

/* Dark Mode Hero */
.hero-section[data-theme="dark"] {
  background: var(--hero-dark-bg);
}

/* Particle Canvas */
.hero-particles-canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none;
}

.hero-content {
  text-align: center;
  max-width: 900px;
  z-index: 2;
  position: relative;
}

/* Hero Title Base Styles */
.hero-title {
  font-size: clamp(2.5rem, 8vw, 5rem);
  font-weight: var(--font-extrabold);
  letter-spacing: var(--tracking-tight);
  line-height: 1;
  margin-bottom: var(--space-6);
  position: relative;
  opacity: 1;
  transform: translateY(0);
}

/* Animation initial state - only when JS is ready */
.hero-section.js-ready .hero-title {
  opacity: 0;
  transform: translateY(30px);
}

/* Light mode initial state - scale down for pop-in bounce */
.hero-section.js-ready[data-theme="light"] .hero-title {
  opacity: 0;
  transform: scale(0.3);
}

.hero-title-text {
  display: inline-block;
  position: relative;
}

/* Light Mode Title Animation */
.hero-section[data-theme="light"] .hero-title {
  color: var(--hero-light-title);
}

.hero-section[data-theme="light"] .hero-title.animate {
  animation: heroTitlePopInBounce 0.8s var(--hero-ease-bounce) forwards;
}

/* Dark Mode Title - Typewriter + Neon Glow */
.hero-section[data-theme="dark"] .hero-title {
  color: var(--hero-dark-title);
}

.hero-section[data-theme="dark"] .hero-title.animate {
  opacity: 1;
  transform: translateY(0);
}

.hero-section[data-theme="dark"] .hero-title-text {
  text-shadow:
    0 0 10px var(--hero-dark-glow-3),
    0 0 20px var(--hero-dark-glow-2),
    0 0 30px var(--hero-dark-glow-1),
    0 0 40px var(--hero-dark-glow-1);
  animation: heroNeonGlow var(--hero-glow-duration) ease-in-out infinite;
}

/* Typewriter cursor for dark mode */
.hero-title-cursor {
  display: inline-block;
  width: 3px;
  height: 1em;
  background: var(--hero-dark-glow-3);
  margin-left: 5px;
  animation: heroCursorBlink 0.7s infinite;
  vertical-align: middle;
}

/* Hero Subtitle Base Styles */
.hero-subtitle {
  font-size: clamp(1rem, 2.5vw, 1.35rem);
  font-weight: var(--font-light);
  margin-bottom: var(--space-10);
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  line-height: var(--leading-relaxed);
  opacity: 1;
  transform: translateY(0);
}

/* Animation initial state - only when JS is ready */
.hero-section.js-ready .hero-subtitle {
  opacity: 0;
  transform: translateY(20px);
}

/* Light mode initial state - scale down for pop-in bounce */
.hero-section.js-ready[data-theme="light"] .hero-subtitle {
  opacity: 0;
  transform: scale(0.5) translateY(10px);
}

/* Light Mode Subtitle */
.hero-section[data-theme="light"] .hero-subtitle {
  color: var(--hero-light-subtitle);
}

.hero-section[data-theme="light"] .hero-subtitle.animate {
  animation: heroSubtitlePopInBounce 0.6s var(--hero-ease-bounce) forwards;
  animation-delay: var(--hero-subtitle-delay);
}

/* Dark Mode Subtitle - Shimmer Effect */
.hero-section[data-theme="dark"] .hero-subtitle {
  color: var(--hero-dark-subtitle);
}

.hero-section[data-theme="dark"] .hero-subtitle.animate {
  animation: heroSubtitleFadeIn var(--hero-subtitle-duration) var(--hero-ease-out) forwards;
  animation-delay: calc(var(--hero-subtitle-delay) + 1.5s);
}

/* Light Mode Subtitle Text - Reset dark mode effects */
.hero-section[data-theme="light"] .hero-subtitle-text {
  background: none;
  -webkit-background-clip: initial;
  background-clip: initial;
  -webkit-text-fill-color: inherit;
  animation: none;
}

.hero-section[data-theme="dark"] .hero-subtitle-text {
  background: linear-gradient(90deg,
      var(--hero-dark-subtitle) 0%,
      #ffffff 50%,
      var(--hero-dark-subtitle) 100%);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: heroShimmer var(--hero-shimmer-duration) ease-in-out infinite;
  animation-delay: 4s;
}

/* Hero Actions (Buttons) - Fixed position, no animation */
.hero-actions {
  display: flex;
  gap: var(--space-6);
  justify-content: center;
  flex-wrap: wrap;
  opacity: 1 !important;
  transform: none !important;
}

/* Animation initial state - DISABLED to fix button position */
/* .hero-section.js-ready .hero-actions {
  opacity: 0;
  transform: translateY(30px);
} */

/* Animation trigger - DISABLED to fix button position */
/* .hero-actions.animate {
  animation: heroBtnBounceIn var(--hero-btn-duration) var(--hero-ease-bounce) forwards;
  animation-delay: var(--hero-btn-delay);
} */

/* Task 8.3: Focus styles for CTA buttons */
.hero-btn:focus {
  outline: none;
}

.hero-btn:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 3px;
}

/* Light Mode Buttons */
.hero-section[data-theme="light"] .hero-btn--primary {
  background: var(--hero-light-title) !important;
  color: #ffffff !important;
  border: none !important;
}

.hero-section[data-theme="light"] .hero-btn--primary:focus-visible {
  outline-color: var(--hero-light-title);
  box-shadow: 0 0 0 4px rgba(30, 58, 95, 0.3);
}

.hero-section[data-theme="light"] .hero-btn--secondary {
  background: transparent !important;
  color: var(--hero-light-title) !important;
  border: 2px solid var(--hero-light-title) !important;
}

.hero-section[data-theme="light"] .hero-btn--secondary:focus-visible {
  outline-color: var(--hero-light-title);
  box-shadow: 0 0 0 4px rgba(30, 58, 95, 0.3);
}

/* Dark Mode Buttons - Neon Effect */
/* Requirements: 2.8, 2.9, 2.10 */

/* Primary Button - 青色霓虹填充效果 */
.hero-section[data-theme="dark"] .hero-btn--primary {
  background: var(--hero-dark-btn-primary) !important;
  color: var(--hero-dark-bg) !important;
  border: none !important;
  box-shadow:
    0 0 10px var(--hero-dark-btn-glow),
    0 0 20px rgba(6, 182, 212, 0.3),
    inset 0 0 10px rgba(255, 255, 255, 0.1) !important;
  text-shadow: 0 0 5px rgba(10, 15, 26, 0.5) !important;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

.hero-section[data-theme="dark"] .hero-btn--primary:focus-visible {
  outline-color: var(--hero-dark-btn-primary);
  box-shadow:
    0 0 10px var(--hero-dark-btn-glow),
    0 0 20px rgba(6, 182, 212, 0.3),
    0 0 0 4px rgba(6, 182, 212, 0.4);
}

.hero-section[data-theme="dark"] .hero-btn--primary::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent);
  transition: left 0.5s ease;
}

.hero-section[data-theme="dark"] .hero-btn--primary:hover {
  background: #0dd3e8;
  box-shadow:
    0 0 15px var(--hero-dark-btn-glow),
    0 0 30px rgba(6, 182, 212, 0.4),
    0 0 45px rgba(6, 182, 212, 0.2),
    inset 0 0 15px rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
}

.hero-section[data-theme="dark"] .hero-btn--primary:hover::before {
  left: 100%;
}

.hero-section[data-theme="dark"] .hero-btn--primary:active {
  transform: translateY(0);
  box-shadow:
    0 0 10px var(--hero-dark-btn-glow),
    0 0 20px rgba(6, 182, 212, 0.3);
}

/* Secondary Button - 青色霓虹边框效果 */
.hero-section[data-theme="dark"] .hero-btn--secondary {
  background: transparent !important;
  color: var(--hero-dark-btn-primary) !important;
  border: 2px solid var(--hero-dark-btn-primary) !important;
  box-shadow:
    0 0 10px var(--hero-dark-btn-glow),
    inset 0 0 10px rgba(6, 182, 212, 0.1) !important;
  text-shadow: 0 0 10px rgba(6, 182, 212, 0.5) !important;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

.hero-section[data-theme="dark"] .hero-btn--secondary:focus-visible {
  outline-color: var(--hero-dark-btn-primary);
  box-shadow:
    0 0 10px var(--hero-dark-btn-glow),
    inset 0 0 10px rgba(6, 182, 212, 0.1),
    0 0 0 4px rgba(6, 182, 212, 0.4);
}

.hero-section[data-theme="dark"] .hero-btn--secondary::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg,
      rgba(6, 182, 212, 0.1) 0%,
      transparent 50%,
      rgba(6, 182, 212, 0.1) 100%);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.hero-section[data-theme="dark"] .hero-btn--secondary:hover {
  background: rgba(6, 182, 212, 0.1);
  border-color: #0dd3e8;
  color: #0dd3e8;
  box-shadow:
    0 0 15px var(--hero-dark-btn-glow),
    0 0 30px rgba(6, 182, 212, 0.3),
    inset 0 0 20px rgba(6, 182, 212, 0.15);
  transform: translateY(-2px);
}

.hero-section[data-theme="dark"] .hero-btn--secondary:hover::before {
  opacity: 1;
}

.hero-section[data-theme="dark"] .hero-btn--secondary:active {
  transform: translateY(0);
  box-shadow:
    0 0 10px var(--hero-dark-btn-glow),
    inset 0 0 10px rgba(6, 182, 212, 0.1);
}

/* Pulse Animation - 脉动发光动画 */
.hero-section[data-theme="dark"] .hero-btn.pulse {
  animation: heroBtnPulse var(--hero-pulse-duration) ease-in-out infinite;
}

.hero-section[data-theme="dark"] .hero-btn--primary.pulse {
  animation: heroBtnPulsePrimary var(--hero-pulse-duration) ease-in-out infinite;
}

.hero-section[data-theme="dark"] .hero-btn--secondary.pulse {
  animation: heroBtnPulseSecondary var(--hero-pulse-duration) ease-in-out infinite;
}

/* Theme Toggle Button - Elegant Circular Design */
.hero-theme-toggle {
  position: absolute;
  top: calc(var(--header-height) + var(--space-4));
  right: var(--space-6);
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: none;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  cursor: pointer;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
}

.hero-theme-toggle:hover {
  transform: scale(1.1);
  background: rgba(255, 255, 255, 0.2);
}

.hero-theme-toggle:active {
  transform: scale(0.95);
}

/* Task 8.3: Focus styles for accessibility */
.hero-theme-toggle:focus {
  outline: none;
}

.hero-theme-toggle:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 3px;
  box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.3);
}

/* Light mode theme toggle */
.hero-section[data-theme="light"] .hero-theme-toggle {
  color: var(--hero-light-title);
  background: rgba(0, 0, 0, 0.05);
}

.hero-section[data-theme="light"] .hero-theme-toggle:hover {
  background: rgba(0, 0, 0, 0.1);
}

/* Dark mode theme toggle */
.hero-section[data-theme="dark"] .hero-theme-toggle {
  color: var(--hero-dark-subtitle);
  background: rgba(255, 255, 255, 0.1);
  box-shadow: 0 0 20px rgba(6, 182, 212, 0.2);
}

.hero-section[data-theme="dark"] .hero-theme-toggle:hover {
  background: rgba(255, 255, 255, 0.2);
  box-shadow: 0 0 30px rgba(6, 182, 212, 0.4);
}

/* Theme icon styles */
.theme-icon {
  width: 20px;
  height: 20px;
  position: absolute;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Light mode - show moon icon (to switch to dark) */
.hero-section[data-theme="light"] .theme-icon--sun {
  opacity: 0;
  transform: rotate(-90deg) scale(0.5);
}

.hero-section[data-theme="light"] .theme-icon--moon {
  opacity: 1;
  transform: rotate(0deg) scale(1);
}

/* Dark mode - show sun icon (to switch to light) */
.hero-section[data-theme="dark"] .theme-icon--sun {
  opacity: 1;
  transform: rotate(0deg) scale(1);
}

.hero-section[data-theme="dark"] .theme-icon--moon {
  opacity: 0;
  transform: rotate(90deg) scale(0.5);
}

/* Pause Toggle Button - Matching Circular Design */
.hero-pause-toggle {
  position: absolute;
  top: calc(var(--header-height) + var(--space-4));
  right: calc(var(--space-6) + 56px);
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: none;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  cursor: pointer;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
}

.hero-pause-toggle:hover {
  transform: scale(1.1);
  background: rgba(255, 255, 255, 0.2);
}

.hero-pause-toggle:active {
  transform: scale(0.95);
}

/* Light mode pause toggle */
.hero-section[data-theme="light"] .hero-pause-toggle {
  color: var(--hero-light-title);
  background: rgba(0, 0, 0, 0.05);
}

.hero-section[data-theme="light"] .hero-pause-toggle:hover {
  background: rgba(0, 0, 0, 0.1);
}

/* Dark mode pause toggle */
.hero-section[data-theme="dark"] .hero-pause-toggle {
  color: var(--hero-dark-subtitle);
  background: rgba(255, 255, 255, 0.1);
}

.hero-section[data-theme="dark"] .hero-pause-toggle:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* Task 8.3: Focus styles for accessibility */
.hero-pause-toggle:focus {
  outline: none;
}

.hero-pause-toggle:focus-visible {
  opacity: 1;
  outline: 2px solid currentColor;
  outline-offset: 3px;
  box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.3);
}

.hero-section[data-theme="light"] .hero-pause-toggle {
  color: var(--hero-light-title);
}

.hero-section[data-theme="dark"] .hero-pause-toggle {
  color: var(--hero-dark-subtitle);
}

/* ===================================
   Theme Transition Effects
   Task 2.3: 主题切换过渡动画
   Task 5.1: 优化主题切换性能
   Requirements: 5.2, 5.5, 7.1, 7.2, 7.4
   =================================== */

/* 全局主题过渡 - 使用 GPU 加速和优化的缓动函数 */
.theme-transitioning,
.theme-transitioning *,
.theme-transitioning *::before,
.theme-transitioning *::after {
  transition:
    background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    border-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
  will-change: background-color, color;
}

/* Hero Section 主题过渡 - 优化性能 */
.hero-section.theme-transitioning {
  transition:
    background 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
  will-change: background;
  transform: translateZ(0);
  /* 强制 GPU 加速 */
}

.hero-section.theme-transitioning .hero-title,
.hero-section.theme-transitioning .hero-subtitle,
.hero-section.theme-transitioning .hero-btn {
  transition:
    color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    border-color 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    text-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
  will-change: color, background-color;
}

/* 主题切换按钮图标过渡增强 */
.hero-theme-toggle .theme-icon {
  transition:
    opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 主题切换时的按钮旋转效果 */
.theme-transitioning .hero-theme-toggle {
  animation: themeToggleRotate 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes themeToggleRotate {
  0% {
    transform: rotate(0deg) scale(1);
  }

  50% {
    transform: rotate(180deg) scale(1.15);
  }

  100% {
    transform: rotate(360deg) scale(1);
  }
}

/* 保留旧的动画名称以兼容 */
@keyframes themeToggleSpin {
  0% {
    transform: rotate(0deg) scale(1);
  }

  50% {
    transform: rotate(180deg) scale(1.2);
  }

  100% {
    transform: rotate(360deg) scale(1);
  }
}

/* 粒子Canvas过渡 - 淡入淡出 */
.hero-section.theme-transitioning .hero-particles-canvas {
  transition: opacity 0.5s ease !important;
}

/* 防止过渡期间的闪烁 */
.theme-transitioning .hero-content {
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* 主题刷新辅助类 - 用于强制样式重新计算 */
/* Note: .theme-refresh class is intentionally empty and used only to trigger browser style recalculation */

.pause-icon {
  width: 16px;
  height: 16px;
  position: absolute;
  transition: opacity 0.3s ease;
}

.pause-icon--play {
  opacity: 0;
}

.hero-pause-toggle.paused .pause-icon--pause {
  opacity: 0;
}

.hero-pause-toggle.paused .pause-icon--play {
  opacity: 1;
}

/* Hero Animations Keyframes */

/* 白天模式 - 标题弹出弹跳动画 */
@keyframes heroTitlePopInBounce {
  0% {
    opacity: 0;
    transform: scale(0.3);
  }

  50% {
    opacity: 1;
    transform: scale(1.1);
  }

  70% {
    transform: scale(0.95);
  }

  85% {
    transform: scale(1.02);
  }

  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* 白天模式 - 副标题弹出弹跳动画 */
@keyframes heroSubtitlePopInBounce {
  0% {
    opacity: 0;
    transform: scale(0.5) translateY(10px);
  }

  60% {
    opacity: 1;
    transform: scale(1.08) translateY(-3px);
  }

  80% {
    transform: scale(0.98) translateY(1px);
  }

  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* 保留旧的渐显动画作为备用 */
@keyframes heroTitleFadeUp {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes heroSubtitleSlideUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes heroSubtitleFadeIn {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes heroBtnBounceIn {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }

  60% {
    opacity: 1;
    transform: translateY(-10px);
  }

  80% {
    transform: translateY(5px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes heroNeonGlow {

  0%,
  100% {
    text-shadow:
      0 0 10px var(--hero-dark-glow-3),
      0 0 20px var(--hero-dark-glow-2),
      0 0 30px var(--hero-dark-glow-1),
      0 0 40px var(--hero-dark-glow-1);
  }

  33% {
    text-shadow:
      0 0 10px var(--hero-dark-glow-1),
      0 0 20px var(--hero-dark-glow-3),
      0 0 30px var(--hero-dark-glow-2),
      0 0 40px var(--hero-dark-glow-2);
  }

  66% {
    text-shadow:
      0 0 10px var(--hero-dark-glow-2),
      0 0 20px var(--hero-dark-glow-1),
      0 0 30px var(--hero-dark-glow-3),
      0 0 40px var(--hero-dark-glow-3);
  }
}

@keyframes heroCursorBlink {

  0%,
  50% {
    opacity: 1;
  }

  51%,
  100% {
    opacity: 0;
  }
}

@keyframes heroShimmer {
  0% {
    background-position: 200% 0;
  }

  100% {
    background-position: -200% 0;
  }
}

/* Shimmer Active State - triggered by JavaScript */
.hero-subtitle-text.shimmer-active {
  background: linear-gradient(90deg,
      var(--hero-dark-subtitle) 0%,
      #ffffff 50%,
      var(--hero-dark-subtitle) 100%);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: heroShimmer var(--hero-shimmer-duration) ease-in-out infinite;
}

@keyframes heroBtnPulse {

  0%,
  100% {
    box-shadow: 0 0 15px var(--hero-dark-btn-glow);
  }

  50% {
    box-shadow: 0 0 25px var(--hero-dark-btn-glow), 0 0 35px rgba(6, 182, 212, 0.3);
  }
}

/* Primary Button Pulse - 青色霓虹填充脉动 */
@keyframes heroBtnPulsePrimary {

  0%,
  100% {
    box-shadow:
      0 0 10px var(--hero-dark-btn-glow),
      0 0 20px rgba(6, 182, 212, 0.3),
      inset 0 0 10px rgba(255, 255, 255, 0.1);
  }

  50% {
    box-shadow:
      0 0 20px var(--hero-dark-btn-glow),
      0 0 40px rgba(6, 182, 212, 0.4),
      0 0 60px rgba(6, 182, 212, 0.2),
      inset 0 0 15px rgba(255, 255, 255, 0.15);
  }
}

/* Secondary Button Pulse - 青色霓虹边框脉动 */
@keyframes heroBtnPulseSecondary {

  0%,
  100% {
    box-shadow:
      0 0 10px var(--hero-dark-btn-glow),
      inset 0 0 10px rgba(6, 182, 212, 0.1);
    border-color: var(--hero-dark-btn-primary);
  }

  50% {
    box-shadow:
      0 0 20px var(--hero-dark-btn-glow),
      0 0 35px rgba(6, 182, 212, 0.3),
      inset 0 0 20px rgba(6, 182, 212, 0.15);
    border-color: #0dd3e8;
  }
}

/* ===================================
   Task 8.1: Reduced Motion Support
   可访问性 - 减少动画偏好支持
   Requirements: 6.1, 6.2, 6.4
   =================================== */

/* Reduced Motion via Media Query */
@media (prefers-reduced-motion: reduce) {

  .hero-title,
  .hero-subtitle,
  .hero-actions {
    opacity: 1;
    transform: none;
    animation: none !important;
  }

  .hero-title-text {
    animation: none !important;
    text-shadow: none !important;
  }

  .hero-subtitle-text {
    animation: none !important;
    -webkit-text-fill-color: currentColor;
    background: none;
  }

  .hero-btn {
    animation: none !important;
  }

  .hero-particles-canvas {
    display: none;
  }

  .scroll-indicator {
    animation: none !important;
  }
}

/* Reduced Motion via JavaScript Class (body.reduced-motion) */
body.reduced-motion .hero-title,
body.reduced-motion .hero-subtitle,
body.reduced-motion .hero-actions {
  opacity: 1 !important;
  transform: none !important;
  animation: none !important;
  transition: none !important;
}

body.reduced-motion .hero-title-text {
  animation: none !important;
  text-shadow: none !important;
}

body.reduced-motion .hero-subtitle-text {
  animation: none !important;
  -webkit-text-fill-color: currentColor !important;
  background: none !important;
}

body.reduced-motion .hero-btn {
  animation: none !important;
  transition: background-color 0.2s ease, color 0.2s ease !important;
}

body.reduced-motion .hero-btn.pulse {
  animation: none !important;
}

body.reduced-motion .hero-particles-canvas {
  display: none !important;
}

body.reduced-motion .scroll-indicator {
  animation: none !important;
}

/* Hero Section with reduced-motion attribute */
.hero-section[data-reduced-motion="true"] .hero-title,
.hero-section[data-reduced-motion="true"] .hero-subtitle,
.hero-section[data-reduced-motion="true"] .hero-actions {
  opacity: 1 !important;
  transform: none !important;
  animation: none !important;
}

.hero-section[data-reduced-motion="true"] .hero-particles-canvas {
  display: none !important;
}

/* Scroll Indicator */
.scroll-indicator {
  position: absolute;
  bottom: var(--space-8);
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2);
  opacity: 0.6;
  animation: bounce 2s infinite;
  z-index: 2;
}

.hero-section[data-theme="light"] .scroll-indicator {
  color: var(--hero-light-subtitle);
}

.hero-section[data-theme="dark"] .scroll-indicator {
  color: var(--hero-dark-subtitle);
}

.scroll-line {
  width: 1px;
  height: 40px;
  background-color: currentColor;
}

.scroll-text {
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: var(--tracking-widest);
  writing-mode: vertical-rl;
  text-orientation: mixed;
}

@keyframes bounce {

  0%,
  20%,
  50%,
  80%,
  100% {
    transform: translateX(-50%) translateY(0);
  }

  40% {
    transform: translateX(-50%) translateY(-10px);
  }

  60% {
    transform: translateX(-50%) translateY(-5px);
  }
}

/* ===================================
   Responsive Hero Styles
   Task 7.1: 响应式布局调整
   Requirements: 4.1, 4.4
   =================================== */

/* Tablet (768px - 1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
  .hero-section {
    padding: var(--space-16) var(--space-6);
  }

  .hero-title {
    font-size: clamp(2.5rem, 8vw, 3.5rem);
    margin-bottom: var(--space-5);
  }

  .hero-subtitle {
    font-size: clamp(1rem, 3vw, 1.15rem);
    margin-bottom: var(--space-10);
  }

  .hero-actions {
    gap: var(--space-5);
  }

  .hero-btn {
    padding: var(--space-3) var(--space-5);
    font-size: var(--text-sm);
  }

  .hero-theme-toggle,
  .hero-pause-toggle {
    width: 42px;
    height: 42px;
  }
}

/* Mobile (max-width: 767px) */
@media (max-width: 767px) {
  .hero-section {
    padding: var(--space-12) var(--space-4);
    min-height: calc(100vh - 60px);
  }

  .hero-content {
    padding: 0 var(--space-2);
  }

  .hero-theme-toggle,
  .hero-pause-toggle {
    width: 40px;
    height: 40px;
    top: calc(var(--header-height) + var(--space-2));
  }

  .hero-theme-toggle {
    right: var(--space-4);
  }

  .hero-pause-toggle {
    right: calc(var(--space-4) + 48px);
  }

  .hero-title {
    font-size: clamp(1.75rem, 9vw, 2.5rem);
    margin-bottom: var(--space-4);
    line-height: 1.2;
  }

  .hero-subtitle {
    font-size: clamp(0.875rem, 4vw, 1rem);
    margin-bottom: var(--space-8);
    line-height: 1.5;
  }

  .hero-actions {
    flex-direction: column;
    gap: var(--space-4);
    width: 100%;
    max-width: 320px;
    margin: 0 auto;
  }

  .hero-btn {
    width: 100%;
    padding: var(--space-3) var(--space-4);
    font-size: var(--text-sm);
    min-height: 48px;
    /* Touch-friendly size */
  }

  /* Simplify neon effects on mobile for performance */
  .hero-section[data-theme="dark"] .hero-btn--primary {
    box-shadow: 0 0 8px var(--hero-dark-btn-glow);
  }

  .hero-section[data-theme="dark"] .hero-btn--secondary {
    box-shadow: 0 0 6px var(--hero-dark-btn-glow);
  }

  /* Reduce glow intensity on mobile */
  .hero-section[data-theme="dark"] .hero-title-text {
    text-shadow:
      0 0 8px var(--hero-dark-glow-3),
      0 0 15px var(--hero-dark-glow-2);
  }
}

/* Small Mobile (max-width: 480px) */
@media (max-width: 480px) {
  .hero-section {
    padding: var(--space-10) var(--space-3);
  }

  .hero-title {
    font-size: clamp(1.5rem, 8vw, 2rem);
  }

  .hero-subtitle {
    font-size: 0.875rem;
  }

  .hero-actions {
    max-width: 280px;
  }

  .hero-btn {
    font-size: var(--text-xs);
    padding: var(--space-3) var(--space-3);
  }

  .hero-theme-toggle,
  .hero-pause-toggle {
    width: 36px;
    height: 36px;
    top: calc(var(--header-height) + var(--space-2));
  }

  .hero-theme-toggle {
    right: var(--space-3);
  }

  .hero-pause-toggle {
    right: calc(var(--space-3) + 42px);
  }

  .theme-icon {
    width: 16px;
    height: 16px;
  }

  .pause-icon {
    width: 14px;
    height: 14px;
  }
}

/* ===================================
   Buttons
   =================================== */

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-3) var(--space-6);
  font-size: var(--text-sm);
  font-weight: var(--font-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  border: 2px solid transparent;
  border-radius: 0;
  cursor: pointer;
  transition: all var(--transition-normal);
  text-decoration: none;
  min-width: 120px;
}

.btn--primary {
  background-color: var(--primary-black);
  color: var(--primary-white);
  border-color: var(--primary-black);
}

.btn--primary:hover {
  background-color: var(--primary-white);
  color: var(--primary-black);
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.btn--secondary {
  background-color: transparent;
  color: var(--primary-black);
  border-color: var(--primary-black);
}

.btn--secondary:hover {
  background-color: var(--primary-black);
  color: var(--primary-white);
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.btn--small {
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-xs);
  min-width: auto;
}

.btn--rounded {
  border-radius: var(--radius-full);
}


/* ===================================
   Footer
   =================================== */

.site-footer {
  background-color: var(--primary-black);
  color: var(--primary-white);
  padding: var(--space-16) 0 var(--space-8);
  margin-left: var(--sidebar-width);
}

.footer-content {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-12);
  margin-bottom: var(--space-12);
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
  padding: 0 var(--content-padding);
}

@media (min-width: 768px) {
  .footer-content {
    grid-template-columns: 1fr 2fr;
  }
}

.footer-brand {
  max-width: 300px;
}

.footer-title {
  font-size: var(--text-2xl);
  font-weight: var(--font-extrabold);
  margin-bottom: var(--space-4);
  color: var(--primary-white);
}

.footer-description {
  color: rgba(255, 255, 255, 0.7);
  line-height: var(--leading-relaxed);
}

.footer-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: var(--space-8);
}

.footer-column-title {
  font-size: var(--text-md);
  font-weight: var(--font-semibold);
  margin-bottom: var(--space-4);
  color: var(--primary-white);
}

.footer-list {
  list-style: none;
}

.footer-list li {
  margin-bottom: var(--space-2);
}

.footer-link {
  color: rgba(255, 255, 255, 0.7);
  font-size: var(--text-sm);
  transition: color var(--transition-fast);
}

.footer-link:hover {
  color: var(--primary-white);
}

.footer-bottom {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: var(--space-8);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  flex-wrap: wrap;
  gap: var(--space-4);
  max-width: 1200px;
  margin: 0 auto;
  padding-left: var(--content-padding);
  padding-right: var(--content-padding);
}

.footer-copyright {
  color: rgba(255, 255, 255, 0.5);
  font-size: var(--text-sm);
}

.footer-social {
  display: flex;
  gap: var(--space-3);
}

.social-link {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: var(--radius-full);
  color: rgba(255, 255, 255, 0.7);
  transition: all var(--transition-fast);
  border: none;
  cursor: pointer;
}

.social-link:hover {
  background-color: var(--primary-white);
  color: var(--primary-black);
}

/* Bookmark button styles */
.social-link.bookmark-btn {
  width: auto;
  padding: 0 12px;
  gap: 6px;
}

/* 默认状态 - 白色（未收藏） */
.social-link.bookmark-btn svg {
  color: rgba(255, 255, 255, 0.7);
  fill: rgba(255, 255, 255, 0.7);
  transition: transform 0.2s, color 0.2s;
}

.social-link.bookmark-btn:hover svg {
  transform: scale(1.2);
}

.social-link.bookmark-btn.bookmarked svg {
  animation: bookmarkAnimation 0.3s ease;
}

/* 已收藏状态 - 黄色 */
.social-link.bookmark-btn.active svg {
  color: #f59e0b;
  fill: #f59e0b;
}

@keyframes bookmarkAnimation {
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.4);
  }

  100% {
    transform: scale(1);
  }
}

.bookmark-count {
  font-size: 14px;
  font-weight: 500;
  color: rgba(255, 255, 255, 0.9);
}

/* Bookmark Toast - 简洁透明风格 */
.bookmark-toast {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) translateY(10px);
  z-index: 10000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
  pointer-events: none;
}

.bookmark-toast.show {
  opacity: 1;
  visibility: visible;
  transform: translate(-50%, -50%) translateY(0);
  pointer-events: auto;
}

.bookmark-toast-text {
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 8px;
  padding: 14px 24px;
  font-size: 14px;
  color: rgba(255, 255, 255, 0.9);
  text-align: center;
  margin: 0;
  white-space: nowrap;
}

.bookmark-toast-text kbd {
  display: inline-block;
  background: rgba(0, 255, 204, 0.15);
  border: 1px solid rgba(0, 255, 204, 0.3);
  border-radius: 4px;
  padding: 2px 6px;
  font-family: inherit;
  font-size: 13px;
  font-weight: 500;
  color: #00ffcc;
  margin: 0 2px;
}

/* Light mode bookmark toast */
[data-theme="light"] .bookmark-toast-text {
  background: rgba(255, 255, 255, 0.85);
  border-color: rgba(0, 0, 0, 0.08);
  color: #1e293b;
}

[data-theme="light"] .bookmark-toast-text kbd {
  background: rgba(59, 130, 246, 0.1);
  border-color: rgba(59, 130, 246, 0.25);
  color: #2563eb;
}

/* Footer Responsive */
@media (max-width: 767px) {
  .site-footer {
    margin-left: 0;
    padding: var(--space-12) 0 var(--space-6);
  }

  .footer-content {
    padding: 0 var(--content-padding-mobile);
  }

  .footer-bottom {
    flex-direction: column;
    text-align: center;
    padding-left: var(--content-padding-mobile);
    padding-right: var(--content-padding-mobile);
  }
}

/* ===================================
   Utility Classes
   =================================== */

/* Screen Reader Only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Text Alignment */
.text-center {
  text-align: center;
}

.text-left {
  text-align: left;
}

.text-right {
  text-align: right;
}

/* Font Weights */
.font-light {
  font-weight: var(--font-light);
}

.font-normal {
  font-weight: var(--font-normal);
}

.font-medium {
  font-weight: var(--font-medium);
}

.font-semibold {
  font-weight: var(--font-semibold);
}

.font-bold {
  font-weight: var(--font-bold);
}

.font-extrabold {
  font-weight: var(--font-extrabold);
}

/* Opacity */
.opacity-0 {
  opacity: 0;
}

.opacity-25 {
  opacity: 0.25;
}

.opacity-50 {
  opacity: 0.5;
}

.opacity-75 {
  opacity: 0.75;
}

.opacity-100 {
  opacity: 1;
}

/* Display */
.hidden {
  display: none;
}

.block {
  display: block;
}

.inline-block {
  display: inline-block;
}

.flex {
  display: flex;
}

.inline-flex {
  display: inline-flex;
}

.grid {
  display: grid;
}

/* Flex Utilities */
.flex-col {
  flex-direction: column;
}

.flex-wrap {
  flex-wrap: wrap;
}

.items-center {
  align-items: center;
}

.items-start {
  align-items: flex-start;
}

.items-end {
  align-items: flex-end;
}

.justify-center {
  justify-content: center;
}

.justify-between {
  justify-content: space-between;
}

.justify-start {
  justify-content: flex-start;
}

.justify-end {
  justify-content: flex-end;
}

.gap-1 {
  gap: var(--space-1);
}

.gap-2 {
  gap: var(--space-2);
}

.gap-3 {
  gap: var(--space-3);
}

.gap-4 {
  gap: var(--space-4);
}

.gap-6 {
  gap: var(--space-6);
}

.gap-8 {
  gap: var(--space-8);
}

/* Spacing */
.m-0 {
  margin: 0;
}

.mt-4 {
  margin-top: var(--space-4);
}

.mt-6 {
  margin-top: var(--space-6);
}

.mt-8 {
  margin-top: var(--space-8);
}

.mb-4 {
  margin-bottom: var(--space-4);
}

.mb-6 {
  margin-bottom: var(--space-6);
}

.mb-8 {
  margin-bottom: var(--space-8);
}

.p-0 {
  padding: 0;
}

.p-4 {
  padding: var(--space-4);
}

.p-6 {
  padding: var(--space-6);
}

.p-8 {
  padding: var(--space-8);
}

/* Width */
.w-full {
  width: 100%;
}

.max-w-sm {
  max-width: 24rem;
}

.max-w-md {
  max-width: 28rem;
}

.max-w-lg {
  max-width: 32rem;
}

.max-w-xl {
  max-width: 36rem;
}

.max-w-2xl {
  max-width: 42rem;
}

/* Border Radius */
.rounded {
  border-radius: var(--radius-md);
}

.rounded-lg {
  border-radius: var(--radius-lg);
}

.rounded-xl {
  border-radius: var(--radius-xl);
}

.rounded-full {
  border-radius: var(--radius-full);
}

/* Shadows */
.shadow-sm {
  box-shadow: var(--shadow-sm);
}

.shadow-md {
  box-shadow: var(--shadow-md);
}

.shadow-lg {
  box-shadow: var(--shadow-lg);
}

.shadow-xl {
  box-shadow: var(--shadow-xl);
}

/* ===================================
   Loading States
   =================================== */

.loading {
  position: relative;
  overflow: hidden;
}

.loading::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent);
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% {
    left: -100%;
  }

  100% {
    left: 100%;
  }
}

/* Skeleton Loading */
.skeleton {
  background: linear-gradient(90deg, var(--background-subtle) 25%, var(--border-light) 50%, var(--background-subtle) 75%);
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
  border-radius: var(--radius-md);
}

@keyframes skeleton-loading {
  0% {
    background-position: 200% 0;
  }

  100% {
    background-position: -200% 0;
  }
}

/* ===================================
   Empty State
   =================================== */

.empty-state {
  text-align: center;
  padding: var(--space-16) var(--space-8);
  color: var(--text-muted);
}

.empty-state-icon {
  font-size: var(--text-5xl);
  margin-bottom: var(--space-4);
  opacity: 0.5;
}

.empty-state-title {
  font-size: var(--text-xl);
  font-weight: var(--font-semibold);
  color: var(--text-secondary);
  margin-bottom: var(--space-2);
}

.empty-state-description {
  font-size: var(--text-base);
  color: var(--text-muted);
  max-width: 400px;
  margin: 0 auto;
}

/* ===================================
   Search & Filter
   =================================== */

.search-container {
  position: relative;
  margin-bottom: var(--space-6);
}

.search-input {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  padding-left: var(--space-10);
  font-size: var(--text-base);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  background-color: var(--primary-white);
  transition: all var(--transition-fast);
}

.search-input:focus {
  outline: none;
  border-color: var(--primary-black);
  box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.05);
}

.search-icon {
  position: absolute;
  left: var(--space-4);
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  pointer-events: none;
}

.filter-bar {
  display: flex;
  gap: var(--space-3);
  flex-wrap: wrap;
  margin-bottom: var(--space-6);
}

.filter-btn {
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--text-secondary);
  background-color: transparent;
  border: 1px solid var(--border-light);
  border-radius: var(--radius-full);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.filter-btn:hover {
  border-color: var(--border-medium);
  color: var(--text-primary);
}

.filter-btn.active {
  background-color: var(--primary-black);
  color: var(--primary-white);
  border-color: var(--primary-black);
}

/* ===================================
   Print Styles
   =================================== */

@media print {

  *,
  *::before,
  *::after {
    background: transparent !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  a,
  a:visited {
    text-decoration: underline;
  }

  a[href]::after {
    content: " (" attr(href) ")";
  }

  .site-header,
  .side-nav,
  .site-footer,
  .mobile-menu-toggle,
  .scroll-indicator {
    display: none !important;
  }

  .main-content {
    margin-left: 0 !important;
    margin-top: 0 !important;
    padding: 0 !important;
  }

  .hero-section {
    min-height: auto;
    padding: var(--space-8) 0;
  }

  .container {
    max-width: none;
    padding: 0;
  }

  .tool-grid {
    display: block;
  }

  .tool-card {
    page-break-inside: avoid;
    margin-bottom: var(--space-4);
  }
}

.mb-8 {
  margin-bottom: var(--space-8);
}

.p-0 {
  padding: 0;
}

.p-4 {
  padding: var(--space-4);
}

.p-6 {
  padding: var(--space-6);
}

.p-8 {
  padding: var(--space-8);
}

/* Width */
.w-full {
  width: 100%;
}

.max-w-screen-xl {
  max-width: 1280px;
}

/* Overflow */
.overflow-hidden {
  overflow: hidden;
}

.overflow-auto {
  overflow: auto;
}

/* Position */
.relative {
  position: relative;
}

.absolute {
  position: absolute;
}

.fixed {
  position: fixed;
}

.sticky {
  position: sticky;
}

/* Inset */
.inset-0 {
  inset: 0;
}

/* Cursor */
.cursor-pointer {
  cursor: pointer;
}

/* Pointer Events */
.pointer-events-none {
  pointer-events: none;
}

/* Transition */
.transition {
  transition: all var(--transition-normal);
}

.transition-fast {
  transition: all var(--transition-fast);
}

.transition-slow {
  transition: all var(--transition-slow);
}

/* ===================================
   Tools Page Specific Styles
   Task 3.1: 重构 tools.html 页面
   Requirements: 8.4, 9.1
   =================================== */

/* Tools Page Body */
.tools-page {
  background-color: #ffffff;
}

[data-theme="dark"] .tools-page {
  background-color: #0f172a;
}

/* Tool Section */
.tool-section {
  margin-bottom: var(--space-16);
  scroll-margin-top: calc(var(--header-height) + var(--space-6));
}

.tool-section:last-child {
  margin-bottom: var(--space-8);
}

/* Section Placeholder */
.section-placeholder {
  color: var(--text-muted);
  font-size: var(--text-md);
  padding: var(--space-8);
  text-align: center;
  background-color: var(--background-subtle);
  border-radius: var(--radius-lg);
  border: 1px dashed var(--border-light);
}

/* Tools Container */
.tools-container {
  max-width: 1400px;
}

/* Skip Link */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--primary-black);
  color: var(--primary-white);
  padding: var(--space-2) var(--space-4);
  z-index: calc(var(--z-header) + 10);
  transition: top var(--transition-fast);
}

.skip-link:focus {
  top: 0;
}

/* Logo Link */
.logo-link {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  text-decoration: none;
}

.logo-link:hover .logo-text {
  color: var(--text-secondary);
}

/* Side Navigation Submenu List */
.side-nav .submenu {
  list-style: none;
  margin: 0;
  padding: 0;
}

.side-nav .submenu li {
  margin: 0;
  padding: 0;
}

/* Navigation Item Button Style - Additional */
.nav-item.has-submenu {
  font-family: inherit;
}

/* Responsive Tools Page */
@media (max-width: 767px) {
  .tool-section {
    margin-bottom: var(--space-10);
    scroll-margin-top: calc(var(--header-height) + var(--space-4));
  }

  .section-placeholder {
    padding: var(--space-6);
    font-size: var(--text-sm);
  }
}

/* ===================================
   Index Page Specific Styles
   =================================== */

/* Main Navigation for Index Page */
.main-navigation {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  height: 100%;
}

.nav-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}

.nav-brand {
  display: flex;
  align-items: center;
}

.brand-link {
  text-decoration: none;
}

.brand-text {
  font-family: var(--font-primary);
  font-weight: var(--font-extrabold);
  font-size: var(--text-2xl);
  letter-spacing: var(--tracking-tight);
  color: var(--primary-black);
}

.nav-menu {
  display: flex;
  align-items: center;
}

.nav-list {
  display: flex;
  align-items: center;
  gap: var(--space-8);
  list-style: none;
  margin: 0;
  padding: 0;
}

.nav-link {
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--text-secondary);
  text-decoration: none;
  padding: var(--space-2) 0;
  position: relative;
  transition: color var(--transition-fast);
}

.nav-link:hover {
  color: var(--primary-black);
}

.nav-link::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 1px;
  background-color: var(--primary-black);
  transition: width var(--transition-normal);
}

.nav-link:hover::after {
  width: 100%;
}

.nav-link--primary {
  background-color: var(--primary-black);
  color: var(--primary-white);
  padding: var(--space-2) var(--space-4);
  border-radius: 0;
}

.nav-link--primary:hover {
  background-color: var(--text-secondary);
  color: var(--primary-white);
}

.nav-link--primary::after {
  display: none;
}

/* Mobile Navigation Toggle */
.nav-toggle {
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 40px;
  height: 40px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
}

.nav-toggle-line {
  display: block;
  width: 24px;
  height: 2px;
  background-color: var(--primary-black);
  margin: 3px 0;
  transition: all var(--transition-fast);
}

/* Section Header */
.section-header {
  text-align: center;
  margin-bottom: var(--space-12);
}

.section-subtitle {
  font-size: var(--text-lg);
  color: var(--text-secondary);
  max-width: 600px;
  margin: 0 auto;
}

/* Portfolio Section */
.portfolio-section {
  padding: var(--space-20) 0;
  background-color: var(--primary-white);
}

.portfolio-filter {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: var(--space-3);
  margin-bottom: var(--space-10);
}

.filter-btn {
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--text-secondary);
  background: transparent;
  border: 1px solid var(--border-light);
  border-radius: var(--radius-full);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.filter-btn:hover {
  border-color: var(--primary-black);
  color: var(--primary-black);
}

.filter-btn--active {
  background-color: var(--primary-black);
  color: var(--primary-white);
  border-color: var(--primary-black);
}

.portfolio-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: var(--space-6);
}

.portfolio-item {
  background-color: var(--primary-white);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-lg);
  overflow: hidden;
  transition: all var(--transition-normal);
  display: flex;
  flex-direction: column;
}

.portfolio-item:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}

.portfolio-image {
  aspect-ratio: 4/3;
  overflow: hidden;
  flex-shrink: 0;
}

.portfolio-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform var(--transition-cubic);
}

.portfolio-item:hover .portfolio-image img {
  transform: scale(1.05);
}

.portfolio-content {
  padding: var(--space-5);
  flex: 1;
  display: flex;
  flex-direction: column;
}

.portfolio-title {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  margin-bottom: var(--space-2);
}

.portfolio-description {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  margin-bottom: var(--space-3);
  flex: 1;
}

.portfolio-tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

/* Portfolio Actions - Preview Link */
.portfolio-actions {
  padding: var(--space-4) var(--space-5);
  border-top: 1px solid var(--border-light);
  background-color: var(--background-subtle);
  flex-shrink: 0;
}

.portfolio-link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--accent-blue);
  text-decoration: none;
  transition: all var(--transition-fast);
  cursor: pointer;
}

.portfolio-link:hover {
  color: var(--primary-black);
}

.portfolio-link--disabled {
  color: var(--text-muted);
  cursor: not-allowed;
}

.portfolio-link--disabled:hover {
  color: var(--text-muted);
}

.portfolio-link--active {
  color: var(--accent-blue);
  cursor: pointer;
}

.portfolio-link--active:hover {
  color: var(--primary-black);
}

.portfolio-link--active:hover .link-arrow {
  transform: translateX(4px);
}

.portfolio-link .link-arrow {
  transition: transform var(--transition-fast);
}

.portfolio-link:hover .link-arrow {
  transform: translateX(4px);
}

.tag {
  display: inline-block;
  padding: var(--space-1) var(--space-2);
  font-size: var(--text-xs);
  color: var(--text-muted);
  background-color: var(--background-subtle);
  border-radius: var(--radius-full);
}

/* Services Section */
.services-section {
  padding: var(--space-20) 0;
  background-color: var(--background-subtle);
}

.services-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: var(--space-6);
}

.service-card {
  background-color: var(--primary-white);
  padding: var(--space-8);
  border-radius: var(--radius-lg);
  text-align: center;
  transition: all var(--transition-normal);
}

.service-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}

.service-icon {
  width: 64px;
  height: 64px;
  margin: 0 auto var(--space-4);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--primary-black);
}

.service-title {
  font-size: var(--text-lg);
  font-weight: var(--font-semibold);
  margin-bottom: var(--space-3);
}

.service-description {
  font-size: var(--text-sm);
  color: var(--text-secondary);
  line-height: var(--leading-relaxed);
}

/* About Section */
.about-section {
  padding: var(--space-20) 0;
  background-color: var(--primary-white);
}

.about-content {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-12);
  align-items: center;
}

@media (min-width: 1024px) {
  .about-content {
    grid-template-columns: 1fr 1fr;
  }
}

.about-text .section-header {
  text-align: left;
  margin-bottom: var(--space-6);
}

.about-description {
  margin-bottom: var(--space-8);
}

.about-description p {
  color: var(--text-secondary);
  line-height: var(--leading-relaxed);
}

.about-stats {
  display: flex;
  gap: var(--space-8);
}

.stat-item {
  text-align: center;
}

.stat-number {
  font-size: var(--text-3xl);
  font-weight: var(--font-extrabold);
  color: var(--primary-black);
  margin-bottom: var(--space-1);
}

.stat-label {
  font-size: var(--text-sm);
  color: var(--text-muted);
}

.about-image {
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.about-image img {
  width: 100%;
  height: auto;
  display: block;
}

/* Fade In Animation */
/* Default visible - animation only triggers when .animate-ready is added */
.fade-in {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

/* For scroll-triggered animations, add .animate-ready first, then .visible */
.fade-in.animate-ready {
  opacity: 0;
  transform: translateY(20px);
}

.fade-in.animate-ready.visible,
.fade-in.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Index Page Responsive */
@media (max-width: 767px) {
  .nav-menu {
    position: fixed;
    top: var(--header-height);
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--primary-white);
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transform: translateX(-100%);
    transition: transform var(--transition-normal);
    z-index: var(--z-modal);
  }

  .nav-menu.active {
    transform: translateX(0);
  }

  .nav-list {
    flex-direction: column;
    gap: var(--space-6);
  }

  .nav-link {
    font-size: var(--text-lg);
  }

  .nav-toggle {
    display: flex;
  }

  .portfolio-grid {
    grid-template-columns: 1fr;
  }

  .services-grid {
    grid-template-columns: 1fr;
  }

  .about-stats {
    flex-wrap: wrap;
    justify-content: center;
  }

  .stat-item {
    flex: 0 0 calc(50% - var(--space-4));
  }
}

/* Footer Text */
.footer-text {
  color: rgba(255, 255, 255, 0.7);
  font-size: var(--text-sm);
}


/* ===================================
   CTA Section
   =================================== */

.cta-section {
  padding: var(--space-20) 0;
  background-color: var(--primary-black);
  text-align: center;
}

.cta-content {
  max-width: 600px;
  margin: 0 auto;
}

.cta-title {
  font-size: var(--text-4xl);
  font-weight: var(--font-extrabold);
  color: var(--primary-white);
  margin-bottom: var(--space-4);
  letter-spacing: var(--tracking-tight);
}

.cta-description {
  font-size: var(--text-lg);
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: var(--space-8);
  line-height: var(--leading-relaxed);
}

.btn--large {
  padding: var(--space-4) var(--space-8);
  font-size: var(--text-md);
}

/* CTA Section Responsive */
@media (max-width: 767px) {
  .cta-section {
    padding: var(--space-12) 0;
  }

  .cta-title {
    font-size: var(--text-2xl);
  }

  .cta-description {
    font-size: var(--text-base);
  }

  .btn--large {
    padding: var(--space-3) var(--space-6);
    font-size: var(--text-sm);
  }
}

/* ===================================
   Site Main (Index Page)
   =================================== */

.site-main {
  /* No left margin for index page - full width */
  display: block;
}

/* Index page footer should not have left margin */
body:not(.tools-page) .site-footer {
  margin-left: 0;
}


/* ===================================
   Task 5.2: Lazy Loading Styles
   使用 loading="lazy" 属性 + 占位符和加载状态
   Requirements: 3.3
   =================================== */

/* Lazy Image Wrapper */
.lazy-image-wrapper {
  position: relative;
  overflow: hidden;
  background-color: var(--background-subtle);
}

/* Lazy Image Base State */
.lazy-image {
  opacity: 0;
  transition: opacity 0.3s ease-out;
}

/* Lazy Image Loaded State */
.lazy-loaded {
  opacity: 1;
}

/* Lazy Image Loading State */
.lazy-loading {
  opacity: 0.5;
}

/* Lazy Image Error State */
.lazy-error {
  display: none;
}

/* Lazy Image Placeholder */
.lazy-image-placeholder {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--background-subtle) 0%, var(--border-light) 100%);
  transition: opacity 0.3s ease-out;
  z-index: 1;
}

/* Loading Spinner */
.lazy-loading-spinner {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
}

.lazy-loading-spinner svg {
  width: 24px;
  height: 24px;
}

/* Error Placeholder */
.lazy-error-placeholder {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  background-color: var(--background-subtle);
  color: var(--text-muted);
  font-size: var(--text-xs);
  z-index: 2;
}

.lazy-error-placeholder svg {
  color: var(--text-muted);
  opacity: 0.5;
}

/* Tool Card Image Container - Lazy Loading Support */
.tool-card-image {
  position: relative;
  overflow: hidden;
  background-color: var(--background-subtle);
}

.tool-card-image img {
  transition: opacity 0.3s ease-out, transform 0.6s var(--ease-out);
}

.tool-card-image img.lazy-loaded {
  opacity: 1;
}

.tool-card-image .lazy-image-placeholder {
  border-radius: var(--radius-lg) var(--radius-lg) 0 0;
}

/* Portfolio Image Container - Lazy Loading Support */
.portfolio-image {
  position: relative;
  overflow: hidden;
  background-color: var(--background-subtle);
}

.portfolio-image img {
  transition: opacity 0.3s ease-out, transform 0.6s var(--ease-out);
}

.portfolio-image img.lazy-loaded {
  opacity: 1;
}

/* About Image Container - Lazy Loading Support */
.about-image {
  position: relative;
  overflow: hidden;
  background-color: var(--background-subtle);
}

.about-image img {
  transition: opacity 0.3s ease-out;
}

.about-image img.lazy-loaded {
  opacity: 1;
}

/* Skeleton Loading Animation for Images */
.lazy-image-placeholder::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent);
  animation: lazy-shimmer 1.5s infinite;
}

@keyframes lazy-shimmer {
  0% {
    left: -100%;
  }

  100% {
    left: 100%;
  }
}

/* Reduced Motion Support for Lazy Loading */
@media (prefers-reduced-motion: reduce) {

  .lazy-image,
  .lazy-loaded,
  .lazy-loading,
  .lazy-image-placeholder {
    transition: none;
  }

  .lazy-image-placeholder::before {
    animation: none;
  }

  .lazy-loading-spinner svg {
    animation: none;
  }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  .lazy-image-placeholder {
    background: var(--background-subtle);
    border: 1px solid var(--border-medium);
  }

  .lazy-error-placeholder {
    background: var(--background-subtle);
    border: 1px solid var(--border-medium);
    color: var(--text-primary);
  }
}


/* ===================================
   Task 9: Accessibility Improvements
   添加 ARIA 标签 + 实现键盘导航 + 确保颜色对比度 + 添加图片 alt 文本
   Requirements: 9.1, 9.2, 9.3, 9.4
   =================================== */

/* ===================================
   9.1 ARIA Labels & Semantic Enhancements
   =================================== */

/* Visually hidden but accessible to screen readers */
.visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Accessible hidden content that can be focused */
.visually-hidden-focusable:not(:focus):not(:focus-within) {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Live region for dynamic content announcements */
.aria-live-region {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ===================================
   9.2 Keyboard Navigation Enhancements
   =================================== */

/* Enhanced focus styles for all interactive elements */
a:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:focus-visible,
[role="button"]:focus-visible,
[role="link"]:focus-visible,
[role="menuitem"]:focus-visible,
[role="tab"]:focus-visible {
  outline: 3px solid var(--accent-blue);
  outline-offset: 2px;
  box-shadow: 0 0 0 6px rgba(0, 102, 204, 0.15);
}

/* High contrast focus for dark backgrounds */
.site-footer a:focus-visible,
.cta-section a:focus-visible,
.cta-section button:focus-visible,
.nav-link--primary:focus-visible {
  outline-color: var(--primary-white);
  box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.25);
}

/* Focus indicator for navigation items */
.nav-item:focus-visible,
.submenu-item:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: -2px;
  background-color: var(--background-hover);
}

/* Focus indicator for cards */
.tool-card:focus-visible,
.portfolio-item:focus-visible,
.service-card:focus-visible {
  outline: 3px solid var(--accent-blue);
  outline-offset: 2px;
  transform: translateY(-4px);
  box-shadow: var(--shadow-card-hover), 0 0 0 6px rgba(0, 102, 204, 0.15);
}

/* Focus indicator for filter buttons */
.filter-btn:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(0, 102, 204, 0.15);
}

/* Skip link enhanced styles */
.skip-link {
  position: absolute;
  top: -100%;
  left: var(--space-4);
  background: var(--primary-black);
  color: var(--primary-white);
  padding: var(--space-3) var(--space-6);
  z-index: calc(var(--z-header) + 100);
  transition: top var(--transition-fast);
  font-weight: var(--font-semibold);
  text-decoration: none;
  border-radius: 0 0 var(--radius-md) var(--radius-md);
}

.skip-link:focus {
  top: 0;
  outline: 3px solid var(--accent-blue);
  outline-offset: 2px;
}

/* Keyboard navigation indicator for current item */
[aria-current="page"],
[aria-current="true"] {
  font-weight: var(--font-semibold);
}

/* Tab panel focus */
[role="tabpanel"]:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 4px;
}

/* Menu focus styles */
[role="menu"]:focus-visible {
  outline: none;
}

[role="menuitem"]:focus-visible {
  background-color: var(--background-hover);
  outline: 2px solid var(--accent-blue);
  outline-offset: -2px;
}

/* ===================================
   9.3 Color Contrast Enhancements
   =================================== */

/* Ensure minimum 4.5:1 contrast ratio for normal text */
/* Primary text on white background: #1a1a1a on #ffffff = 16.1:1 ✓ */
/* Secondary text on white background: #666666 on #ffffff = 5.74:1 ✓ */
/* Muted text enhanced for better contrast */
.text-muted-accessible {
  color: #595959;
  /* 7:1 contrast ratio on white */
}

/* Link colors with sufficient contrast */
a {
  color: var(--text-primary);
  /* 16.1:1 contrast */
}

a:hover {
  color: #333333;
  /* 12.6:1 contrast */
}

/* Ensure tags have sufficient contrast */
.tool-tag,
.tag {
  color: #595959;
  /* Enhanced from #888888 for better contrast */
  background-color: var(--background-subtle);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --text-secondary: #333333;
    --text-muted: #444444;
    --text-light: #555555;
    --border-light: #999999;
    --border-medium: #666666;
  }

  .tool-card,
  .portfolio-item,
  .service-card {
    border-width: 2px;
    border-color: var(--primary-black);
  }

  .nav-item:hover,
  .submenu-item:hover {
    background-color: #e0e0e0;
  }

  a:focus-visible,
  button:focus-visible {
    outline-width: 4px;
  }
}

/* Ensure sufficient contrast for placeholder text */
::placeholder {
  color: #767676;
  /* 4.54:1 contrast ratio - WCAG AA compliant */
  opacity: 1;
}

/* Error states with accessible colors */
.error,
.field-error {
  color: #c41e3a;
  /* 5.9:1 contrast ratio on white */
}

.error-border {
  border-color: #c41e3a;
}

/* Success states with accessible colors */
.success {
  color: #0d6939;
  /* 5.5:1 contrast ratio on white */
}

/* Warning states with accessible colors */
.warning {
  color: #8a6d00;
  /* 4.5:1 contrast ratio on white */
}

/* ===================================
   9.4 Image Alt Text Support Styles
   =================================== */

/* Decorative images should be hidden from screen readers - no visual changes needed */

/* Broken image fallback with accessible text */
img::before {
  content: '';
  display: block;
}

img::after {
  content: attr(alt);
  display: block;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  font-size: var(--text-sm);
  color: var(--text-muted);
  padding: var(--space-2);
}

/* Note: Icon images should have aria-hidden="true" in HTML */

/* ===================================
   Reduced Motion Support
   =================================== */

@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .scroll-animate,
  .scroll-animate-left,
  .scroll-animate-right,
  .scroll-animate-scale,
  .scroll-animate-stagger {
    opacity: 1;
    transform: none;
  }

  .animate-in,
  .animate-in-down,
  .animate-fade,
  .animate-slide-left,
  .animate-slide-right,
  .animate-scale,
  .animate-scale-bounce {
    animation: none;
    opacity: 1;
  }

  .tool-card:hover,
  .portfolio-item:hover,
  .service-card:hover {
    transform: none;
  }

  .tool-card:hover .tool-card-image img,
  .portfolio-item:hover .portfolio-image img {
    transform: none;
  }
}

/* ===================================
   Screen Reader Announcements
   =================================== */

/* Note: Elements with role="status", role="alert", aria-live="polite", 
   or aria-live="assertive" will be announced by screen readers */

/* Loading state announcement */
.loading-announcement {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ===================================
   Touch Target Size (Mobile Accessibility)
   =================================== */

/* Ensure minimum 44x44px touch targets */
@media (pointer: coarse) {

  .nav-item,
  .submenu-item,
  .filter-btn,
  .tool-card-link,
  .btn,
  .header-icon,
  .mobile-menu-toggle,
  .social-link {
    min-height: 44px;
    min-width: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .nav-item,
  .submenu-item {
    padding: var(--space-3) var(--space-4);
  }

  .tool-card-link {
    padding: var(--space-3) var(--space-5);
  }
}

/* ===================================
   Form Accessibility
   =================================== */

/* Required field indicator */
.required::after {
  content: " *";
  color: #c41e3a;
}

/* Form field labels */
label {
  display: block;
  margin-bottom: var(--space-2);
  font-weight: var(--font-medium);
  color: var(--text-primary);
}

/* Associated label and input */
label[for] {
  cursor: pointer;
}

/* Disabled state */
[disabled],
[aria-disabled="true"] {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

/* Read-only state */
[readonly],
[aria-readonly="true"] {
  background-color: var(--background-subtle);
}

/* Invalid field state */
[aria-invalid="true"] {
  border-color: #c41e3a;
  box-shadow: 0 0 0 3px rgba(196, 30, 58, 0.15);
}

/* Error message association */
.field-error {
  color: #c41e3a;
  font-size: var(--text-sm);
  margin-top: var(--space-1);
}

/* Note: .field-error[role="alert"] ensures error is announced immediately by screen readers */

/* ===================================
   Table Accessibility
   =================================== */

table {
  border-collapse: collapse;
  width: 100%;
}

th {
  text-align: left;
  font-weight: var(--font-semibold);
  background-color: var(--background-subtle);
}

th,
td {
  padding: var(--space-3) var(--space-4);
  border-bottom: 1px solid var(--border-light);
}

/* Sortable table headers */
th[aria-sort] {
  cursor: pointer;
}

th[aria-sort]::after {
  content: '';
  display: inline-block;
  width: 0;
  height: 0;
  margin-left: var(--space-2);
  vertical-align: middle;
}

th[aria-sort="ascending"]::after {
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  border-bottom: 6px solid currentColor;
}

th[aria-sort="descending"]::after {
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  border-top: 6px solid currentColor;
}

/* ===================================
   Dialog/Modal Accessibility
   =================================== */

[role="dialog"],
[role="alertdialog"] {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: var(--z-modal);
  background-color: var(--primary-white);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-2xl);
  max-width: 90vw;
  max-height: 90vh;
  overflow: auto;
}

/* Modal backdrop */
.modal-backdrop {
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: var(--z-modal-backdrop);
}

/* Note: [data-focus-trap="true"] indicates focus is trapped within the element */


/* ===================================
   Desktop Hover-Based Submenu Expansion
   Shows submenu on hover for desktop users
   =================================== */

@media (min-width: 768px) {

  /* Hover-based submenu expansion for desktop */
  .nav-item.has-submenu {
    position: relative;
  }

  /* On hover, expand the submenu */
  .nav-item.has-submenu:hover+.submenu,
  .nav-item.has-submenu:focus-within+.submenu,
  .submenu:hover {
    max-height: 1000px;
    opacity: 1;
    padding-top: var(--space-1);
    padding-bottom: var(--space-1);
  }

  /* Show submenu items on hover */
  .nav-item.has-submenu:hover+.submenu .submenu-item,
  .nav-item.has-submenu:focus-within+.submenu .submenu-item,
  .submenu:hover .submenu-item {
    opacity: 1;
    transform: translateX(0);
  }

  /* Keep submenu visible when hovering over it */
  .submenu {
    /* Add small delay before hiding to allow mouse movement */
    transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),
      opacity 0.3s ease-out,
      padding 0.3s ease-out;
  }
}


/* ===================================
   Thoughts Section Styles
   =================================== */

.thoughts-filters {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-bottom: 24px;
  align-items: center;
}

.thoughts-filter-btn {
  padding: 8px 16px;
  border: 1px solid #e0e0e0;
  border-radius: 20px;
  background: #fff;
  color: #666;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.thoughts-filter-btn:hover {
  border-color: #000;
  color: #000;
}

.thoughts-filter-btn.active {
  background: #000;
  color: #fff;
  border-color: #000;
}

.thoughts-write-btn {
  padding: 8px 20px;
  border: none;
  border-radius: 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #fff;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-left: auto;
}

.thoughts-write-btn:hover {
  transform: translateY(-1px);
}

.thoughts-container {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.thought-card {
  background: #fff;
  border: 1px solid var(--border-light);
  border-radius: 8px;
  padding: 20px;
  transition: all 0.2s ease;
}

.thought-card:hover {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
  border-color: var(--border-medium);
}

.thought-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.thought-date {
  font-size: 13px;
  color: var(--text-muted);
}

.thought-category-tag {
  padding: 4px 10px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
  border: 1px solid;
}

.thought-category-tag.emotion {
  background: transparent;
  color: #666;
  border-color: #ccc;
}

.thought-category-tag.advice {
  background: transparent;
  color: #666;
  border-color: #ccc;
}

.thought-content {
  font-size: 15px;
  line-height: 1.7;
  color: #333;
  white-space: pre-wrap;
}

.thought-comments {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid #f0f0f0;
}

.comments-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 12px;
}

.comment-item {
  background: #f9f9f9;
  border-radius: 8px;
  padding: 12px;
}

.comment-time {
  font-size: 11px;
  color: #999;
  display: block;
  margin-bottom: 4px;
}

.comment-text {
  font-size: 14px;
  color: #555;
  margin: 0;
}

.comment-form {
  display: flex;
  gap: 8px;
}

.comment-input {
  flex: 1;
  padding: 10px 14px;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  font-size: 14px;
  transition: border-color 0.2s;
}

.comment-input:focus {
  outline: none;
  border-color: #667eea;
}

.comment-submit {
  padding: 10px 16px;
  background: #000;
  color: #fff;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  cursor: pointer;
  transition: background 0.2s;
}

.comment-submit:hover {
  background: #333;
}

/* Thought Modal - Old styles removed, using new centered styles below */
.thought-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
}

.thought-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 24px;
  border-bottom: 1px solid #f0f0f0;
}

.thought-modal-header h3 {
  font-size: 18px;
  font-weight: 600;
  margin: 0;
}

.thought-modal-close {
  width: 32px;
  height: 32px;
  border: none;
  background: #f5f5f5;
  border-radius: 50%;
  font-size: 20px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s;
}

.thought-modal-close:hover {
  background: #e0e0e0;
}

#thought-form {
  padding: 24px;
}

.thought-form-group {
  margin-bottom: 20px;
}

.thought-form-group label {
  display: block;
  font-size: 14px;
  font-weight: 500;
  color: #333;
  margin-bottom: 8px;
}

.thought-form-group input,
.thought-form-group select,
.thought-form-group textarea {
  width: 100%;
  padding: 12px 14px;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  font-size: 15px;
  transition: border-color 0.2s;
  box-sizing: border-box;
}

.thought-form-group input:focus,
.thought-form-group select:focus,
.thought-form-group textarea:focus {
  outline: none;
  border-color: #667eea;
}

.thought-form-group textarea {
  resize: vertical;
  min-height: 120px;
}

.thought-submit-btn {
  width: 100%;
  padding: 14px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #fff;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.thought-submit-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.empty-text,
.error-text {
  text-align: center;
  color: #999;
  padding: 40px 20px;
  font-size: 15px;
}

.error-text {
  color: #e53935;
}

/* Responsive */
@media (max-width: 600px) {
  .thoughts-filters {
    flex-direction: column;
    align-items: stretch;
  }

  .thoughts-write-btn {
    margin-left: 0;
    margin-top: 8px;
  }

  .thought-modal-content {
    margin: 10px;
    max-height: calc(100vh - 20px);
    max-width: calc(100% - 20px);
  }
}


/* ===================================
   Tools Loading Styles
   Dynamic tool loading from API
   Requirement 12.5
   =================================== */

.tools-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  text-align: center;
  color: var(--text-muted);
}

.tools-loading .loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--border-light);
  border-top-color: var(--primary-black);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  margin-bottom: 16px;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.tools-loading p {
  font-size: 14px;
  margin: 0;
}

.tools-loading .error-text {
  color: #c41e3a;
  margin-bottom: 16px;
}

.tools-loading .btn-retry {
  padding: 10px 24px;
  background: var(--primary-black);
  color: var(--primary-white);
  border: none;
  border-radius: 6px;
  font-size: 14px;
  cursor: pointer;
  transition: background 0.2s ease;
}

.tools-loading .btn-retry:hover {
  background: #333;
}

/* Empty state for categories with no tools */
.tool-section .empty-text {
  text-align: center;
  color: var(--text-muted);
  padding: 40px 20px;
  font-size: 14px;
  background: var(--background-subtle);
  border-radius: var(--radius-md);
}

/* Thoughts Header Styles */
.thoughts-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 16px;
  margin-bottom: 24px;
}

.btn-write-thought {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 20px;
  background: #000;
  color: #fff;
  border: 1px solid #000;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-write-thought:hover {
  background: #333;
  transform: translateY(-1px);
}

.btn-write-thought svg {
  flex-shrink: 0;
}

/* Thoughts filter buttons - minimalist style */
.thoughts-filters {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.thoughts-filter-btn {
  padding: 8px 16px;
  background: transparent;
  color: var(--text-secondary);
  border: 1px solid var(--border-light);
  border-radius: 6px;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.thoughts-filter-btn:hover {
  border-color: var(--text-primary);
  color: var(--text-primary);
}

.thoughts-filter-btn.active {
  background: #000;
  color: #fff;
  border-color: #000;
}

/* Thought Modal Styles */
.thought-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
  animation: modalFadeIn 0.3s ease;
}

@keyframes modalFadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.thought-modal-content {
  background: #fff;
  border-radius: 12px;
  width: 100%;
  max-width: 420px;
  max-height: 90vh;
  overflow-y: auto;
  padding: 32px;
  position: relative;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  animation: modalSlideIn 0.3s ease;
  border: 1px solid var(--border-light);
  margin: auto;
}

@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translateY(-20px) scale(0.95);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.thought-modal-content h3 {
  font-size: 18px;
  font-weight: 700;
  margin: 0 0 28px 0;
  color: var(--text-primary);
  letter-spacing: -0.025em;
}

.thought-modal-close {
  position: absolute;
  top: 20px;
  right: 20px;
  width: 28px;
  height: 28px;
  border: 1px solid var(--border-light);
  background: transparent;
  border-radius: 6px;
  font-size: 16px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  color: var(--text-secondary);
}

.thought-modal-close:hover {
  background: var(--background-hover);
  border-color: var(--text-primary);
  color: var(--text-primary);
  transform: none;
}

#thought-form .form-group {
  margin-bottom: 24px;
}

#thought-form label {
  display: block;
  font-size: 13px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 8px;
  letter-spacing: 0.025em;
}

#thought-form input,
#thought-form select,
#thought-form textarea {
  width: 100%;
  padding: 12px 14px;
  border: 1px solid var(--border-light);
  border-radius: 8px;
  font-size: 14px;
  transition: all 0.2s;
  box-sizing: border-box;
  background: #fff;
  color: var(--text-primary);
}

#thought-form input:focus,
#thought-form select:focus,
#thought-form textarea:focus {
  outline: none;
  border-color: var(--text-primary);
  background: #fff;
  box-shadow: none;
}

#thought-form textarea {
  resize: vertical;
  min-height: 120px;
}

.btn-submit-thought {
  width: 100%;
  padding: 14px;
  background: var(--primary-black);
  color: var(--primary-white);
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  margin-top: 8px;
}

.btn-submit-thought:hover {
  background: var(--text-primary);
  transform: none;
  box-shadow: none;
}

.btn-submit-thought:active {
  transform: none;
}

/* Dark mode thought modal */
[data-theme="dark"] .thought-modal-content {
  background: #1e293b;
  border-color: rgba(100, 116, 139, 0.2);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
}

[data-theme="dark"] .thought-modal-content h3 {
  color: #f1f5f9;
}

[data-theme="dark"] .thought-modal-close {
  background: transparent;
  border-color: #334155;
  color: #94a3b8;
}

[data-theme="dark"] .thought-modal-close:hover {
  background: rgba(0, 255, 204, 0.1);
  border-color: #00ffcc;
  color: #00ffcc;
}

[data-theme="dark"] #thought-form label {
  color: #e2e8f0;
}

[data-theme="dark"] #thought-form input,
[data-theme="dark"] #thought-form select,
[data-theme="dark"] #thought-form textarea {
  background: #0f172a;
  border-color: #334155;
  color: #f1f5f9;
}

/* Fix date picker and select dropdown icons in dark mode */
[data-theme="dark"] #thought-form input[type="date"] {
  color-scheme: dark;
}

[data-theme="dark"] #thought-form select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2394a3b8' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 12px;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  padding-right: 36px;
}

[data-theme="dark"] #thought-form input:focus,
[data-theme="dark"] #thought-form select:focus,
[data-theme="dark"] #thought-form textarea:focus {
  border-color: #00ffcc;
  background: #1e293b;
  box-shadow: none;
}

[data-theme="dark"] #thought-form input::placeholder,
[data-theme="dark"] #thought-form textarea::placeholder {
  color: #64748b;
}

[data-theme="dark"] .btn-submit-thought {
  background: transparent;
  border: 1px solid #00ffcc;
  color: #00ffcc;
}

[data-theme="dark"] .btn-submit-thought:hover {
  background: rgba(0, 255, 204, 0.1);
  box-shadow: none;
}

/* ===================================
   Puzzle Captcha Styles
   拼图验证码样式
   =================================== */

/* Puzzle Captcha Modal */
.puzzle-captcha-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100001;
  backdrop-filter: blur(4px);
  cursor: default;
}

.puzzle-captcha-content {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  width: 320px;
  overflow: hidden;
  animation: puzzleSlideIn 0.3s ease;
  cursor: default;
}

@keyframes puzzleSlideIn {
  from {
    opacity: 0;
    transform: scale(0.9) translateY(-20px);
  }

  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.puzzle-captcha-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  background: #f8fafc;
  border-bottom: 1px solid #e2e8f0;
  font-size: 15px;
  font-weight: 600;
  color: #334155;
}

.puzzle-close-btn {
  background: none;
  border: none;
  font-size: 24px;
  color: #94a3b8;
  cursor: pointer;
  line-height: 1;
  padding: 0;
  transition: color 0.2s ease;
}

.puzzle-close-btn:hover {
  color: #64748b;
}

.puzzle-captcha-body {
  padding: 20px;
}

.puzzle-image-container {
  position: relative;
  width: 280px;
  height: 160px;
  margin: 0 auto 16px;
  border-radius: 8px;
  overflow: hidden;
  background: #e2e8f0;
}

#puzzle-canvas {
  display: block;
  border-radius: 8px;
}

.puzzle-piece {
  position: absolute;
  top: 0;
  left: 0;
  width: 44px;
  height: 44px;
  background-size: cover;
  cursor: default;
  z-index: 10;
  display: none;
}

.puzzle-slot {
  position: absolute;
  top: 0;
  left: 0;
  width: 44px;
  height: 44px;
  background: rgba(0, 0, 0, 0.3);
  border: 2px dashed rgba(255, 255, 255, 0.5);
  border-radius: 4px;
  display: none;
  pointer-events: none;
}

.puzzle-hint {
  text-align: center;
  font-size: 13px;
  color: #64748b;
  margin-bottom: 16px;
  min-height: 40px;
  line-height: 1.5;
}

.puzzle-hint .lock-message {
  display: block;
}

.puzzle-hint #countdown-timer {
  font-weight: 700;
  font-size: 16px;
  color: #ef4444;
  display: inline-block;
  min-width: 24px;
}

.puzzle-slider-container {
  padding: 0 10px;
  transition: opacity 0.3s ease;
}

.puzzle-slider-track {
  position: relative;
  height: 44px;
  background: #f0f0f0;
  border-radius: 22px;
  border: 1px solid #e0e0e0;
  overflow: hidden;
  user-select: none;
}

.puzzle-slider-progress {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 0;
  background: linear-gradient(90deg, #60a5fa, #3b82f6);
  border-radius: 22px 0 0 22px;
  transition: none;
}

.puzzle-slider-thumb {
  position: absolute;
  left: 2px;
  top: 2px;
  width: 40px;
  height: 40px;
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: grab;
  transition: box-shadow 0.2s ease;
  z-index: 2;
}

.puzzle-slider-thumb:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.puzzle-slider-thumb:active {
  cursor: grabbing;
}

.puzzle-slider-thumb svg {
  color: #3b82f6;
}

.puzzle-captcha-footer {
  padding: 12px 20px 16px;
  display: flex;
  justify-content: center;
}

.puzzle-refresh-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  background: none;
  border: none;
  color: #64748b;
  font-size: 13px;
  cursor: pointer;
  padding: 8px 16px;
  border-radius: 6px;
  transition: all 0.2s ease;
}

.puzzle-refresh-btn:hover {
  background: #f1f5f9;
  color: #334155;
}

.puzzle-refresh-btn svg {
  transition: transform 0.3s ease;
}

.puzzle-refresh-btn:hover svg {
  transform: rotate(180deg);
}

/* Shake animation for failed verification */
@keyframes shake {

  0%,
  100% {
    transform: translateX(0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-5px);
  }

  20%,
  40%,
  60%,
  80% {
    transform: translateX(5px);
  }
}

/* Dark mode puzzle captcha */
[data-theme="dark"] .puzzle-captcha-content {
  background: #1e293b;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

[data-theme="dark"] .puzzle-captcha-header {
  background: #0f172a;
  border-color: #334155;
  color: #e2e8f0;
}

[data-theme="dark"] .puzzle-close-btn {
  color: #64748b;
}

[data-theme="dark"] .puzzle-close-btn:hover {
  color: #94a3b8;
}

[data-theme="dark"] .puzzle-image-container {
  background: #334155;
}

[data-theme="dark"] .puzzle-hint {
  color: #94a3b8;
}

[data-theme="dark"] .puzzle-slider-track {
  background: #0f172a;
  border-color: #334155;
}

[data-theme="dark"] .puzzle-slider-progress {
  background: linear-gradient(90deg, #00d4aa, #00ffcc);
}

[data-theme="dark"] .puzzle-slider-thumb {
  background: #334155;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .puzzle-slider-thumb svg {
  color: #00ffcc;
}

[data-theme="dark"] .puzzle-refresh-btn {
  color: #94a3b8;
}

[data-theme="dark"] .puzzle-refresh-btn:hover {
  background: #334155;
  color: #e2e8f0;
}

/* ===================================
   Custom Toast Notification
   自定义提示框样式
   =================================== */

.custom-toast {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 100002;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: toastFadeIn 0.3s ease;
}

@keyframes toastFadeIn {
  from {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.9);
  }

  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

.toast-content {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px 24px;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
  font-size: 15px;
  font-weight: 500;
  color: #334155;
}

.toast-icon {
  display: flex;
  align-items: center;
  justify-content: center;
}

.toast-success .toast-content {
  border-left: 4px solid #10b981;
}

.toast-error .toast-content {
  border-left: 4px solid #ef4444;
}

.toast-info .toast-content {
  border-left: 4px solid #3b82f6;
}

/* Dark mode toast */
[data-theme="dark"] .toast-content {
  background: #1e293b;
  color: #e2e8f0;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
}

/* Fix cursor visibility in puzzle captcha modal */
.puzzle-captcha-modal,
.puzzle-captcha-modal * {
  cursor: auto !important;
}

.puzzle-slider-thumb {
  cursor: grab !important;
}

.puzzle-slider-thumb:active {
  cursor: grabbing !important;
}

.puzzle-close-btn,
.puzzle-refresh-btn {
  cursor: pointer !important;
}

.loading-text {
  text-align: center;
  color: var(--text-muted);
  padding: 40px 20px;
}


/* ===================================
   Announcement Marquee
   =================================== */
.announcement-marquee {
  background: linear-gradient(135deg, #1a1a1a 0%, #333333 50%, #1a1a1a 100%);
  background-size: 200% 200%;
  animation: gradientShift 8s ease infinite;
  padding: 6px 20px;
  border-radius: 6px;
  overflow: hidden;
  max-width: 240px;
  margin: 0 16px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

/* ===================================
   Apps/Products Tab Navigation
   =================================== */
.apps-tabs {
  display: flex;
  gap: 0;
  margin-bottom: 24px;
  border-bottom: 1px solid var(--border-light);
}

.apps-tab {
  padding: 12px 24px;
  background: transparent;
  border: none;
  color: var(--text-secondary);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s ease;
}

.apps-tab:hover {
  color: var(--text-primary);
}

.apps-tab.active {
  color: var(--text-primary);
  border-bottom-color: var(--primary-black);
}

.apps-tab-content {
  display: none;
}

.apps-tab-content.active {
  display: block;
}

/* ===================================
   Workshop Tab Navigation
   自动化搭建工坊标签导航
   =================================== */
.workshop-tabs {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--border-light);
}

.workshop-tab {
  padding: 10px 20px;
  background: var(--background-subtle);
  border: 1px solid var(--border-light);
  border-radius: 20px;
  color: var(--text-secondary);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.workshop-tab:hover {
  background: var(--background-hover);
  color: var(--text-primary);
  border-color: var(--border-medium);
}

.workshop-tab.active {
  background: var(--primary-black);
  color: var(--primary-white);
  border-color: var(--primary-black);
}

[data-theme="dark"] .workshop-tab {
  background: #1e293b;
  border-color: #334155;
  color: #94a3b8;
}

[data-theme="dark"] .workshop-tab:hover {
  background: #334155;
  color: #e2e8f0;
}

[data-theme="dark"] .workshop-tab.active {
  background: #00ffcc;
  color: #0f172a;
  border-color: #00ffcc;
}

.workshop-tab-content {
  display: none;
}

.workshop-tab-content.active {
  display: block;
}

/* ===================================
   Workshop Card Styles
   工坊卡片样式
   =================================== */
.workshop-card {
  position: relative;
  background: var(--primary-white);
  border: 1px solid var(--border-light);
  border-radius: 12px;
  overflow: hidden;
  transition: all 0.3s ease;
}

.workshop-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  border-color: var(--border-medium);
}

.workshop-card-content {
  padding: 20px;
}

.workshop-card-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 8px;
  line-height: 1.4;
}

.workshop-card-description {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.6;
  margin-bottom: 12px;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.workshop-card-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.workshop-tag {
  display: inline-block;
  padding: 4px 10px;
  font-size: 12px;
  font-weight: 500;
  color: var(--text-muted);
  background: var(--background-subtle);
  border-radius: 12px;
}

.workshop-card-actions {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  border-top: 1px solid var(--border-light);
  background: var(--background-subtle);
}

.workshop-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  font-size: 13px;
  font-weight: 500;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  text-decoration: none;
}

.workshop-btn-copy {
  background: var(--primary-white);
  border: 1px solid var(--border-light);
  color: var(--text-secondary);
}

.workshop-btn-copy:hover {
  background: var(--background-hover);
  color: var(--text-primary);
  border-color: var(--border-medium);
}

.workshop-btn-copy.copied {
  background: #10b981;
  border-color: #10b981;
  color: white;
}

.workshop-btn-download {
  background: var(--primary-black);
  border: 1px solid var(--primary-black);
  color: var(--primary-white);
}

.workshop-btn-download:hover {
  background: #333;
  border-color: #333;
}

/* Dark theme workshop card */
[data-theme="dark"] .workshop-card {
  background: #1e293b;
  border-color: #334155;
}

[data-theme="dark"] .workshop-card:hover {
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
  border-color: #475569;
}

[data-theme="dark"] .workshop-card-title {
  color: #f1f5f9;
}

[data-theme="dark"] .workshop-card-description {
  color: #94a3b8;
}

[data-theme="dark"] .workshop-tag {
  background: #334155;
  color: #94a3b8;
}

[data-theme="dark"] .workshop-card-actions {
  background: #0f172a;
  border-color: #334155;
}

[data-theme="dark"] .workshop-btn-copy {
  background: #1e293b;
  border-color: #334155;
  color: #94a3b8;
}

[data-theme="dark"] .workshop-btn-copy:hover {
  background: #334155;
  color: #e2e8f0;
}

[data-theme="dark"] .workshop-btn-download {
  background: #00ffcc;
  border-color: #00ffcc;
  color: #0f172a;
}

[data-theme="dark"] .workshop-btn-download:hover {
  background: #00e6b8;
  border-color: #00e6b8;
}

.empty-text {
  text-align: center;
  color: var(--text-muted);
  padding: 60px 20px;
  font-size: 15px;
}

/* Workshop More Link Styles */
.workshop-more-links {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  padding: 20px;
  margin-bottom: 16px;
}

.workshop-more-link-item {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.more-link-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 20px;
  background: var(--primary-black);
  color: var(--primary-white);
  font-weight: 500;
  font-size: 14px;
  border-radius: 10px;
  text-decoration: none;
  transition: all 0.2s ease;
  border: 1px solid var(--primary-black);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.more-link-btn:hover {
  background: #333333;
  border-color: #333333;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  color: var(--primary-white);
}

[data-theme='dark'] .more-link-btn {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
  color: #ffffff;
}

[data-theme='dark'] .more-link-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.2);
}

.more-link-btn svg {
  flex-shrink: 0;
  width: 14px;
  height: 14px;
  opacity: 0.6;
}

.more-link-btn:hover svg {
  opacity: 0.8;
}

.more-link-desc {
  margin-top: 8px;
  font-size: 12px;
  color: #94a3b8;
}

[data-theme="dark"] .more-link-btn {
  background: #1e293b;
  color: #e2e8f0;
  border-color: #334155;
}

[data-theme="dark"] .more-link-btn:hover {
  border-color: #00d4aa;
  color: #00ffcc;
  box-shadow: 0 4px 12px rgba(0, 255, 204, 0.15);
}

[data-theme="dark"] .more-link-desc {
  color: #64748b;
}

.marquee-content {
  display: flex;
  animation: marqueeScroll 10s linear infinite;
  white-space: nowrap;
}

@keyframes marqueeScroll {
  0% {
    transform: translateX(100%);
  }

  100% {
    transform: translateX(-100%);
  }
}

.marquee-text {
  font-size: 12px;
  font-weight: 500;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* ===================================
   Solo Company Section
   =================================== */
.solo-section {
  padding: var(--space-16) 0;
  background: var(--background-subtle);
}

.solo-content {
  background: var(--primary-white);
  border-radius: 12px;
  padding: var(--space-8);
  box-shadow: var(--shadow-sm);
  min-height: 100px;
  white-space: pre-wrap;
  line-height: 1.8;
  color: var(--text-primary);
}

.solo-placeholder {
  color: var(--text-muted);
  text-align: center;
}

/* ===================================
   Anonymous Thoughts Section
   =================================== */
.thoughts-section {
  padding: var(--space-16) 0;
}

.thoughts-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.thought-card {
  background: var(--primary-white);
  border: 1px solid var(--border-light);
  border-radius: 12px;
  padding: var(--space-6);
  transition: box-shadow var(--transition-normal);
}

.thought-card:hover {
  box-shadow: var(--shadow-md);
}

.thought-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-3);
}

.thought-date {
  font-size: var(--text-sm);
  color: var(--text-muted);
}

.thought-category-badge {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 500;
  border: 1px solid;
}

/* 统一颜色样式 - 与 thoughts-filter-btn 一致 */
.thought-category-badge.emotion,
.thought-category-badge.advice {
  background: transparent;
  border-color: #000;
  color: #000;
}

[data-theme="dark"] .thought-category-badge.emotion,
[data-theme="dark"] .thought-category-badge.advice {
  background: transparent;
  border-color: #00ffcc;
  color: #00ffcc;
}

.thought-body {
  font-size: var(--text-base);
  line-height: 1.7;
  color: var(--text-primary);
  white-space: pre-wrap;
}

.thought-comments {
  margin-top: var(--space-4);
  padding-top: var(--space-4);
  border-top: 1px solid var(--border-light);
}

.thought-comments-title {
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--text-muted);
  margin-bottom: var(--space-2);
}

.thought-comment {
  background: var(--background-subtle);
  border-radius: 8px;
  padding: var(--space-3);
  margin-bottom: var(--space-2);
  font-size: var(--text-sm);
}

[data-theme="dark"] .thought-comments {
  border-top-color: #334155;
}

[data-theme="dark"] .thought-comment {
  background: rgba(255, 255, 255, 0.05);
}

.thoughts-placeholder {
  text-align: center;
  color: var(--text-muted);
  padding: var(--space-8);
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .announcement-marquee {
    display: none;
  }

  .solo-content {
    padding: var(--space-4);
  }

  .thought-card {
    padding: var(--space-4);
  }
}


/* ===================================
   Admin Reply Styles
   =================================== */
.admin-reply {
  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
  border-left: 3px solid #0ea5e9;
}

.admin-badge {
  display: inline-block;
  background: #0ea5e9;
  color: #fff;
  font-size: 10px;
  font-weight: 600;
  padding: 2px 8px;
  border-radius: 10px;
  margin-right: 8px;
}

.admin-only-form {
  display: flex;
  gap: 8px;
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px dashed #e0e0e0;
}

.admin-only-form .comment-input {
  flex: 1;
  padding: 8px 12px;
  border: 1px solid #0ea5e9;
  border-radius: 6px;
  font-size: 14px;
}

.admin-only-form .comment-submit {
  background: #0ea5e9;
  color: #fff;
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
}

.admin-only-form .comment-submit:hover {
  background: #0284c7;
}

/* Solo text styling */
.solo-text {
  white-space: pre-wrap;
  line-height: 1.8;
  color: var(--text-primary);
}

/* Solo intro */
.solo-intro {
  white-space: pre-wrap;
  line-height: 1.8;
  color: var(--text-primary);
  margin-bottom: 20px;
  font-size: 15px;
}

/* Solo blocks */
.solo-blocks {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.solo-block-card {
  background: var(--background-subtle);
  border: 1px solid var(--border-light);
  border-radius: 10px;
  padding: 14px 18px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  transition: all 0.2s ease;
}

.solo-block-card:hover {
  border-color: var(--border-medium);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.solo-block-info {
  flex: 1;
  min-width: 0;
}

.solo-block-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 4px 0;
}

.solo-block-content {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.5;
  margin: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  box-orient: vertical;
}

.solo-block-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  background: transparent;
  color: var(--text-secondary);
  text-decoration: none;
  font-size: 13px;
  font-weight: 500;
  border: 1px solid var(--border-light);
  border-radius: 6px;
  transition: all 0.2s ease;
  white-space: nowrap;
  flex-shrink: 0;
}

.solo-block-link:hover {
  border-color: var(--text-primary);
  color: var(--text-primary);
  background: transparent;
  transform: none;
  box-shadow: none;
}

.solo-block-link svg {
  flex-shrink: 0;
  width: 14px;
  height: 14px;
}

/* Dark mode solo styles */
[data-theme="dark"] .solo-block-card {
  background: rgba(30, 41, 59, 0.6);
  border-color: rgba(100, 116, 139, 0.2);
}

[data-theme="dark"] .solo-block-card:hover {
  border-color: rgba(139, 92, 246, 0.3);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .solo-block-link {
  background: transparent;
  border-color: #334155;
  color: #94a3b8;
}

[data-theme="dark"] .solo-block-link:hover {
  border-color: #00ffcc;
  color: #00ffcc;
  background: rgba(0, 255, 204, 0.1);
  box-shadow: none;
}

/* Responsive */
@media (max-width: 640px) {
  .solo-block-card {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }

  .solo-block-link {
    align-self: flex-start;
  }
}

/* ========== Workflow Viewer ========== */
.workflow-viewer {
  margin-top: 24px;
  width: 100%;
  overflow: hidden;
}

.workflow-viewer-container {
  position: relative;
  width: 100%;
  height: 700px;
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 12px;
  overflow: auto;
}

.workflow-viewer-svg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.workflow-viewer-canvas {
  position: relative;
  width: 1600px;
  height: 800px;
  background-image: radial-gradient(circle, #1e293b 1px, transparent 1px);
  background-size: 20px 20px;
  padding: 20px;
}

.workflow-viewer-node {
  position: absolute;
  width: 200px;
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  border: 2px solid #3b82f6;
  border-radius: 10px;
  padding: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
  z-index: 10;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.workflow-viewer-node:hover {
  border-color: #60a5fa;
  box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3);
  transform: translateY(-2px);
}

.workflow-node-title {
  color: #e2e8f0;
  font-size: 14px;
  font-weight: 600;
  margin: 0 0 6px 0;
  line-height: 1.3;
}

.workflow-node-description {
  color: #94a3b8;
  font-size: 12px;
  margin: 0 0 10px 0;
  line-height: 1.5;
}

.workflow-node-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: var(--primary-black);
  color: var(--primary-white);
  text-decoration: none;
  font-size: 12px;
  font-weight: 500;
  border-radius: 6px;
  border: 1px solid var(--primary-black);
  transition: all 0.2s ease;
}

.workflow-node-link:hover {
  background: var(--primary-white);
  color: var(--primary-black);
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

/* Dark theme workflow node link */
[data-theme="dark"] .workflow-node-link {
  background: transparent;
  color: #06b6d4;
  border-color: #06b6d4;
}

[data-theme="dark"] .workflow-node-link:hover {
  background: rgba(6, 182, 212, 0.1);
  color: #0dd3e8;
  border-color: #0dd3e8;
  box-shadow: 0 0 10px rgba(6, 182, 212, 0.3);
}

/* Dark mode workflow styles */
[data-theme="dark"] .workflow-viewer-container {
  background: #0a0f1a;
  border-color: #1e293b;
}

[data-theme="dark"] .workflow-viewer-canvas {
  background-image: radial-gradient(circle, #1e293b 1px, transparent 1px);
}

[data-theme="dark"] .workflow-viewer-node {
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  border-color: #3b82f6;
}

[data-theme="dark"] .workflow-viewer-node:hover {
  border-color: #60a5fa;
  box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
}

/* Responsive workflow */
@media (max-width: 768px) {
  .workflow-viewer-container {
    height: 500px;
  }

  .workflow-viewer-canvas {
    width: 1200px;
    height: 600px;
  }

  .workflow-viewer-node {
    width: 180px;
    padding: 12px;
  }

  .workflow-node-title {
    font-size: 13px;
  }

  .workflow-node-description {
    font-size: 11px;
  }
}


/* ===================================
   User Avatar & Profile Popup Styles
   =================================== */

/* User Avatar */
.user-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary-black) 0%, #333 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
  position: relative;
}

.user-avatar:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.user-avatar--small {
  width: 36px;
  height: 36px;
}

.avatar-text {
  color: var(--primary-white);
  font-size: var(--text-md);
  font-weight: var(--font-semibold);
  text-transform: uppercase;
  user-select: none;
}

.user-avatar--small .avatar-text {
  font-size: var(--text-sm);
}

/* Profile Popup */
.profile-popup {
  position: fixed;
  top: calc(var(--header-height) + 10px);
  right: var(--content-padding);
  width: 300px;
  background: var(--primary-white);
  border: 1px solid var(--border-light);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-xl);
  z-index: calc(var(--z-header) + 10);
  overflow: hidden;
  animation: fadeInDown 0.2s ease-out;
}

.profile-popup-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-4) var(--space-5);
  border-bottom: 1px solid var(--border-light);
  background: var(--background-subtle);
}

.profile-popup-header h3 {
  margin: 0;
  font-size: var(--text-md);
  font-weight: var(--font-semibold);
  color: var(--text-primary);
}

.profile-popup-close {
  width: 28px;
  height: 28px;
  border: none;
  background: transparent;
  border-radius: var(--radius-full);
  cursor: pointer;
  font-size: 20px;
  color: var(--text-muted);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color var(--transition-fast), color var(--transition-fast);
}

.profile-popup-close:hover {
  background: var(--background-hover);
  color: var(--text-primary);
}

.profile-popup-content {
  padding: var(--space-5);
}

.profile-field {
  margin-bottom: var(--space-4);
}

.profile-field:last-child {
  margin-bottom: 0;
}

.profile-field label {
  display: block;
  font-size: var(--text-xs);
  font-weight: var(--font-medium);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
  margin-bottom: var(--space-1);
}

.profile-field span {
  display: block;
  font-size: var(--text-base);
  color: var(--text-primary);
  word-break: break-all;
}

.password-field {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.password-field span {
  flex: 1;
}

.password-hidden {
  font-family: var(--font-mono);
  letter-spacing: 2px;
}

.password-toggle {
  width: 32px;
  height: 32px;
  border: none;
  background: var(--background-subtle);
  border-radius: var(--radius-md);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  transition: background-color var(--transition-fast), color var(--transition-fast);
}

.password-toggle:hover {
  background: var(--background-hover);
  color: var(--text-primary);
}

.profile-popup-footer {
  padding: var(--space-4) var(--space-5);
  border-top: 1px solid var(--border-light);
  background: var(--background-subtle);
}

.profile-popup-footer .btn {
  width: auto;
  justify-content: center;
}

/* Profile Edit Mode Styles */
.profile-popup-content .form-input {
  width: 100%;
  padding: 8px 12px;
  font-size: 14px;
  border: 1px solid var(--border-light);
  border-radius: 6px;
  background: var(--background-primary);
  color: var(--text-primary);
  transition: border-color 0.2s;
}

.profile-popup-content .form-input:focus {
  outline: none;
  border-color: var(--accent-primary);
}

.profile-popup-content .form-input:disabled {
  background: var(--background-subtle);
  color: var(--text-secondary);
  cursor: not-allowed;
}

.profile-popup-content .password-field {
  display: flex;
  align-items: center;
  gap: 8px;
}

.profile-popup-content .password-field .form-input {
  flex: 1;
}

/* Mobile Responsive */
@media (max-width: 767px) {
  .profile-popup {
    position: fixed;
    top: var(--header-height);
    right: var(--space-3);
    left: var(--space-3);
    width: auto;
    max-width: 320px;
    margin: 0 auto;
  }

  .user-avatar {
    width: 36px;
    height: 36px;
  }

  .avatar-text {
    font-size: var(--text-sm);
  }
}

/* ===================================
   Light Mode Card Hover Effects
   白天模式卡片悬停效果（清新蓝色科技感）
   =================================== */

/* Light mode card base styles */
.tool-card,
.portfolio-item,
.service-card,
.thought-card {
  position: relative;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  transition: all 0.35s cubic-bezier(0.16, 1, 0.3, 1);
  overflow: hidden;
}

/* Light mode card inner glow overlay */
.tool-card::before,
.portfolio-item::before,
.service-card::before,
.thought-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), transparent);
  opacity: 0;
  transition: opacity 0.35s ease;
  pointer-events: none;
  z-index: 1;
}

/* Light mode card hover */
.tool-card:hover,
.portfolio-item:hover,
.service-card:hover,
.thought-card:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 0 16px 32px rgba(59, 130, 246, 0.15);
  border-color: #dbeafe;
}

.tool-card:hover::before,
.portfolio-item:hover::before,
.service-card:hover::before,
.thought-card:hover::before {
  opacity: 1;
}

/* Light mode card click */
.tool-card:active,
.portfolio-item:active,
.service-card:active,
.thought-card:active {
  transform: translateY(-6px) scale(1.04);
  transition: transform 0.1s ease;
}

/* Light mode navigation hover */
.nav-item {
  position: relative;
  transition: all 0.25s ease;
}

.nav-item::before {
  content: '';
  position: absolute;
  left: -8px;
  top: 50%;
  transform: translateY(-50%);
  width: 6px;
  height: 6px;
  background: #3b82f6;
  border-radius: 50%;
  opacity: 0;
  transition: all 0.25s ease;
}

.nav-item:hover {
  transform: translateX(6px);
  background: #e0e7ff;
  color: #2563eb;
}

.nav-item:hover::before {
  opacity: 1;
  transform: translateY(-50%) scale(1.3);
  background: #2563eb;
}


/* ===================================
   Custom Cursor with Trail Effect
   白天：蓝色光圈 + 蓝色拖尾（清新科技感）
   黑夜：赛博朋克风格 - 白色光圈 + 彩虹拖尾
   =================================== */

/* Hide default cursor when custom cursor is active */
body.cursor-active,
body.cursor-active * {
  cursor: none !important;
}

/* Restore cursor in puzzle captcha modal */
body.cursor-active .puzzle-captcha-modal,
body.cursor-active .puzzle-captcha-modal * {
  cursor: auto !important;
}

body.cursor-active .puzzle-slider-thumb {
  cursor: grab !important;
}

body.cursor-active .puzzle-slider-thumb:active {
  cursor: grabbing !important;
}

body.cursor-active .puzzle-close-btn,
body.cursor-active .puzzle-refresh-btn {
  cursor: pointer !important;
}

/* Main cursor dot - Light mode (blue glow orb) */
.cursor-dot {
  position: fixed;
  width: 26px;
  height: 26px;
  background: radial-gradient(circle, rgba(59, 130, 246, 0.25) 0%, transparent 70%);
  border: 2px solid #3b82f6;
  border-radius: 50%;
  pointer-events: none;
  z-index: 99999;
  transform: translate(-50%, -50%);
  transition: width 0.15s, height 0.15s, background 0.3s, border-color 0.3s, box-shadow 0.3s;
  box-shadow: 0 0 18px rgba(59, 130, 246, 0.35);
  mix-blend-mode: normal;
}

/* Cursor trail - Light mode (hidden, we use particles) */
.cursor-trail {
  position: fixed;
  background: #3b82f6;
  border-radius: 50%;
  pointer-events: none;
  z-index: 99998;
  transform: translate(-50%, -50%);
  transition: background 0.3s, opacity 0.3s;
}

/* Light mode hover effect */
.cursor-dot.cursor-hover {
  width: 32px;
  height: 32px;
  box-shadow: 0 0 25px rgba(59, 130, 246, 0.5);
}

/* Blue trail particle for light mode */
.blue-trail-particle {
  position: fixed;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 99998;
  transform: translate(-50%, -50%);
  animation: blue-trail-fade 0.7s ease-out forwards;
}

@keyframes blue-trail-fade {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }

  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0);
  }
}

/* Dark mode cursor - Cyberpunk glow orb */
[data-theme="dark"] .cursor-dot {
  width: 28px;
  height: 28px;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
  border: 2px solid transparent;
  box-shadow: 0 0 25px 8px rgba(255, 255, 255, 0.5);
  mix-blend-mode: screen;
}

[data-theme="dark"] .cursor-dot.cursor-hover {
  width: 36px;
  height: 36px;
  box-shadow: 0 0 35px 12px rgba(0, 255, 204, 0.6);
}

/* Rainbow trail particle for dark mode */
.rainbow-trail-particle {
  position: fixed;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 99998;
  transform: translate(-50%, -50%);
  animation: rainbow-trail-fade 0.8s ease-out forwards;
}

@keyframes rainbow-trail-fade {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }

  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0);
  }
}

/* Hide cursor on mobile */
@media (max-width: 767px),
(pointer: coarse) {

  .cursor-dot,
  .cursor-trail,
  .rainbow-trail-particle,
  .blue-trail-particle {
    display: none !important;
  }

  body.cursor-active,
  body.cursor-active * {
    cursor: auto !important;
  }
}

/* ===================================
   Dark Mode Theme - Cyberpunk Style
   赛博朋克风格黑夜模式
   =================================== */

[data-theme="dark"] {
  --primary-black: #ffffff;
  --primary-white: #0f172a;
  --primary-gray: #1e293b;
  --text-primary: #f0f0f0;
  --text-secondary: #94a3b8;
  --text-muted: #64748b;
  --text-light: #475569;
  --border-light: #334155;
  --border-medium: #475569;
  --background-subtle: #1e293b;
  --background-hover: #334155;
  --bg-primary: #0f172a;
  --accent-cyan: #00ffcc;
  --accent-cyan-dim: rgba(0, 255, 204, 0.1);
  --accent-cyan-glow: rgba(0, 255, 204, 0.15);
}

[data-theme="dark"] body {
  background-color: #0f172a;
  color: #f0f0f0;
}

[data-theme="dark"] html {
  background-color: #0f172a;
}

/* Light mode header - explicit reset */
[data-theme="light"] .site-header,
.site-header[data-theme="light"] {
  background-color: #ffffff !important;
  border-bottom-color: var(--primary-black);
}

[data-theme="light"] .site-header.scrolled,
.site-header[data-theme="light"].scrolled {
  background-color: rgba(255, 255, 255, 0.98) !important;
}

/* Dark mode header */
[data-theme="dark"] .site-header,
.site-header[data-theme="dark"] {
  background-color: #0f172a !important;
  border-bottom-color: #334155;
}

/* Fix header scroll background issue */
[data-theme="dark"] .site-header.scrolled,
.site-header[data-theme="dark"].scrolled {
  background-color: #0f172a !important;
}

[data-theme="dark"] .side-nav {
  background-color: #0f172a;
  border-right-color: #334155;
}

/* Dark mode sidebar toggle */
[data-theme="dark"] .sidebar-toggle {
  background: #1e293b;
  border-color: #334155;
}

[data-theme="dark"] .sidebar-toggle:hover {
  background: #334155;
}

[data-theme="dark"] .sidebar-toggle svg {
  stroke: #94a3b8;
}

/* Dark mode nav icon wrapper */
[data-theme="dark"] .nav-icon-wrapper {
  background: #1e293b;
}

[data-theme="dark"] .nav-icon-wrapper svg {
  stroke: #94a3b8;
}

[data-theme="dark"] .side-nav.collapsed .nav-item:hover .nav-icon-wrapper,
[data-theme="dark"] .side-nav.collapsed .nav-item.has-submenu:hover .nav-icon-wrapper {
  background: #334155;
}

[data-theme="dark"] .side-nav.collapsed .nav-item:hover .nav-icon-wrapper svg,
[data-theme="dark"] .side-nav.collapsed .nav-item.has-submenu:hover .nav-icon-wrapper svg {
  stroke: #00ffcc;
}

/* Dark mode tooltip */
[data-theme="dark"] .nav-tooltip {
  background: #1e293b;
  color: #f0f0f0;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
}

/* Dark mode submenu popup */
[data-theme="dark"] .nav-submenu-popup {
  background: #1e293b;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .submenu-popup-header {
  color: #64748b;
  border-bottom-color: #334155;
}

[data-theme="dark"] .submenu-popup-item {
  background: #0f172a;
}

[data-theme="dark"] .submenu-popup-item:hover {
  background: #334155;
}

[data-theme="dark"] .submenu-popup-item.active {
  background: #00ffcc;
}

[data-theme="dark"] .submenu-popup-item.active svg {
  stroke: #0f172a;
}

[data-theme="dark"] .submenu-popup-item svg {
  stroke: #94a3b8;
}

[data-theme="dark"] .submenu-popup-item:hover svg {
  stroke: #00ffcc;
}

/* Dark mode submenu tooltip - appears on the right */
[data-theme="dark"] .submenu-popup-item .submenu-tooltip {
  background: #1e293b;
  color: #f0f0f0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .submenu-popup-item .submenu-tooltip::after {
  border-right-color: #1e293b;
}

[data-theme="dark"] .main-content {
  background-color: #0f172a;
}

/* Dark mode hero section */
[data-theme="dark"] .hero-section {
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
}

/* Dark mode cards - Cyberpunk style */
[data-theme="dark"] .tool-card,
[data-theme="dark"] .portfolio-item,
[data-theme="dark"] .service-card,
[data-theme="dark"] .thought-card {
  background-color: #1e293b;
  border: 1px solid #334155;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  overflow: hidden;
}

/* Dark mode tool card logo */
[data-theme="dark"] .tool-card-logo {
  background-color: #0f172a;
  border: 1px solid #334155;
}

[data-theme="dark"] .tool-card::before,
[data-theme="dark"] .portfolio-item::before,
[data-theme="dark"] .service-card::before,
[data-theme="dark"] .thought-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(0, 255, 204, 0.1), transparent);
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
}

[data-theme="dark"] .tool-card:hover,
[data-theme="dark"] .portfolio-item:hover,
[data-theme="dark"] .service-card:hover,
[data-theme="dark"] .thought-card:hover {
  transform: translateY(-12px) scale(1.03);
  box-shadow: 0 20px 40px rgba(0, 255, 204, 0.15);
  border-color: rgba(0, 255, 204, 0.3);
}

[data-theme="dark"] .tool-card:hover::before,
[data-theme="dark"] .portfolio-item:hover::before,
[data-theme="dark"] .service-card:hover::before,
[data-theme="dark"] .thought-card:hover::before {
  opacity: 1;
}

[data-theme="dark"] .tool-card:active,
[data-theme="dark"] .portfolio-item:active,
[data-theme="dark"] .service-card:active,
[data-theme="dark"] .thought-card:active {
  transform: translateY(-4px) scale(1.05);
  transition: transform 0.1s ease;
}

/* Dark mode portfolio link */
[data-theme="dark"] .portfolio-actions {
  border-top-color: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .portfolio-link {
  color: #00ffcc;
}

[data-theme="dark"] .portfolio-link:hover {
  color: #ffffff;
}

/* Dark mode navigation - Cyberpunk style */
[data-theme="dark"] .nav-item {
  position: relative;
  transition: all 0.3s ease;
}

[data-theme="dark"] .nav-item::before {
  content: '';
  position: absolute;
  left: -8px;
  top: 50%;
  transform: translateY(-50%);
  width: 6px;
  height: 6px;
  background: #00ffcc;
  border-radius: 50%;
  opacity: 0;
  transition: opacity 0.3s ease;
}

[data-theme="dark"] .nav-item:hover {
  transform: translateX(8px);
  background: rgba(0, 255, 204, 0.1);
  color: #00ffcc;
}

[data-theme="dark"] .nav-item:hover::before {
  opacity: 1;
  animation: nav-dot-pulse 2s ease-in-out infinite;
}

@keyframes nav-dot-pulse {

  0%,
  100% {
    opacity: 0.6;
    transform: translateY(-50%) scale(1);
  }

  50% {
    opacity: 1;
    transform: translateY(-50%) scale(1.5);
  }
}

[data-theme="dark"] .nav-item.active {
  background-color: rgba(0, 255, 204, 0.2);
  color: #00ffcc;
  border-left: 3px solid #00ffcc;
}

[data-theme="dark"] .section-title {
  border-bottom-color: #334155;
  color: #f0f0f0;
}

/* Dark mode - Footer */
[data-theme="dark"] .site-footer {
  background-color: #0f172a !important;
  border-top: 1px solid #334155;
  color: #f0f0f0;
}

[data-theme="dark"] .footer-title {
  color: #f0f0f0;
}

[data-theme="dark"] .footer-description {
  color: #94a3b8;
}

[data-theme="dark"] .footer-section h4,
[data-theme="dark"] .footer-column-title {
  color: #f0f0f0;
}

[data-theme="dark"] .footer-link {
  color: #94a3b8;
}

[data-theme="dark"] .footer-link:hover {
  color: #00ffcc;
}

[data-theme="dark"] .footer-bottom {
  border-top-color: #334155;
  color: #64748b;
}

[data-theme="dark"] .footer-copyright {
  color: #64748b;
}

[data-theme="dark"] .social-link {
  color: #94a3b8;
  border-color: #334155;
}

[data-theme="dark"] .social-link:hover {
  color: #00ffcc;
  border-color: #00ffcc;
}

/* Dark mode buttons */
[data-theme="dark"] .btn--primary {
  background: linear-gradient(135deg, #00ffcc, #00ccff);
  color: #0f172a;
  border: none;
}

[data-theme="dark"] .btn--primary:hover {
  box-shadow: 0 0 20px rgba(0, 255, 204, 0.4);
}

[data-theme="dark"] .btn--outline,
[data-theme="dark"] .btn--secondary {
  border-color: #00ffcc;
  color: #00ffcc;
}

[data-theme="dark"] .btn--outline:hover,
[data-theme="dark"] .btn--secondary:hover {
  background: rgba(0, 255, 204, 0.1);
}

/* Dark mode thoughts section buttons */
[data-theme="dark"] .btn-write-thought {
  background: transparent;
  border: 1px solid #334155;
  color: #94a3b8;
}

[data-theme="dark"] .btn-write-thought:hover {
  background: rgba(0, 255, 204, 0.1);
  border-color: #00ffcc;
  color: #00ffcc;
  transform: none;
}

[data-theme="dark"] .thoughts-filter-btn {
  border-color: #334155;
  color: #94a3b8;
}

[data-theme="dark"] .thoughts-filter-btn:hover,
[data-theme="dark"] .thoughts-filter-btn.active {
  background: rgba(0, 255, 204, 0.1);
  border-color: #00ffcc;
  color: #00ffcc;
}

/* Dark mode portfolio filter buttons */
[data-theme="dark"] .filter-btn {
  border-color: #334155;
  color: #94a3b8;
  background-color: transparent;
}

[data-theme="dark"] .filter-btn:hover {
  border-color: #00ffcc;
  color: #00ffcc;
  background: rgba(0, 255, 204, 0.05);
}

[data-theme="dark"] .filter-btn.active,
[data-theme="dark"] .filter-btn.filter-btn--active {
  background: rgba(0, 255, 204, 0.1);
  border-color: #00ffcc;
  color: #00ffcc;
  box-shadow: 0 0 10px rgba(0, 255, 204, 0.2);
}

/* ===================================
   Dynamic Background Particle System
   全屏动态背景粒子效果
   =================================== */

#dynamic-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 9999;
  pointer-events: none;
}

/* Dark mode background enhancement */
[data-theme="dark"] #dynamic-background {
  opacity: 1;
}

/* Light mode - slightly reduced opacity */
#dynamic-background {
  opacity: 0.8;
}

/* Mobile - reduce particles visibility slightly */
@media (max-width: 767px) {
  #dynamic-background {
    opacity: 0.5;
  }
}

/* Background mode switcher button (optional) */
.bg-mode-switcher {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 100;
  display: flex;
  gap: 8px;
  padding: 8px;
  background: var(--primary-white);
  border: 1px solid var(--border-light);
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.bg-mode-btn {
  padding: 6px 12px;
  border: 1px solid var(--border-light);
  border-radius: 4px;
  background: transparent;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s;
}

.bg-mode-btn:hover {
  background: var(--background-hover);
}

.bg-mode-btn.active {
  background: var(--primary-black);
  color: var(--primary-white);
  border-color: var(--primary-black);
}

[data-theme="dark"] .bg-mode-switcher {
  background: #1a1a1a;
  border-color: #333;
}

[data-theme="dark"] .bg-mode-btn {
  border-color: #444;
  color: #f0f0f0;
}

[data-theme="dark"] .bg-mode-btn:hover {
  background: #333;
}

[data-theme="dark"] .bg-mode-btn.active {
  background: #00ffcc;
  color: #0f172a;
  border-color: #00ffcc;
}


/* ===================================
   Task 9.1: Browser Compatibility & CSS Prefixes
   浏览器兼容性和CSS前缀处理
   Requirements: 7.4
   =================================== */

/* ===================================
   Vendor Prefixed Keyframe Animations
   为关键帧动画添加浏览器前缀
   =================================== */

/* Hero Title Fade Up - Prefixed */
@-webkit-keyframes heroTitleFadeUp {
  0% {
    opacity: 0;
    -webkit-transform: translateY(30px);
    transform: translateY(30px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
}

@-moz-keyframes heroTitleFadeUp {
  0% {
    opacity: 0;
    -moz-transform: translateY(30px);
    transform: translateY(30px);
  }

  100% {
    opacity: 1;
    -moz-transform: translateY(0);
    transform: translateY(0);
  }
}

/* Hero Subtitle Slide Up - Prefixed */
@-webkit-keyframes heroSubtitleSlideUp {
  0% {
    opacity: 0;
    -webkit-transform: translateY(20px);
    transform: translateY(20px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
}

@-moz-keyframes heroSubtitleSlideUp {
  0% {
    opacity: 0;
    -moz-transform: translateY(20px);
    transform: translateY(20px);
  }

  100% {
    opacity: 1;
    -moz-transform: translateY(0);
    transform: translateY(0);
  }
}

/* Hero Button Bounce In - Prefixed */
@-webkit-keyframes heroBtnBounceIn {
  0% {
    opacity: 0;
    -webkit-transform: translateY(30px);
    transform: translateY(30px);
  }

  60% {
    opacity: 1;
    -webkit-transform: translateY(-10px);
    transform: translateY(-10px);
  }

  80% {
    -webkit-transform: translateY(5px);
    transform: translateY(5px);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
  }
}

@-moz-keyframes heroBtnBounceIn {
  0% {
    opacity: 0;
    -moz-transform: translateY(30px);
    transform: translateY(30px);
  }

  60% {
    opacity: 1;
    -moz-transform: translateY(-10px);
    transform: translateY(-10px);
  }

  80% {
    -moz-transform: translateY(5px);
    transform: translateY(5px);
  }

  100% {
    opacity: 1;
    -moz-transform: translateY(0);
    transform: translateY(0);
  }
}

/* Hero Neon Glow - Prefixed */
@-webkit-keyframes heroNeonGlow {

  0%,
  100% {
    text-shadow:
      0 0 10px var(--hero-dark-glow-3),
      0 0 20px var(--hero-dark-glow-2),
      0 0 30px var(--hero-dark-glow-1),
      0 0 40px var(--hero-dark-glow-1);
  }

  33% {
    text-shadow:
      0 0 10px var(--hero-dark-glow-1),
      0 0 20px var(--hero-dark-glow-3),
      0 0 30px var(--hero-dark-glow-2),
      0 0 40px var(--hero-dark-glow-2);
  }

  66% {
    text-shadow:
      0 0 10px var(--hero-dark-glow-2),
      0 0 20px var(--hero-dark-glow-1),
      0 0 30px var(--hero-dark-glow-3),
      0 0 40px var(--hero-dark-glow-3);
  }
}

@-moz-keyframes heroNeonGlow {

  0%,
  100% {
    text-shadow:
      0 0 10px var(--hero-dark-glow-3),
      0 0 20px var(--hero-dark-glow-2),
      0 0 30px var(--hero-dark-glow-1),
      0 0 40px var(--hero-dark-glow-1);
  }

  33% {
    text-shadow:
      0 0 10px var(--hero-dark-glow-1),
      0 0 20px var(--hero-dark-glow-3),
      0 0 30px var(--hero-dark-glow-2),
      0 0 40px var(--hero-dark-glow-2);
  }

  66% {
    text-shadow:
      0 0 10px var(--hero-dark-glow-2),
      0 0 20px var(--hero-dark-glow-1),
      0 0 30px var(--hero-dark-glow-3),
      0 0 40px var(--hero-dark-glow-3);
  }
}

/* Hero Cursor Blink - Prefixed */
@-webkit-keyframes heroCursorBlink {

  0%,
  50% {
    opacity: 1;
  }

  51%,
  100% {
    opacity: 0;
  }
}

@-moz-keyframes heroCursorBlink {

  0%,
  50% {
    opacity: 1;
  }

  51%,
  100% {
    opacity: 0;
  }
}

/* Hero Shimmer - Prefixed */
@-webkit-keyframes heroShimmer {
  0% {
    background-position: 200% 0;
  }

  100% {
    background-position: -200% 0;
  }
}

@-moz-keyframes heroShimmer {
  0% {
    background-position: 200% 0;
  }

  100% {
    background-position: -200% 0;
  }
}

/* Hero Button Pulse - Prefixed */
@-webkit-keyframes heroBtnPulse {

  0%,
  100% {
    -webkit-box-shadow: 0 0 15px var(--hero-dark-btn-glow);
    box-shadow: 0 0 15px var(--hero-dark-btn-glow);
  }

  50% {
    -webkit-box-shadow: 0 0 25px var(--hero-dark-btn-glow), 0 0 35px rgba(6, 182, 212, 0.3);
    box-shadow: 0 0 25px var(--hero-dark-btn-glow), 0 0 35px rgba(6, 182, 212, 0.3);
  }
}

@-moz-keyframes heroBtnPulse {

  0%,
  100% {
    -moz-box-shadow: 0 0 15px var(--hero-dark-btn-glow);
    box-shadow: 0 0 15px var(--hero-dark-btn-glow);
  }

  50% {
    -moz-box-shadow: 0 0 25px var(--hero-dark-btn-glow), 0 0 35px rgba(6, 182, 212, 0.3);
    box-shadow: 0 0 25px var(--hero-dark-btn-glow), 0 0 35px rgba(6, 182, 212, 0.3);
  }
}

/* Theme Toggle Spin - Prefixed */
@-webkit-keyframes themeToggleSpin {
  0% {
    -webkit-transform: rotate(0deg) scale(1);
    transform: rotate(0deg) scale(1);
  }

  50% {
    -webkit-transform: rotate(180deg) scale(1.2);
    transform: rotate(180deg) scale(1.2);
  }

  100% {
    -webkit-transform: rotate(360deg) scale(1);
    transform: rotate(360deg) scale(1);
  }
}

@-moz-keyframes themeToggleSpin {
  0% {
    -moz-transform: rotate(0deg) scale(1);
    transform: rotate(0deg) scale(1);
  }

  50% {
    -moz-transform: rotate(180deg) scale(1.2);
    transform: rotate(180deg) scale(1.2);
  }

  100% {
    -moz-transform: rotate(360deg) scale(1);
    transform: rotate(360deg) scale(1);
  }
}

/* Bounce Animation - Prefixed */
@-webkit-keyframes bounce {

  0%,
  20%,
  50%,
  80%,
  100% {
    -webkit-transform: translateX(-50%) translateY(0);
    transform: translateX(-50%) translateY(0);
  }

  40% {
    -webkit-transform: translateX(-50%) translateY(-10px);
    transform: translateX(-50%) translateY(-10px);
  }

  60% {
    -webkit-transform: translateX(-50%) translateY(-5px);
    transform: translateX(-50%) translateY(-5px);
  }
}

@-moz-keyframes bounce {

  0%,
  20%,
  50%,
  80%,
  100% {
    -moz-transform: translateX(-50%) translateY(0);
    transform: translateX(-50%) translateY(0);
  }

  40% {
    -moz-transform: translateX(-50%) translateY(-10px);
    transform: translateX(-50%) translateY(-10px);
  }

  60% {
    -moz-transform: translateX(-50%) translateY(-5px);
    transform: translateX(-50%) translateY(-5px);
  }
}

/* ===================================
   Vendor Prefixed Properties for Hero Elements
   为Hero元素添加浏览器前缀属性
   =================================== */

/* Hero Title with prefixes */
.hero-title {
  -webkit-transform: translateY(30px);
  -moz-transform: translateY(30px);
  -ms-transform: translateY(30px);
  transform: translateY(30px);
}

.hero-section[data-theme="light"] .hero-title.animate {
  -webkit-animation: heroTitleFadeUp var(--hero-title-duration) var(--hero-ease-out) forwards;
  -moz-animation: heroTitleFadeUp var(--hero-title-duration) var(--hero-ease-out) forwards;
  animation: heroTitleFadeUp var(--hero-title-duration) var(--hero-ease-out) forwards;
}

/* Hero Subtitle with prefixes */
.hero-subtitle {
  -webkit-transform: translateY(20px);
  -moz-transform: translateY(20px);
  -ms-transform: translateY(20px);
  transform: translateY(20px);
}

.hero-section[data-theme="light"] .hero-subtitle.animate {
  -webkit-animation: heroSubtitleSlideUp var(--hero-subtitle-duration) var(--hero-ease-out) forwards;
  -moz-animation: heroSubtitleSlideUp var(--hero-subtitle-duration) var(--hero-ease-out) forwards;
  animation: heroSubtitleSlideUp var(--hero-subtitle-duration) var(--hero-ease-out) forwards;
  -webkit-animation-delay: var(--hero-subtitle-delay);
  -moz-animation-delay: var(--hero-subtitle-delay);
  animation-delay: var(--hero-subtitle-delay);
}

/* Hero Actions with prefixes - DISABLED to fix button position */
/* .hero-actions {
  -webkit-transform: translateY(30px);
  -moz-transform: translateY(30px);
  -ms-transform: translateY(30px);
  transform: translateY(30px);
}

.hero-actions.animate {
  -webkit-animation: heroBtnBounceIn var(--hero-btn-duration) var(--hero-ease-bounce) forwards;
  -moz-animation: heroBtnBounceIn var(--hero-btn-duration) var(--hero-ease-bounce) forwards;
  animation: heroBtnBounceIn var(--hero-btn-duration) var(--hero-ease-bounce) forwards;
  -webkit-animation-delay: var(--hero-btn-delay);
  -moz-animation-delay: var(--hero-btn-delay);
  animation-delay: var(--hero-btn-delay);
} */

/* Dark mode title neon glow with prefixes */
.hero-section[data-theme="dark"] .hero-title-text {
  -webkit-animation: heroNeonGlow var(--hero-glow-duration) ease-in-out infinite;
  -moz-animation: heroNeonGlow var(--hero-glow-duration) ease-in-out infinite;
  animation: heroNeonGlow var(--hero-glow-duration) ease-in-out infinite;
}

/* Cursor blink with prefixes */
.hero-title-cursor {
  -webkit-animation: heroCursorBlink 0.7s infinite;
  -moz-animation: heroCursorBlink 0.7s infinite;
  animation: heroCursorBlink 0.7s infinite;
}

/* Shimmer effect with prefixes */
.hero-section[data-theme="dark"] .hero-subtitle-text {
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  -webkit-animation: heroShimmer var(--hero-shimmer-duration) ease-in-out infinite;
  -moz-animation: heroShimmer var(--hero-shimmer-duration) ease-in-out infinite;
  animation: heroShimmer var(--hero-shimmer-duration) ease-in-out infinite;
  -webkit-animation-delay: 4s;
  -moz-animation-delay: 4s;
  animation-delay: 4s;
}

/* Button pulse with prefixes */
.hero-section[data-theme="dark"] .hero-btn.pulse {
  -webkit-animation: heroBtnPulse var(--hero-pulse-duration) ease-in-out infinite;
  -moz-animation: heroBtnPulse var(--hero-pulse-duration) ease-in-out infinite;
  animation: heroBtnPulse var(--hero-pulse-duration) ease-in-out infinite;
}

/* Theme toggle spin with prefixes */
.theme-transitioning .hero-theme-toggle {
  -webkit-animation: themeToggleSpin 0.5s ease;
  -moz-animation: themeToggleSpin 0.5s ease;
  animation: themeToggleSpin 0.5s ease;
}

/* Scroll indicator bounce with prefixes */
.scroll-indicator {
  -webkit-animation: bounce 2s infinite;
  -moz-animation: bounce 2s infinite;
  animation: bounce 2s infinite;
}

/* ===================================
   Hardware Acceleration with Prefixes
   硬件加速属性前缀
   =================================== */

.hero-title,
.hero-subtitle,
.hero-actions,
.hero-btn,
.hero-theme-toggle,
.hero-pause-toggle,
.hero-particles-canvas {
  -webkit-transform: translateZ(0);
  -moz-transform: translateZ(0);
  -ms-transform: translateZ(0);
  transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  -moz-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-perspective: 1000px;
  -moz-perspective: 1000px;
  perspective: 1000px;
}

/* Will-change hints for performance */
.hero-title,
.hero-subtitle,
.hero-actions {
  will-change: transform, opacity;
}

.hero-particles-canvas {
  will-change: contents;
}

.hero-btn {
  will-change: transform, box-shadow;
}

/* ===================================
   @supports Feature Detection
   使用@supports检测特性支持
   =================================== */

/* CSS Grid Support */
@supports (display: grid) {

  .tool-grid,
  .portfolio-grid,
  .services-grid {
    display: grid;
  }
}

/* Fallback for browsers without grid support */
@supports not (display: grid) {

  .tool-grid,
  .portfolio-grid,
  .services-grid {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-flex-wrap: wrap;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
  }

  .tool-card,
  .portfolio-item,
  .service-card {
    -webkit-box-flex: 0;
    -ms-flex: 0 0 calc(33.333% - 20px);
    flex: 0 0 calc(33.333% - 20px);
    margin: 10px;
  }
}

/* CSS Custom Properties (Variables) Support */
@supports (--custom: property) {
  /* Custom properties are supported - no additional styles needed */
  /* This block intentionally left minimal as CSS variables work natively */
}

/* Fallback for browsers without CSS variables */
@supports not (--custom: property) {
  .hero-section[data-theme="light"] {
    background: #f8fafc;
  }

  .hero-section[data-theme="dark"] {
    background: #0a0f1a;
  }

  .hero-section[data-theme="light"] .hero-title {
    color: #1e3a5f;
  }

  .hero-section[data-theme="dark"] .hero-title {
    color: #ffffff;
  }
}

/* Backdrop Filter Support */
@supports ((-webkit-backdrop-filter: blur(10px)) or (backdrop-filter: blur(10px))) {
  .site-header.scrolled {
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    background-color: rgba(255, 255, 255, 0.98);
  }

  [data-theme="dark"] .site-header.scrolled {
    background-color: rgba(15, 23, 42, 0.98);
  }
}

/* Fallback for browsers without backdrop-filter */
@supports not ((-webkit-backdrop-filter: blur(10px)) or (backdrop-filter: blur(10px))) {
  .site-header.scrolled {
    background-color: #ffffff;
  }

  [data-theme="dark"] .site-header.scrolled {
    background-color: #0f172a;
  }
}

/* CSS Animations Support */
@supports (animation-name: test) {
  /* Animations are supported */
}

/* Fallback for browsers without animation support */
@supports not (animation-name: test) {

  .hero-title,
  .hero-subtitle,
  .hero-actions {
    opacity: 1;
    -webkit-transform: none;
    -moz-transform: none;
    -ms-transform: none;
    transform: none;
  }

  .hero-title-text {
    text-shadow: none;
  }

  .hero-particles-canvas {
    display: none;
  }
}

/* Flexbox Support */
@supports (display: flex) {

  .hero-actions,
  .hero-content,
  .nav-auth {
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
  }
}

/* Transform Support */
@supports (transform: translateY(0)) {

  .hero-title,
  .hero-subtitle,
  .hero-actions {
    -webkit-transform: translateY(30px);
    -moz-transform: translateY(30px);
    -ms-transform: translateY(30px);
    transform: translateY(30px);
  }
}

/* Box Shadow Support for Neon Effects */
@supports (box-shadow: 0 0 10px rgba(0, 0, 0, 0.5)) {
  .hero-section[data-theme="dark"] .hero-btn--primary {
    -webkit-box-shadow:
      0 0 10px var(--hero-dark-btn-glow),
      0 0 20px rgba(6, 182, 212, 0.3),
      inset 0 0 10px rgba(255, 255, 255, 0.1);
    -moz-box-shadow:
      0 0 10px var(--hero-dark-btn-glow),
      0 0 20px rgba(6, 182, 212, 0.3),
      inset 0 0 10px rgba(255, 255, 255, 0.1);
    box-shadow:
      0 0 10px var(--hero-dark-btn-glow),
      0 0 20px rgba(6, 182, 212, 0.3),
      inset 0 0 10px rgba(255, 255, 255, 0.1);
  }
}

/* ===================================
   Legacy Browser Flexbox Prefixes
   旧版浏览器Flexbox前缀
   =================================== */

.hero-section {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
  -webkit-align-items: center;
  -ms-flex-align: center;
  align-items: center;
  -webkit-box-pack: center;
  -webkit-justify-content: center;
  -ms-flex-pack: center;
  justify-content: center;
}

.hero-content {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-box-align: center;
  -webkit-align-items: center;
  -ms-flex-align: center;
  align-items: center;
}

.hero-actions {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
  -webkit-box-pack: center;
  -webkit-justify-content: center;
  -ms-flex-pack: center;
  justify-content: center;
}

/* ===================================
   Transition Prefixes
   过渡效果前缀
   =================================== */

.hero-section {
  -webkit-transition: background 0.5s ease;
  -moz-transition: background 0.5s ease;
  -o-transition: background 0.5s ease;
  transition: background 0.5s ease;
}

.hero-btn {
  -webkit-transition: all 0.3s ease;
  -moz-transition: all 0.3s ease;
  -o-transition: all 0.3s ease;
  transition: all 0.3s ease;
}

.hero-theme-toggle,
.hero-pause-toggle {
  -webkit-transition: all 0.3s ease;
  -moz-transition: all 0.3s ease;
  -o-transition: all 0.3s ease;
  transition: all 0.3s ease;
}

.theme-icon {
  -webkit-transition: opacity 0.3s ease, -webkit-transform 0.3s ease;
  -moz-transition: opacity 0.3s ease, -moz-transform 0.3s ease;
  -o-transition: opacity 0.3s ease, -o-transform 0.3s ease;
  transition: opacity 0.3s ease, transform 0.3s ease;
}

/* ===================================
   User Select Prefixes
   用户选择前缀
   =================================== */

.hero-title,
.hero-subtitle {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* ===================================
   Appearance Prefixes for Form Elements
   表单元素外观前缀
   =================================== */

.hero-btn {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

/* ===================================
   Filter Prefixes for Blur Effects
   滤镜效果前缀
   =================================== */

@supports ((-webkit-filter: blur(10px)) or (filter: blur(10px))) {
  .hero-particles-canvas.blur-effect {
    -webkit-filter: blur(2px);
    filter: blur(2px);
  }
}


/* ===================================
   Task 9.2: Canvas Fallback Styles
   Canvas不支持时的CSS-only降级方案
   Requirements: 7.2, 7.3
   =================================== */

/* ===================================
   No Canvas Fallback Class
   当Canvas不支持时应用的样式
   =================================== */

/* Fallback indicator class - applied by JavaScript when Canvas is not supported */
.hero-section.no-canvas-fallback .hero-particles-canvas {
  display: none !important;
}

/* CSS-only animated background for light mode fallback */
.hero-section.no-canvas-fallback[data-theme="light"] {
  background: linear-gradient(135deg,
      #f8fafc 0%,
      #e0f2fe 25%,
      #f0f9ff 50%,
      #e0f2fe 75%,
      #f8fafc 100%);
  background-size: 400% 400%;
  -webkit-animation: lightModeFallbackBg 15s ease infinite;
  -moz-animation: lightModeFallbackBg 15s ease infinite;
  animation: lightModeFallbackBg 15s ease infinite;
}

/* CSS-only animated background for dark mode fallback */
.hero-section.no-canvas-fallback[data-theme="dark"] {
  background: linear-gradient(135deg,
      #0a0f1a 0%,
      #1e293b 25%,
      #0f172a 50%,
      #1e293b 75%,
      #0a0f1a 100%);
  background-size: 400% 400%;
  -webkit-animation: darkModeFallbackBg 20s ease infinite;
  -moz-animation: darkModeFallbackBg 20s ease infinite;
  animation: darkModeFallbackBg 20s ease infinite;
}

/* Light mode fallback background animation */
@-webkit-keyframes lightModeFallbackBg {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

@-moz-keyframes lightModeFallbackBg {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

@keyframes lightModeFallbackBg {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

/* Dark mode fallback background animation */
@-webkit-keyframes darkModeFallbackBg {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

@-moz-keyframes darkModeFallbackBg {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

@keyframes darkModeFallbackBg {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

/* ===================================
   CSS-only Floating Particles (Pseudo-elements)
   使用伪元素模拟浮动粒子效果
   =================================== */

/* Light mode floating particles */
.hero-section.no-canvas-fallback[data-theme="light"]::before,
.hero-section.no-canvas-fallback[data-theme="light"]::after {
  content: '';
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
  opacity: 0.4;
}

.hero-section.no-canvas-fallback[data-theme="light"]::before {
  width: 300px;
  height: 300px;
  background: radial-gradient(circle, rgba(135, 206, 235, 0.3) 0%, transparent 70%);
  top: 20%;
  left: 10%;
  -webkit-animation: floatParticle1 8s ease-in-out infinite;
  -moz-animation: floatParticle1 8s ease-in-out infinite;
  animation: floatParticle1 8s ease-in-out infinite;
}

.hero-section.no-canvas-fallback[data-theme="light"]::after {
  width: 200px;
  height: 200px;
  background: radial-gradient(circle, rgba(176, 224, 230, 0.4) 0%, transparent 70%);
  bottom: 30%;
  right: 15%;
  -webkit-animation: floatParticle2 10s ease-in-out infinite;
  -moz-animation: floatParticle2 10s ease-in-out infinite;
  animation: floatParticle2 10s ease-in-out infinite;
}

/* Dark mode floating particles with neon glow */
.hero-section.no-canvas-fallback[data-theme="dark"]::before,
.hero-section.no-canvas-fallback[data-theme="dark"]::after {
  content: '';
  position: absolute;
  border-radius: 50%;
  pointer-events: none;
}

.hero-section.no-canvas-fallback[data-theme="dark"]::before {
  width: 400px;
  height: 400px;
  background: radial-gradient(circle, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 50%, transparent 70%);
  top: 10%;
  left: 5%;
  -webkit-animation: floatParticle1 12s ease-in-out infinite, glowPulse 4s ease-in-out infinite;
  -moz-animation: floatParticle1 12s ease-in-out infinite, glowPulse 4s ease-in-out infinite;
  animation: floatParticle1 12s ease-in-out infinite, glowPulse 4s ease-in-out infinite;
}

.hero-section.no-canvas-fallback[data-theme="dark"]::after {
  width: 350px;
  height: 350px;
  background: radial-gradient(circle, rgba(6, 182, 212, 0.2) 0%, rgba(34, 211, 238, 0.1) 50%, transparent 70%);
  bottom: 15%;
  right: 10%;
  -webkit-animation: floatParticle2 15s ease-in-out infinite, glowPulse 5s ease-in-out infinite 1s;
  -moz-animation: floatParticle2 15s ease-in-out infinite, glowPulse 5s ease-in-out infinite 1s;
  animation: floatParticle2 15s ease-in-out infinite, glowPulse 5s ease-in-out infinite 1s;
}

/* Floating particle animations */
@-webkit-keyframes floatParticle1 {

  0%,
  100% {
    -webkit-transform: translate(0, 0) scale(1);
    transform: translate(0, 0) scale(1);
  }

  25% {
    -webkit-transform: translate(30px, -40px) scale(1.1);
    transform: translate(30px, -40px) scale(1.1);
  }

  50% {
    -webkit-transform: translate(-20px, -60px) scale(0.9);
    transform: translate(-20px, -60px) scale(0.9);
  }

  75% {
    -webkit-transform: translate(-40px, -20px) scale(1.05);
    transform: translate(-40px, -20px) scale(1.05);
  }
}

@-moz-keyframes floatParticle1 {

  0%,
  100% {
    -moz-transform: translate(0, 0) scale(1);
    transform: translate(0, 0) scale(1);
  }

  25% {
    -moz-transform: translate(30px, -40px) scale(1.1);
    transform: translate(30px, -40px) scale(1.1);
  }

  50% {
    -moz-transform: translate(-20px, -60px) scale(0.9);
    transform: translate(-20px, -60px) scale(0.9);
  }

  75% {
    -moz-transform: translate(-40px, -20px) scale(1.05);
    transform: translate(-40px, -20px) scale(1.05);
  }
}

@keyframes floatParticle1 {

  0%,
  100% {
    transform: translate(0, 0) scale(1);
  }

  25% {
    transform: translate(30px, -40px) scale(1.1);
  }

  50% {
    transform: translate(-20px, -60px) scale(0.9);
  }

  75% {
    transform: translate(-40px, -20px) scale(1.05);
  }
}

@-webkit-keyframes floatParticle2 {

  0%,
  100% {
    -webkit-transform: translate(0, 0) scale(1);
    transform: translate(0, 0) scale(1);
  }

  33% {
    -webkit-transform: translate(-50px, 30px) scale(1.15);
    transform: translate(-50px, 30px) scale(1.15);
  }

  66% {
    -webkit-transform: translate(40px, -50px) scale(0.85);
    transform: translate(40px, -50px) scale(0.85);
  }
}

@-moz-keyframes floatParticle2 {

  0%,
  100% {
    -moz-transform: translate(0, 0) scale(1);
    transform: translate(0, 0) scale(1);
  }

  33% {
    -moz-transform: translate(-50px, 30px) scale(1.15);
    transform: translate(-50px, 30px) scale(1.15);
  }

  66% {
    -moz-transform: translate(40px, -50px) scale(0.85);
    transform: translate(40px, -50px) scale(0.85);
  }
}

@keyframes floatParticle2 {

  0%,
  100% {
    transform: translate(0, 0) scale(1);
  }

  33% {
    transform: translate(-50px, 30px) scale(1.15);
  }

  66% {
    transform: translate(40px, -50px) scale(0.85);
  }
}

/* Glow pulse animation for dark mode */
@-webkit-keyframes glowPulse {

  0%,
  100% {
    opacity: 0.3;
  }

  50% {
    opacity: 0.6;
  }
}

@-moz-keyframes glowPulse {

  0%,
  100% {
    opacity: 0.3;
  }

  50% {
    opacity: 0.6;
  }
}

@keyframes glowPulse {

  0%,
  100% {
    opacity: 0.3;
  }

  50% {
    opacity: 0.6;
  }
}

/* ===================================
   Additional Fallback Decorative Elements
   额外的装饰性元素（使用hero-content的伪元素）
   =================================== */

/* Light mode additional floating elements */
.hero-section.no-canvas-fallback[data-theme="light"] .hero-content::before {
  content: '';
  position: absolute;
  width: 150px;
  height: 150px;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.6) 0%, transparent 70%);
  top: -50px;
  right: -100px;
  border-radius: 50%;
  -webkit-animation: floatParticle3 6s ease-in-out infinite;
  -moz-animation: floatParticle3 6s ease-in-out infinite;
  animation: floatParticle3 6s ease-in-out infinite;
  pointer-events: none;
}

/* Dark mode additional neon orbs */
.hero-section.no-canvas-fallback[data-theme="dark"] .hero-content::before {
  content: '';
  position: absolute;
  width: 100px;
  height: 100px;
  background: radial-gradient(circle, rgba(236, 72, 153, 0.3) 0%, transparent 70%);
  top: -30px;
  right: -80px;
  border-radius: 50%;
  -webkit-animation: floatParticle3 7s ease-in-out infinite, glowPulse 3s ease-in-out infinite;
  -moz-animation: floatParticle3 7s ease-in-out infinite, glowPulse 3s ease-in-out infinite;
  animation: floatParticle3 7s ease-in-out infinite, glowPulse 3s ease-in-out infinite;
  pointer-events: none;
}

@-webkit-keyframes floatParticle3 {

  0%,
  100% {
    -webkit-transform: translate(0, 0);
    transform: translate(0, 0);
  }

  50% {
    -webkit-transform: translate(-20px, 30px);
    transform: translate(-20px, 30px);
  }
}

@-moz-keyframes floatParticle3 {

  0%,
  100% {
    -moz-transform: translate(0, 0);
    transform: translate(0, 0);
  }

  50% {
    -moz-transform: translate(-20px, 30px);
    transform: translate(-20px, 30px);
  }
}

@keyframes floatParticle3 {

  0%,
  100% {
    transform: translate(0, 0);
  }

  50% {
    transform: translate(-20px, 30px);
  }
}

/* ===================================
   Static Fallback (No Animation Support)
   完全静态降级（无动画支持时）
   =================================== */

/* When both Canvas and CSS animations are not supported */
.hero-section.no-canvas-fallback.no-animation-fallback {
  background: #f8fafc !important;
  -webkit-animation: none !important;
  -moz-animation: none !important;
  animation: none !important;
}

.hero-section.no-canvas-fallback.no-animation-fallback[data-theme="dark"] {
  background: #0a0f1a !important;
}

.hero-section.no-canvas-fallback.no-animation-fallback::before,
.hero-section.no-canvas-fallback.no-animation-fallback::after,
.hero-section.no-canvas-fallback.no-animation-fallback .hero-content::before {
  display: none !important;
}

/* Static gradient overlay for visual interest */
.hero-section.no-canvas-fallback.no-animation-fallback[data-theme="light"] {
  background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 50%, #f0f9ff 100%) !important;
}

.hero-section.no-canvas-fallback.no-animation-fallback[data-theme="dark"] {
  background: linear-gradient(135deg, #0a0f1a 0%, #1e293b 50%, #0f172a 100%) !important;
}

/* Ensure content is always visible in fallback mode */
.hero-section.no-canvas-fallback .hero-title,
.hero-section.no-canvas-fallback .hero-subtitle,
.hero-section.no-canvas-fallback .hero-actions {
  opacity: 1;
  -webkit-transform: none;
  -moz-transform: none;
  -ms-transform: none;
  transform: none;
}

/* ===================================
   Reduced Motion + No Canvas Combined
   减少动画 + 无Canvas组合
   =================================== */

@media (prefers-reduced-motion: reduce) {

  .hero-section.no-canvas-fallback,
  .hero-section.no-canvas-fallback[data-theme="light"],
  .hero-section.no-canvas-fallback[data-theme="dark"] {
    -webkit-animation: none !important;
    -moz-animation: none !important;
    animation: none !important;
  }

  .hero-section.no-canvas-fallback::before,
  .hero-section.no-canvas-fallback::after,
  .hero-section.no-canvas-fallback .hero-content::before {
    -webkit-animation: none !important;
    -moz-animation: none !important;
    animation: none !important;
    opacity: 0.3;
  }
}

/* ===================================
   Mobile Fallback Optimizations
   移动端降级优化
   =================================== */

@media (max-width: 767px) {

  .hero-section.no-canvas-fallback::before,
  .hero-section.no-canvas-fallback::after {
    width: 150px;
    height: 150px;
  }

  .hero-section.no-canvas-fallback .hero-content::before {
    width: 80px;
    height: 80px;
  }

  /* Simplify animations on mobile */
  .hero-section.no-canvas-fallback[data-theme="light"],
  .hero-section.no-canvas-fallback[data-theme="dark"] {
    -webkit-animation-duration: 20s;
    -moz-animation-duration: 20s;
    animation-duration: 20s;
  }
}

/* ===================================
   Print Styles for Fallback
   打印样式
   =================================== */

@media print {
  .hero-section.no-canvas-fallback {
    background: #ffffff !important;
    -webkit-animation: none !important;
    -moz-animation: none !important;
    animation: none !important;
  }

  .hero-section.no-canvas-fallback::before,
  .hero-section.no-canvas-fallback::after,
  .hero-section.no-canvas-fallback .hero-content::before {
    display: none !important;
  }
}

/* ===================================
   Navigation Control Buttons
   导航栏控制按钮样式
   =================================== */

.nav-control-btn {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: none;
  background: rgba(0, 0, 0, 0.05);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  flex-shrink: 0;
  color: var(--text-primary);
}

.nav-control-btn:hover {
  transform: scale(1.1);
  background: rgba(0, 0, 0, 0.1);
}

.nav-control-btn:active {
  transform: scale(0.95);
}

.nav-control-btn:focus {
  outline: none;
}

.nav-control-btn:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
}

.nav-control-icon {
  width: 16px;
  height: 16px;
  transition: all 0.3s ease;
  color: inherit;
}

/* Light mode nav control buttons - ensure dark icon color */
[data-theme="light"] .nav-control-btn,
body:not([data-theme="dark"]) .nav-control-btn {
  color: #1a1a1a;
}

/* Dark mode nav control buttons */
[data-theme="dark"] .nav-control-btn {
  background: rgba(255, 255, 255, 0.1);
  color: #f0f0f0;
}

[data-theme="dark"] .nav-control-btn:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* Pause button states */
.nav-control-btn.paused .nav-control-icon--pause {
  display: none;
}

.nav-control-btn.paused .nav-control-icon--play {
  display: block !important;
}

/* Theme button states */
/* Light mode - show moon icon (to switch to dark) */
[data-theme="light"] .nav-control-icon--sun {
  display: none !important;
}

[data-theme="light"] .nav-control-icon--moon {
  display: block !important;
}

/* Dark mode - show sun icon (to switch to light) */
[data-theme="dark"] .nav-control-icon--sun {
  display: block !important;
}

[data-theme="dark"] .nav-control-icon--moon {
  display: none !important;
}

/* ===================================
   AI Ranking Styles
   AI排行榜样式
   =================================== */

.ai-ranking-container {
  display: flex;
  flex-direction: column;
  gap: 0;
  margin-top: var(--space-4);
}

.ai-ranking-tier {
  display: flex;
  min-height: 100px;
  border: 1px solid var(--border-light);
  border-bottom: none;
  transition: all 0.3s ease;
}

.ai-ranking-tier:last-child {
  border-bottom: 1px solid var(--border-light);
}

.ai-ranking-tier.collapsed {
  min-height: 50px;
}

.ai-ranking-tier.collapsed .tier-items {
  display: none;
}

.tier-label {
  width: 100px;
  min-width: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  cursor: default;
  transition: all 0.3s ease;
  position: relative;
}

.tier-label:hover {
  opacity: 0.9;
}

.tier-items {
  flex: 1;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3);
  background: transparent;
  min-height: 80px;
}

.tier-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-1);
  cursor: pointer;
  transition: all 0.2s ease;
  padding: var(--space-2);
  border-radius: var(--radius-lg);
}

.tier-item:hover {
  background: rgba(0, 0, 0, 0.05);
  transform: translateY(-2px);
}

[data-theme="dark"] .tier-item:hover {
  background: rgba(255, 255, 255, 0.1);
}

.tier-item-image {
  width: 60px;
  height: 60px;
  border-radius: var(--radius-lg);
  object-fit: cover;
  border: 2px solid var(--border-light);
  background: var(--background-subtle);
}

.tier-item-name {
  font-size: var(--text-xs);
  font-weight: var(--font-medium);
  color: var(--text-primary);
  text-align: center;
  max-width: 80px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

[data-theme="dark"] .tier-item-name {
  color: #e0e0e0;
}

.tier-empty {
  color: var(--text-muted);
  font-size: var(--text-sm);
  font-style: italic;
}

/* AI Ranking Item Modal */
.ai-ranking-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.ai-ranking-modal.open {
  opacity: 1;
  visibility: visible;
}

.ai-ranking-modal-content {
  background: var(--primary-white);
  border-radius: var(--radius-xl);
  padding: var(--space-6);
  max-width: 500px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  transform: scale(0.9);
  transition: transform 0.3s ease;
}

.ai-ranking-modal.open .ai-ranking-modal-content {
  transform: scale(1);
}

[data-theme="dark"] .ai-ranking-modal-content {
  background: #1e293b;
  color: #e0e0e0;
}

.ai-ranking-modal-header {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  margin-bottom: var(--space-4);
}

.ai-ranking-modal-image {
  width: 80px;
  height: 80px;
  border-radius: var(--radius-lg);
  object-fit: cover;
}

.ai-ranking-modal-title {
  font-size: var(--text-xl);
  font-weight: var(--font-bold);
  color: var(--text-primary);
}

[data-theme="dark"] .ai-ranking-modal-title {
  color: #fff;
}

.ai-ranking-modal-close {
  position: absolute;
  top: var(--space-4);
  right: var(--space-4);
  width: 32px;
  height: 32px;
  border: none;
  background: rgba(0, 0, 0, 0.1);
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  color: var(--text-secondary);
  transition: all 0.2s ease;
}

.ai-ranking-modal-close:hover {
  background: rgba(0, 0, 0, 0.2);
}

.ai-ranking-modal-description {
  font-size: var(--text-base);
  color: var(--text-secondary);
  line-height: 1.6;
  margin-bottom: var(--space-4);
}

[data-theme="dark"] .ai-ranking-modal-description {
  color: #94a3b8;
}

.ai-ranking-modal-link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-4);
  background: var(--primary-black);
  color: var(--primary-white);
  border-radius: var(--radius-md);
  text-decoration: none;
  font-weight: var(--font-medium);
  transition: all 0.2s ease;
  border: 2px solid var(--primary-black);
}

.ai-ranking-modal-link:hover {
  background: var(--primary-white);
  color: var(--primary-black);
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

/* Dark theme AI ranking modal link */
[data-theme="dark"] .ai-ranking-modal-link {
  background: #06b6d4;
  color: #0a0f1a;
  border-color: #06b6d4;
  box-shadow: 0 0 10px rgba(6, 182, 212, 0.3);
}

[data-theme="dark"] .ai-ranking-modal-link:hover {
  background: #0dd3e8;
  color: #0a0f1a;
  box-shadow: 0 0 20px rgba(6, 182, 212, 0.5);
  transform: translateY(-2px);
}

/* Responsive AI Ranking */
@media (max-width: 767px) {
  .tier-label {
    width: 70px;
    min-width: 70px;
    font-size: var(--text-lg);
  }

  .tier-item-image {
    width: 50px;
    height: 50px;
  }

  .tier-item-name {
    max-width: 60px;
    font-size: 10px;
  }
}

/* Board Tabs Styles - 与 thoughts-filter-btn 样式一致 */
.boards-tabs {
  display: flex;
  gap: 8px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}

.board-tab {
  padding: 8px 16px;
  border: 1px solid #e0e0e0;
  border-radius: 20px;
  background: transparent;
  color: var(--text-secondary);
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s ease;
}

.board-tab:hover {
  border-color: #000;
  color: #000;
}

.board-tab.active {
  background: #000;
  border-color: #000;
  color: white;
}

[data-theme="dark"] .board-tab {
  border-color: #334155;
  color: #94a3b8;
}

[data-theme="dark"] .board-tab:hover {
  background: rgba(0, 255, 204, 0.1);
  border-color: #00ffcc;
  color: #00ffcc;
}

[data-theme="dark"] .board-tab.active {
  background: rgba(0, 255, 204, 0.2);
  border-color: #00ffcc;
  color: #00ffcc;
}

.board-content {
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid #e0e0e0;
}

[data-theme="dark"] .board-content {
  border-color: #334155;
}

/* Tier Row Styles (for tools.html) - 透明背景，无三角形 */
.tier-row {
  display: flex;
  border: none;
  border-bottom: 1px solid #e0e0e0;
  min-height: 80px;
}

.tier-row:last-child {
  border-bottom: none;
}

[data-theme="dark"] .tier-row {
  border-color: #334155;
}

[data-theme="dark"] .tier-row:last-child {
  border-color: transparent;
}

.tier-row .tier-label {
  width: 80px;
  min-width: 80px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  font-weight: 700;
  user-select: none;
  cursor: default;
}

.tier-row .tier-name {
  font-size: 1.25rem;
}

.tier-row .tier-toggle {
  display: none;
}

.tier-row .tier-items {
  flex: 1;
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  align-content: flex-start;
  gap: 12px;
  padding: 12px;
  background: transparent;
  min-height: 80px;
  transition: all 0.3s ease;
}

[data-theme="dark"] .tier-row .tier-items {
  background: transparent;
}

.tier-row .tier-items.collapsed {
  display: flex;
}

.tier-row .tier-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  padding: 8px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.tier-row .tier-item:hover {
  background: rgba(0, 0, 0, 0.05);
  transform: translateY(-2px);
}

[data-theme="dark"] .tier-row .tier-item:hover {
  background: rgba(255, 255, 255, 0.1);
}

.tier-row .tier-item-img {
  width: 56px;
  height: 56px;
  border-radius: 8px;
  object-fit: cover;
  border: 2px solid var(--border-light);
}

.tier-row .tier-item-img-placeholder {
  width: 56px;
  height: 56px;
  border-radius: 8px;
  background: var(--background-subtle);
  border: 2px solid var(--border-light);
}

.tier-row .tier-item-name {
  font-size: 12px;
  font-weight: 500;
  color: var(--text-primary);
  text-align: center;
  max-width: 70px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

[data-theme="dark"] .tier-row .tier-item-name {
  color: #e2e8f0;
}

.tier-row .tier-empty {
  color: var(--text-muted);
  font-size: 13px;
  font-style: italic;
}

/* Ranking Detail Modal */
.ranking-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.ranking-modal-content {
  background: var(--primary-white);
  border-radius: 16px;
  padding: 0;
  max-width: 400px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  position: relative;
  animation: modalFadeIn 0.3s ease;
}

@keyframes modalFadeIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

[data-theme="dark"] .ranking-modal-content {
  background: #1e293b;
}

.ranking-modal-close {
  position: absolute;
  top: 12px;
  right: 12px;
  width: 32px;
  height: 32px;
  border: none;
  background: rgba(0, 0, 0, 0.1);
  border-radius: 50%;
  cursor: pointer;
  font-size: 20px;
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  z-index: 10;
}

.ranking-modal-close:hover {
  background: rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .ranking-modal-close {
  background: rgba(255, 255, 255, 0.1);
  color: #94a3b8;
}

[data-theme="dark"] .ranking-modal-close:hover {
  background: rgba(255, 255, 255, 0.2);
}

.ranking-modal-body {
  padding: 24px;
}

.ranking-detail {
  text-align: center;
}

.ranking-detail-img {
  width: 100px;
  height: 100px;
  border-radius: 12px;
  object-fit: cover;
  margin-bottom: 16px;
  border: 3px solid var(--border-light);
}

.ranking-detail-name {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 8px;
}

[data-theme="dark"] .ranking-detail-name {
  color: #fff;
}

.ranking-detail-tier {
  font-size: 0.875rem;
  font-weight: 600;
  margin-bottom: 16px;
}

.ranking-detail-desc {
  font-size: 0.9375rem;
  color: var(--text-secondary);
  line-height: 1.6;
  margin-bottom: 20px;
  text-align: left;
}

[data-theme="dark"] .ranking-detail-desc {
  color: #94a3b8;
}

/* AI Rankings modal link button - unified theme design */
.ranking-detail-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 12px 24px;
  font-size: 14px;
  font-weight: 600;
  color: #ffffff;
  background: var(--primary-black);
  border: 2px solid var(--primary-black);
  border-radius: 8px;
  text-decoration: none;
  transition: all 0.3s ease;
}

.ranking-detail-link:hover {
  background: var(--primary-white);
  color: var(--primary-black);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Dark theme - cyan neon effect */
[data-theme="dark"] .ranking-detail-link {
  background: transparent;
  color: #06b6d4;
  border: 2px solid #06b6d4;
  box-shadow: 0 0 15px rgba(6, 182, 212, 0.3);
}

[data-theme="dark"] .ranking-detail-link:hover {
  background: rgba(6, 182, 212, 0.1);
  color: #0dd3e8;
  border-color: #0dd3e8;
  box-shadow: 0 0 25px rgba(6, 182, 212, 0.6), 0 4px 12px rgba(0, 0, 0, 0.3);
  transform: translateY(-2px);
}

/* Responsive Tier Row */
@media (max-width: 767px) {
  .tier-row .tier-label {
    width: 60px;
    min-width: 60px;
  }

  .tier-row .tier-name {
    font-size: 1rem;
  }

  .tier-row .tier-item-img,
  .tier-row .tier-item-img-placeholder {
    width: 44px;
    height: 44px;
  }

  .tier-row .tier-item-name {
    font-size: 10px;
    max-width: 50px;
  }
}


/* 分类筛选按钮样式 - 与现有filter-btn保持一致 */
.category-filters {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-bottom: 24px;
}

.category-filter-btn {
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--text-secondary);
  background-color: transparent;
  border: 1px solid var(--border-light);
  border-radius: var(--radius-full);
  cursor: pointer;
  transition: all var(--transition-fast);
  font-family: inherit;
}

.category-filter-btn:hover {
  border-color: var(--border-medium);
  color: var(--text-primary);
}

.category-filter-btn.active {
  background-color: var(--primary-black);
  color: var(--primary-white);
  border-color: var(--primary-black);
}

.category-filter-btn:focus {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
}


/* ===================================
   Workflow Visualization (Frontend Display)
   =================================== */

.workflow-visualization-container {
  margin-top: var(--space-8);
  background: transparent;
  border-radius: var(--radius-xl);
  padding: var(--space-8);
  border: none;
}

.workflow-title {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  color: #1a1a1a;
  margin-bottom: var(--space-2);
  text-align: center;
}

.workflow-description {
  font-size: var(--text-base);
  color: #666666;
  text-align: center;
  margin-bottom: var(--space-6);
}

[data-theme="dark"] .workflow-visualization-container {
  background: transparent;
}

[data-theme="dark"] .workflow-title {
  color: #f1f5f9;
}

[data-theme="dark"] .workflow-description {
  color: #94a3b8;
}

.workflow-canvas-wrapper {
  position: relative;
  width: 100%;
  min-height: 520px;
  height: auto;
  background: #ffffff;
  border: 1px solid #e0e0e0;
  border-radius: 16px;
  overflow: hidden;
  transition: all 0.3s ease;
}

/* Pan hint */
.workflow-canvas-wrapper::after {
  content: none;
}

.workflow-controls {
  position: absolute;
  top: var(--space-4);
  right: var(--space-4);
  z-index: 10;
  display: flex;
  gap: var(--space-2);
  background: rgba(30, 41, 59, 0.9);
  padding: var(--space-2);
  border-radius: var(--radius-md);
  backdrop-filter: blur(10px);
}

.workflow-control-btn {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: 1px solid #334155;
  border-radius: var(--radius-md);
  color: #94a3b8;
  cursor: pointer;
  transition: all 0.2s;
}

.workflow-control-btn:hover {
  background: #1e293b;
  border-color: #3b82f6;
  color: #3b82f6;
}

.workflow-canvas {
  position: relative;
  width: 100%;
  min-height: 520px;
  cursor: grab;
  background-image: radial-gradient(circle, #e0e0e0 1px, transparent 1px);
  background-size: 20px 20px;
  overflow: visible;
}

[data-theme="dark"] .workflow-canvas {
  background-image: radial-gradient(circle, #1e293b 1px, transparent 1px);
}

.workflow-canvas.dragging {
  cursor: grabbing;
}

.workflow-connections {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  transform-origin: 0 0;
  overflow: visible;
}

.workflow-nodes {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  transform-origin: 0 0;
  z-index: 2;
}

.workflow-node {
  position: absolute;
  width: 220px;
  background: #1e293b;
  border: 2px solid #3b82f6;
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.workflow-node:hover {
  border-color: #60a5fa;
  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);
  transform: translateY(-2px);
  z-index: 10;
}

.workflow-node-title {
  font-size: var(--text-base);
  font-weight: var(--font-semibold);
  color: #e2e8f0;
  margin-bottom: var(--space-2);
  line-height: 1.3;
}

.workflow-node-description {
  font-size: var(--text-sm);
  color: #94a3b8;
  line-height: 1.5;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  box-orient: vertical;
  overflow: hidden;
}

/* Workflow Modal */
.workflow-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  z-index: 1000;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(4px);
}

.workflow-modal.active {
  display: flex;
}

.workflow-modal-content {
  background: #1e293b;
  border-radius: var(--radius-xl);
  padding: var(--space-8);
  max-width: 500px;
  width: 90%;
  border: 1px solid #334155;
  position: relative;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.workflow-modal-close {
  position: absolute;
  top: var(--space-4);
  right: var(--space-4);
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  color: #94a3b8;
  font-size: 24px;
  cursor: pointer;
  border-radius: var(--radius-md);
  transition: all 0.2s;
}

.workflow-modal-close:hover {
  background: #334155;
  color: #e2e8f0;
}

.workflow-modal-title {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  color: #e2e8f0;
  margin-bottom: var(--space-3);
}

.workflow-modal-description {
  font-size: var(--text-base);
  color: #94a3b8;
  margin-bottom: var(--space-4);
  line-height: 1.6;
}

.workflow-modal-content-text {
  font-size: var(--text-sm);
  color: #cbd5e1;
  line-height: 1.7;
  margin-bottom: var(--space-6);
  padding: var(--space-4);
  background: #0f172a;
  border-radius: var(--radius-md);
  border-left: 3px solid #3b82f6;
}

.workflow-modal-link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-6);
  background: #3b82f6;
  color: #ffffff;
  text-decoration: none;
  border-radius: var(--radius-md);
  font-weight: var(--font-medium);
  transition: all 0.2s;
}

.workflow-modal-link:hover {
  background: #2563eb;
  transform: translateX(4px);
}

/* Responsive */
@media (max-width: 768px) {
  .workflow-canvas-wrapper {
    min-height: 300px;
  }

  .workflow-node {
    width: 180px;
    padding: var(--space-3);
  }

  .workflow-node-title {
    font-size: var(--text-sm);
  }

  .workflow-node-description {
    font-size: var(--text-xs);
  }

  .workflow-modal-content {
    padding: var(--space-6);
  }
}

/* ========================================
   Solopreneur Section - 一人公司工作流
   ======================================== */

.solopreneur-section {
  padding: var(--space-20) 0;
  background: transparent;
}

[data-theme="dark"] .solopreneur-section {
  background: transparent;
}

/* 工作流选择器 */
.workflow-selector {
  display: flex !important;
  justify-content: center;
  gap: 8px;
  margin-bottom: 32px;
  flex-wrap: wrap;
  align-items: center;
  visibility: visible !important;
  opacity: 1 !important;
  min-height: 44px;
}

/* 确保选择器在有内容时显示 */
.workflow-selector:not(:empty) {
  display: flex !important;
}

.workflow-refresh-btn {
  padding: 8px 14px;
  background: #3b82f6;
  color: #ffffff;
  border: none;
  border-radius: 999px;
  cursor: pointer;
  font-size: 13px;
  font-weight: 600;
  transition: all 0.2s ease;
}

.workflow-refresh-btn:hover {
  background: #2563eb;
}

.workflow-hint-text {
  font-size: 12px;
  color: #94a3b8;
}

/* 白天模式 - 黑白极简风格 */
.workflow-tab {
  padding: 10px 24px;
  font-size: 14px;
  font-weight: 500;
  color: #666666;
  background: transparent;
  border: 1px solid #e0e0e0;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.workflow-tab:hover {
  color: #1a1a1a;
  border-color: #1a1a1a;
  background: rgba(0, 0, 0, 0.02);
}

.workflow-tab.active {
  color: #ffffff;
  background: #1a1a1a;
  border-color: #1a1a1a;
}

/* 暗色模式 - 符合深色页面风格 */
[data-theme="dark"] .workflow-tab {
  color: #94a3b8;
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.15);
}

[data-theme="dark"] .workflow-tab:hover {
  color: #e2e8f0;
  border-color: rgba(255, 255, 255, 0.4);
  background: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .workflow-tab.active {
  color: #0a0f1a;
  background: #e2e8f0;
  border-color: #e2e8f0;
}

/* 工作流标题 */
.workflow-section-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--text-primary);
  text-align: center;
  margin-bottom: 8px;
}

.workflow-section-description {
  font-size: 1rem;
  color: var(--text-secondary);
  text-align: center;
  margin-bottom: 24px;
}

[data-theme="dark"] .workflow-section-title {
  color: #f1f5f9;
}

[data-theme="dark"] .workflow-section-description {
  color: #94a3b8;
}

/* 暗色模式画布 - 深色背景 */
[data-theme="dark"] .workflow-canvas-wrapper {
  background: #0f172a;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: none;
}

/* 移除星空粒子效果 - 保持简洁 */
[data-theme="dark"] .workflow-canvas-wrapper::before {
  display: none;
}

/* 节点样式 - 白天模式：黑色背景白字 */
.workflow-node {
  position: absolute;
  width: 180px;
  background: #1a1a1a;
  border: none;
  border-radius: 16px;
  padding: 16px;
  z-index: 2;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

.workflow-node:hover {
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25);
  transform: translateY(-6px) scale(1.02);
}

.workflow-node h4 {
  color: #ffffff;
  font-size: 14px;
  font-weight: 600;
  margin: 0 0 6px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

.workflow-node h4::before {
  content: '';
  width: 8px;
  height: 8px;
  background: #ffffff;
  border-radius: 50%;
  flex-shrink: 0;
}

.workflow-node p {
  color: rgba(255, 255, 255, 0.7);
  font-size: 12px;
  margin: 0;
  line-height: 1.5;
  padding-left: 16px;
}

/* 暗色模式节点 - 保持深色玻璃态 */
[data-theme="dark"] .workflow-node {
  background: rgba(30, 41, 59, 0.9);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20px);
}

[data-theme="dark"] .workflow-node:hover {
  box-shadow: 0 12px 50px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.2);
  transform: translateY(-6px) scale(1.02);
}

[data-theme="dark"] .workflow-node h4 {
  color: #f1f5f9;
}

[data-theme="dark"] .workflow-node h4::before {
  background: #60a5fa;
  box-shadow: 0 0 10px rgba(96, 165, 250, 0.5);
}

[data-theme="dark"] .workflow-node p {
  color: #94a3b8;
}

/* 隐藏连接点 - 使用更简洁的设计 */
.node-connector {
  display: none;
}

/* SVG连接线 */
#workflow-connections {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  overflow: visible;
}

#workflow-connections path {
  transition: stroke 0.3s ease;
}

/* 确保暗色模式下SVG可见 */
[data-theme="dark"] #workflow-connections {
  opacity: 1;
}

[data-theme="dark"] #workflow-connections path {
  stroke: #ffffff;
}

/* 同步指示器 */
.sync-indicator {
  position: absolute;
  top: 16px;
  right: 16px;
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: var(--text-muted, #888888);
  opacity: 0;
  transition: opacity 0.3s;
  z-index: 10;
}

.sync-indicator.syncing {
  opacity: 1;
}

.sync-dot {
  width: 8px;
  height: 8px;
  background: #22c55e;
  border-radius: 50%;
  animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {

  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }

  50% {
    opacity: 0.5;
    transform: scale(0.8);
  }
}

/* 工作流弹窗 */
.workflow-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  z-index: 9999;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(4px);
}

.workflow-modal.active {
  display: flex;
}

.workflow-modal-content {
  background: #ffffff;
  border-radius: 20px;
  padding: 32px;
  width: 90%;
  max-width: 480px;
  border: none;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: 0 25px 60px -12px rgba(0, 0, 0, 0.3);
  position: relative;
}

.workflow-modal-close {
  position: absolute;
  top: 16px;
  right: 16px;
  background: #f5f5f5;
  border: none;
  color: #666666;
  font-size: 20px;
  cursor: pointer;
  padding: 0;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: all 0.2s;
  line-height: 1;
}

.workflow-modal-close:hover {
  background: #e5e5e5;
  color: #333333;
}

.workflow-modal-title {
  font-size: 22px;
  font-weight: 700;
  color: #1a1a1a;
  margin-bottom: 12px;
  padding-right: 40px;
}

.workflow-modal-description {
  font-size: 14px;
  color: #666666;
  line-height: 1.6;
  margin-bottom: 16px;
  padding: 12px 16px;
  background: #f8fafc;
  border-radius: 10px;
}

.workflow-modal-content-text {
  font-size: 14px;
  color: #333333;
  line-height: 1.7;
  margin-bottom: 20px;
  padding: 16px;
  background: #f8fafc;
  border-radius: 10px;
  border-left: 3px solid #3b82f6;
}

.workflow-modal-link {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: var(--primary-white);
  text-decoration: none;
  font-weight: 500;
  padding: 12px 24px;
  background: var(--primary-black);
  border: 2px solid var(--primary-black);
  border-radius: 10px;
  transition: all 0.3s;
}

.workflow-modal-link:hover {
  background: var(--primary-white);
  color: var(--primary-black);
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

/* Dark theme workflow modal link */
[data-theme="dark"] .workflow-modal-link {
  background: #06b6d4;
  color: #0a0f1a;
  border-color: #06b6d4;
  box-shadow: 0 0 10px rgba(6, 182, 212, 0.3);
}

[data-theme="dark"] .workflow-modal-link:hover {
  background: #0dd3e8;
  color: #0a0f1a;
  box-shadow: 0 0 20px rgba(6, 182, 212, 0.5);
  transform: translateY(-2px);
}

/* 暗色模式弹窗 */
[data-theme="dark"] .workflow-modal-content {
  background: #1e293b;
}

[data-theme="dark"] .workflow-modal-title {
  color: #f1f5f9;
}

[data-theme="dark"] .workflow-modal-description {
  color: #94a3b8;
  background: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .workflow-modal-content-text {
  color: #e2e8f0;
  background: rgba(255, 255, 255, 0.05);
  border-left-color: #60a5fa;
}

[data-theme="dark"] .workflow-modal-close {
  background: rgba(255, 255, 255, 0.1);
  color: #94a3b8;
}

[data-theme="dark"] .workflow-modal-close:hover {
  background: rgba(255, 255, 255, 0.15);
  color: #f1f5f9;
}

/* 响应式 */
@media (max-width: 768px) {
  .workflow-canvas-wrapper {
    min-height: 300px;
  }

  .workflow-node {
    width: 140px;
    padding: 10px;
  }

  .workflow-node h4 {
    font-size: 12px;
  }

  .workflow-node p {
    font-size: 10px;
  }
}


/* ===================================
   Workflow Cards - 工作流卡片样式
   和admin.html后台一样的卡片列表
   =================================== */

.workflow-cards-container {
  margin-top: 40px;
}

.workflow-cards-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 20px;
}

.workflows-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 16px;
}

.workflow-card {
  background: var(--background-subtle);
  border: 1px solid var(--border-light);
  border-radius: 12px;
  padding: 16px;
  transition: all 0.2s;
  cursor: pointer;
}

.workflow-card:hover {
  border-color: var(--accent-blue);
  box-shadow: 0 4px 12px rgba(0, 102, 204, 0.15);
  transform: translateY(-2px);
}

.workflow-card-header {
  margin-bottom: 8px;
}

.workflow-card-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 4px 0;
}

.workflow-card-desc {
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 12px;
  line-height: 1.4;
}

.workflow-card-preview {
  width: 100%;
  height: 120px;
  background: var(--background-hover);
  border: 1px solid var(--border-light);
  border-radius: 8px;
  margin-bottom: 12px;
  position: relative;
  overflow: hidden;
}

.workflow-card-preview-canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  transform: scale(0.12);
  transform-origin: 0 0;
}

.workflow-card-stats {
  display: flex;
  gap: 12px;
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 12px;
}

/* Workflow viewer node styles - theme aware */
.workflow-viewer-node {
  background: #ffffff;
  border: 2px solid #000000;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: all 0.2s ease;
}

.workflow-viewer-node:hover {
  background: #f5f5f5;
  border-color: #333333;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  transform: translateY(-2px);
}

.workflow-viewer-node-title {
  color: #000000;
  font-size: 14px;
  font-weight: 600;
  margin: 0 0 8px 0;
}

.workflow-viewer-node-description {
  color: #666666;
  font-size: 12px;
  margin: 0;
  line-height: 1.5;
}

.empty-workflows {
  text-align: center;
  padding: 40px 20px;
  color: var(--text-muted);
}

.empty-workflows svg {
  width: 64px;
  height: 64px;
  margin-bottom: 16px;
  opacity: 0.5;
}

/* 工作流查看器模态框 */
.workflow-viewer-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  z-index: 9999;
  align-items: center;
  justify-content: center;
}

.workflow-viewer-modal.active {
  display: flex;
}

.workflow-viewer-content {
  background: var(--primary-white);
  border-radius: 12px;
  width: 95%;
  max-width: 1200px;
  max-height: 90vh;
  overflow: hidden;
  border: 1px solid var(--border-light);
}

.workflow-viewer-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  border-bottom: 1px solid var(--border-light);
}

.workflow-viewer-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}

.workflow-viewer-close {
  background: var(--background-hover);
  border: none;
  color: var(--text-secondary);
  font-size: 24px;
  cursor: pointer;
  padding: 4px 12px;
  border-radius: 6px;
  transition: all 0.2s;
}

.workflow-viewer-close:hover {
  background: var(--border-light);
  color: var(--text-primary);
}

.workflow-viewer-canvas-container {
  position: relative;
  width: 100%;
  height: 500px;
  background: var(--background-subtle);
  overflow: hidden;
}

.workflow-viewer-canvas {
  position: relative;
  width: 100%;
  height: 100%;
  background-image: radial-gradient(circle, var(--border-light) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* 节点详情模态框 */
.node-detail-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  z-index: 10000;
  align-items: center;
  justify-content: center;
}

.node-detail-modal.active {
  display: flex;
}

.node-detail-content {
  background: var(--primary-white);
  border-radius: 12px;
  padding: 24px;
  width: 90%;
  max-width: 500px;
  border: 1px solid var(--border-light);
  position: relative;
}

.node-detail-title {
  font-size: 20px;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0 0 12px 0;
}

.node-detail-desc {
  font-size: 14px;
  color: var(--text-secondary);
  margin-bottom: 16px;
  line-height: 1.6;
}

.node-detail-text {
  font-size: 14px;
  color: var(--text-primary);
  margin-bottom: 16px;
  line-height: 1.6;
}

.node-detail-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 12px 24px;
  font-size: 14px;
  font-weight: 600;
  color: #ffffff;
  background: var(--primary-black);
  border: 2px solid var(--primary-black);
  border-radius: 8px;
  text-decoration: none;
  transition: all 0.3s ease;
  margin-top: 16px;
}

.node-detail-link:hover {
  background: var(--primary-white);
  color: var(--primary-black);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.node-detail-close {
  position: absolute;
  top: 16px;
  right: 16px;
  background: var(--background-hover);
  border: none;
  color: var(--text-secondary);
  font-size: 20px;
  cursor: pointer;
  padding: 4px 10px;
  border-radius: 6px;
  transition: all 0.2s;
}

.node-detail-close:hover {
  background: var(--border-light);
  color: var(--text-primary);
}

/* 暗色模式适配 */
[data-theme="dark"] .workflow-cards-title {
  color: #f1f5f9;
}

[data-theme="dark"] .workflow-card {
  background: #1e293b;
  border-color: #334155;
}

[data-theme="dark"] .workflow-card:hover {
  border-color: #3b82f6;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
}

[data-theme="dark"] .workflow-card-title {
  color: #f1f5f9;
}

[data-theme="dark"] .workflow-card-desc {
  color: #94a3b8;
}

[data-theme="dark"] .workflow-card-preview {
  background: #0f172a;
  border-color: #334155;
}

[data-theme="dark"] .workflow-card-stats {
  color: #64748b;
}

/* Dark theme workflow viewer node styles */
[data-theme="dark"] .workflow-viewer-node {
  background: rgba(6, 182, 212, 0.1);
  border: 2px solid #06b6d4;
  box-shadow: 0 0 15px rgba(6, 182, 212, 0.3), 0 4px 12px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .workflow-viewer-node:hover {
  background: rgba(6, 182, 212, 0.15);
  border-color: #0dd3e8;
  box-shadow: 0 0 25px rgba(6, 182, 212, 0.5), 0 8px 24px rgba(0, 0, 0, 0.4);
  transform: translateY(-2px);
}

[data-theme="dark"] .workflow-viewer-node-title {
  color: #06b6d4;
  text-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
}

[data-theme="dark"] .workflow-viewer-node-description {
  color: #94a3b8;
}

[data-theme="dark"] .workflow-viewer-content {
  background: #0f172a;
  border-color: #334155;
}

[data-theme="dark"] .workflow-viewer-header {
  border-color: #334155;
}

[data-theme="dark"] .workflow-viewer-title {
  color: #f1f5f9;
}

[data-theme="dark"] .workflow-viewer-close {
  background: #334155;
  color: #94a3b8;
}

[data-theme="dark"] .workflow-viewer-close:hover {
  background: #475569;
  color: #f1f5f9;
}

[data-theme="dark"] .workflow-viewer-canvas-container {
  background: #0f172a;
}

[data-theme="dark"] .workflow-viewer-canvas {
  background-image: radial-gradient(circle, #334155 1px, transparent 1px);
}

[data-theme="dark"] .node-detail-content {
  background: #1e293b;
  border-color: #334155;
}

[data-theme="dark"] .node-detail-title {
  color: #f1f5f9;
}

[data-theme="dark"] .node-detail-desc {
  color: #94a3b8;
}

[data-theme="dark"] .node-detail-text {
  color: #cbd5e1;
}

[data-theme="dark"] .node-detail-close {
  background: #334155;
  color: #94a3b8;
}

[data-theme="dark"] .node-detail-close:hover {
  background: #475569;
  color: #f1f5f9;
}

[data-theme="dark"] .node-detail-link {
  background: #06b6d4;
  color: #0a0f1a;
  border-color: #06b6d4;
}

[data-theme="dark"] .node-detail-link:hover {
  background: #0dd3e8;
  color: #0a0f1a;
  border-color: #0dd3e8;
  box-shadow: 0 0 20px rgba(6, 182, 212, 0.5), 0 4px 12px rgba(0, 0, 0, 0.3);
}


/* ===================================
   Aethrix Assistant - Cyan-Green Glow Theme
   青绿发光主题 - 科技感设计
   Dark Mode: #0A1628 (Deep Blue) + #00FFCC (Cyan-Green Glow)
   Light Mode: #FFFFFF (White) + #0066CC (Blue)
   =================================== */

.aethrix-assistant {
  position: fixed !important;
  bottom: 28px !important;
  right: 28px !important;
  z-index: 2147483646 !important;
  display: flex !important;
  align-items: center;
  gap: 12px;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  min-width: 72px;
  min-height: 72px;
}

/* 确保在tools页面上也显示 */
.tools-page .aethrix-assistant,
body.tools-page .aethrix-assistant {
  position: fixed !important;
  bottom: 28px !important;
  right: 28px !important;
  z-index: 2147483646 !important;
  display: flex !important;
  align-items: center;
  gap: 12px;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  min-width: 72px;
  min-height: 72px;
}

/* 确保在首页也显示 */
body:not(.tools-page) .aethrix-assistant {
  position: fixed !important;
  bottom: 28px !important;
  right: 28px !important;
  z-index: 2147483646 !important;
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
}

@media (max-width: 768px) {
  .aethrix-assistant {
    bottom: 20px;
    right: 20px;
  }
}

/* Aethrix Icon - Cyan-Green Glow Style */
.aethrix-icon {
  position: relative;
  width: 60px;
  height: 60px;
  min-width: 60px;
  min-height: 60px;
  flex-shrink: 0;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: auto !important;
  z-index: 2147483646 !important;
}

.aethrix-icon:hover {
  transform: scale(1.08) translateY(-3px);
}

.aethrix-icon.active {
  transform: scale(0.95);
}

/* Dark Mode Icon - Cyan-Green Glow */
.aethrix-icon-inner {
  width: 100%;
  height: 100%;
  min-width: 60px;
  min-height: 60px;
  background: linear-gradient(145deg, #0A1628 0%, #0D1F35 100%);
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow:
    0 0 20px rgba(0, 255, 204, 0.3),
    0 0 40px rgba(0, 255, 204, 0.15),
    0 4px 20px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(0, 255, 204, 0.1);
  position: relative;
  overflow: hidden;
  border: 2px solid rgba(0, 255, 204, 0.5);
  transition: all 0.3s ease;
}

.aethrix-icon:hover .aethrix-icon-inner {
  border-color: rgba(0, 255, 204, 0.8);
  box-shadow:
    0 0 30px rgba(0, 255, 204, 0.5),
    0 0 60px rgba(0, 255, 204, 0.25),
    0 8px 32px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 rgba(0, 255, 204, 0.2);
}

/* Light Mode Icon - Minimalist Black/White */
[data-theme="light"] .aethrix-icon-inner {
  background: #FFFFFF;
  border: 2px solid #1a1a1a;
  box-shadow:
    0 4px 16px rgba(0, 0, 0, 0.1),
    0 2px 6px rgba(0, 0, 0, 0.06);
}

[data-theme="light"] .aethrix-icon:hover .aethrix-icon-inner {
  border-color: #000000;
  box-shadow:
    0 8px 24px rgba(0, 0, 0, 0.15),
    0 4px 12px rgba(0, 0, 0, 0.08);
}

/* Glow effect overlay - Dark Mode */
.aethrix-icon-inner::before {
  content: '';
  position: absolute;
  inset: -2px;
  background: linear-gradient(135deg, rgba(0, 255, 204, 0.2) 0%, transparent 50%, rgba(0, 255, 204, 0.1) 100%);
  border-radius: 18px;
  opacity: 0.8;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.aethrix-icon:hover .aethrix-icon-inner::before {
  opacity: 1;
}

[data-theme="light"] .aethrix-icon-inner::before {
  background: none;
  opacity: 0;
}

.aethrix-logo {
  font-size: 22px;
  font-weight: 700;
  color: #00FFCC;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  letter-spacing: -0.5px;
  position: relative;
  z-index: 2;
  text-shadow: 0 0 10px rgba(0, 255, 204, 0.5);
}

[data-theme="light"] .aethrix-logo {
  color: #1a1a1a;
  text-shadow: none;
}

/* Pulse effect - Cyan-Green Glow Rings */
.aethrix-pulse {
  position: absolute;
  top: -4px;
  left: -4px;
  width: calc(100% + 8px);
  height: calc(100% + 8px);
  border-radius: 20px;
  background: transparent;
  border: 2px solid rgba(0, 255, 204, 0.6);
  opacity: 0;
  animation: aethrix-pulse-glow 2.5s ease-out infinite;
  pointer-events: none;
}

.aethrix-pulse::before {
  content: '';
  position: absolute;
  top: -6px;
  left: -6px;
  width: calc(100% + 12px);
  height: calc(100% + 12px);
  border-radius: 24px;
  border: 1px solid rgba(0, 255, 204, 0.3);
  animation: aethrix-pulse-glow 2.5s ease-out infinite 0.3s;
}

[data-theme="light"] .aethrix-pulse {
  border-color: rgba(0, 0, 0, 0.2);
}

[data-theme="light"] .aethrix-pulse::before {
  border-color: rgba(0, 0, 0, 0.1);
}

@keyframes aethrix-pulse-glow {
  0% {
    transform: scale(1);
    opacity: 0.8;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    transform: scale(1.5);
    opacity: 0;
  }
}

/* Speech Bubble - Cyan-Green Glow */
.aethrix-speech {
  position: absolute;
  right: 72px;
  top: 50%;
  transform: translateY(-50%) translateX(8px);
  background: linear-gradient(145deg, #0A1628 0%, #0D1F35 100%);
  border: 1px solid rgba(0, 255, 204, 0.4);
  border-radius: 14px;
  padding: 12px 18px;
  white-space: nowrap;
  opacity: 0;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
  box-shadow:
    0 0 15px rgba(0, 255, 204, 0.2),
    0 4px 20px rgba(0, 0, 0, 0.3);
}

.aethrix-speech::after {
  content: '';
  position: absolute;
  right: -7px;
  top: 50%;
  transform: translateY(-50%) rotate(45deg);
  width: 12px;
  height: 12px;
  background: linear-gradient(135deg, transparent 50%, #0D1F35 50%);
  border-right: 1px solid rgba(0, 255, 204, 0.4);
  border-bottom: 1px solid rgba(0, 255, 204, 0.4);
}

.aethrix-speech span {
  color: #00FFCC;
  font-size: 14px;
  font-weight: 500;
  letter-spacing: 0.3px;
  text-shadow: 0 0 8px rgba(0, 255, 204, 0.3);
}

[data-theme="light"] .aethrix-speech {
  background: #FFFFFF;
  border-color: rgba(0, 0, 0, 0.15);
  box-shadow:
    0 4px 16px rgba(0, 0, 0, 0.1),
    0 2px 6px rgba(0, 0, 0, 0.06);
}

[data-theme="light"] .aethrix-speech::after {
  background: linear-gradient(135deg, transparent 50%, #FFFFFF 50%);
  border-color: rgba(0, 0, 0, 0.15);
}

[data-theme="light"] .aethrix-speech span {
  color: #1a1a1a;
  text-shadow: none;
}

.aethrix-assistant:hover .aethrix-speech {
  opacity: 1;
  transform: translateY(-50%) translateX(0);
}

/* ===================================
   Aethrix Chat Modal - Cyan-Green Glow Design
   =================================== */

.aethrix-chat-modal {
  position: fixed !important;
  bottom: 28px !important;
  right: 100px !important;
  width: 320px;
  height: 400px;
  max-height: calc(100vh - 80px);
  z-index: 2147483647 !important;
  opacity: 0;
  visibility: hidden;
  transform: translateX(20px) scale(0.95);
  transform-origin: right bottom;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
}

.aethrix-chat-modal.active {
  opacity: 1 !important;
  visibility: visible !important;
  transform: translateX(0) scale(1) !important;
  pointer-events: auto !important;
}

@media (max-width: 480px) {
  .aethrix-chat-modal {
    width: calc(100vw - 120px) !important;
    right: 100px !important;
    bottom: 28px !important;
    height: 360px !important;
    max-height: calc(100vh - 80px) !important;
    max-height: 70vh;
  }
}

/* Dark Mode Container - Cyan-Green Glow */
.aethrix-chat-container {
  background: linear-gradient(180deg, #0A1628 0%, #0D1F35 100%);
  border-radius: 20px;
  overflow: hidden;
  box-shadow:
    0 0 30px rgba(0, 255, 204, 0.2),
    0 16px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.3);
  border: 2px solid rgba(0, 255, 204, 0.4);
  display: flex;
  flex-direction: column;
  height: 100%;
  max-height: 100%;
}

/* Light Mode Container - Minimalist Black/White */
[data-theme="light"] .aethrix-chat-container {
  background: #FFFFFF;
  box-shadow:
    0 16px 48px rgba(0, 0, 0, 0.12),
    0 4px 16px rgba(0, 0, 0, 0.06);
  border: 2px solid #1a1a1a;
}

/* Chat Header - Cyan-Green Gradient */
.aethrix-chat-header {
  background: linear-gradient(135deg, #00CCAA 0%, #00FFCC 50%, #00E6B8 100%);
  padding: 16px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: relative;
  overflow: hidden;
}

.aethrix-chat-header::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.1) 50%, transparent 100%);
  animation: header-shine 3s ease-in-out infinite;
}

@keyframes header-shine {

  0%,
  100% {
    transform: translateX(-100%);
  }

  50% {
    transform: translateX(100%);
  }
}

/* Light Mode Header - Minimalist Black */
[data-theme="light"] .aethrix-chat-header {
  background: #1a1a1a;
}

[data-theme="light"] .aethrix-chat-header::before {
  display: none;
}

.aethrix-chat-header-left {
  display: flex;
  align-items: center;
  gap: 12px;
  position: relative;
  z-index: 1;
}

.aethrix-chat-avatar {
  width: 40px;
  height: 40px;
  background: rgba(10, 22, 40, 0.3);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: 700;
  color: #0A1628;
  border: 1px solid rgba(10, 22, 40, 0.2);
}

[data-theme="light"] .aethrix-chat-avatar {
  background: rgba(255, 255, 255, 0.2);
  color: #fff;
  border-color: rgba(255, 255, 255, 0.3);
}

.aethrix-chat-title h3 {
  color: #0A1628;
  font-size: 17px;
  font-weight: 600;
  margin: 0;
  letter-spacing: -0.2px;
  position: relative;
  z-index: 1;
}

[data-theme="light"] .aethrix-chat-title h3 {
  color: #fff;
}

.aethrix-chat-status {
  color: rgba(10, 22, 40, 0.8);
  font-size: 12px;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 6px;
  position: relative;
  z-index: 1;
}

[data-theme="light"] .aethrix-chat-status {
  color: rgba(255, 255, 255, 0.9);
}

.aethrix-chat-status::before {
  content: '';
  width: 6px;
  height: 6px;
  background: #0A1628;
  border-radius: 50%;
  box-shadow: 0 0 6px rgba(10, 22, 40, 0.5);
}

[data-theme="light"] .aethrix-chat-status::before {
  background: #4ade80;
  box-shadow: 0 0 6px rgba(74, 222, 128, 0.5);
}

.aethrix-chat-close {
  width: 36px;
  height: 36px;
  min-width: 44px;
  min-height: 44px;
  background: rgba(10, 22, 40, 0.15);
  border: 1px solid rgba(10, 22, 40, 0.2);
  border-radius: 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #0A1628;
  transition: all 0.15s ease;
  position: relative;
  z-index: 1;
}

[data-theme="light"] .aethrix-chat-close {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.2);
  color: #fff;
}

.aethrix-chat-close:hover {
  background: rgba(10, 22, 40, 0.25);
}

[data-theme="light"] .aethrix-chat-close:hover {
  background: rgba(255, 255, 255, 0.25);
}

.aethrix-chat-close:active {
  transform: scale(0.95);
}

.aethrix-chat-close:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(10, 22, 40, 0.3);
}

[data-theme="light"] .aethrix-chat-close:focus {
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);
}

/* Chat Messages Area - Dark Mode */
.aethrix-chat-messages {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 16px;
  background: linear-gradient(180deg, #060D18 0%, #0A1628 100%);
  scrollbar-width: none;
  /* Firefox */
  -ms-overflow-style: none;
  /* IE and Edge */
}

/* Chat Messages Area - Light Mode - Minimalist */
[data-theme="light"] .aethrix-chat-messages {
  background: #F5F5F5;
}

.aethrix-chat-messages::-webkit-scrollbar {
  display: none;
  /* Chrome, Safari, Opera */
}

/* Message Styles */
.aethrix-message {
  display: flex;
  gap: 10px;
  max-width: 85%;
  animation: message-in 0.2s ease-out;
}

@keyframes message-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.aethrix-message--bot {
  align-self: flex-start;
}

.aethrix-message--user {
  align-self: flex-end;
  flex-direction: row-reverse;
}

.aethrix-message-avatar {
  width: 32px;
  height: 32px;
  background: linear-gradient(145deg, #0D1F35 0%, #142840 100%);
  border: 1px solid rgba(0, 255, 204, 0.3);
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  font-weight: 600;
  color: #00FFCC;
  flex-shrink: 0;
}

[data-theme="light"] .aethrix-message-avatar {
  background: #E5E5E5;
  border-color: rgba(0, 0, 0, 0.1);
  color: #1a1a1a;
}

/* Bot Message Content - Dark Mode */
.aethrix-message-content {
  background: linear-gradient(145deg, #0D1F35 0%, #142840 100%);
  border-radius: 16px;
  border-top-left-radius: 4px;
  padding: 12px 16px;
  border: 1px solid rgba(0, 255, 204, 0.2);
}

/* Bot Message Content - Light Mode - Minimalist */
[data-theme="light"] .aethrix-message-content {
  background: #fff;
  border-color: rgba(0, 0, 0, 0.08);
}

/* User Message Content */
.aethrix-message--user .aethrix-message-content {
  background: linear-gradient(135deg, #00CCAA 0%, #00FFCC 100%);
  border: none;
  border-top-left-radius: 16px;
  border-top-right-radius: 4px;
}

/* Light Mode User Message - Minimalist Black */
[data-theme="light"] .aethrix-message--user .aethrix-message-content {
  background: #1a1a1a;
}

.aethrix-message-content p {
  color: #E0F7F4;
  font-size: 14px;
  line-height: 1.5;
  margin: 0;
}

.aethrix-message-content p+p {
  margin-top: 8px;
}

[data-theme="light"] .aethrix-message-content p {
  color: #333333;
}

.aethrix-message--user .aethrix-message-content p {
  color: #0A1628;
}

[data-theme="light"] .aethrix-message--user .aethrix-message-content p {
  color: #fff;
}

/* Chat Input Area - Dark Mode */
.aethrix-chat-input-container {
  padding: 16px 20px;
  background: linear-gradient(180deg, #0A1628 0%, #0D1F35 100%);
  border-top: 1px solid rgba(0, 255, 204, 0.2);
  display: flex;
  gap: 12px;
}

/* Chat Input Area - Light Mode - Minimalist */
[data-theme="light"] .aethrix-chat-input-container {
  background: #FFFFFF;
  border-top-color: rgba(0, 0, 0, 0.08);
}

.aethrix-chat-input {
  flex: 1;
  background: linear-gradient(145deg, #060D18 0%, #0A1628 100%);
  border: 1px solid rgba(0, 255, 204, 0.3);
  border-radius: 12px;
  padding: 12px 16px;
  color: #E0F7F4;
  font-size: 14px;
  outline: none;
  transition: all 0.2s ease;
}

[data-theme="light"] .aethrix-chat-input {
  background: #fff;
  border-color: rgba(0, 0, 0, 0.15);
  color: #333333;
}

.aethrix-chat-input::placeholder {
  color: rgba(0, 255, 204, 0.4);
}

[data-theme="light"] .aethrix-chat-input::placeholder {
  color: rgba(0, 0, 0, 0.35);
}

.aethrix-chat-input:focus {
  border-color: #00FFCC;
  box-shadow: 0 0 0 3px rgba(0, 255, 204, 0.15), 0 0 15px rgba(0, 255, 204, 0.1);
}

[data-theme="light"] .aethrix-chat-input:focus {
  border-color: #1a1a1a;
  box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.08);
}

.aethrix-chat-send {
  width: 44px;
  height: 44px;
  min-width: 44px;
  min-height: 44px;
  background: linear-gradient(135deg, #00CCAA 0%, #00FFCC 100%);
  border: none;
  border-radius: 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #0A1628;
  transition: all 0.2s ease;
  flex-shrink: 0;
  box-shadow: 0 0 15px rgba(0, 255, 204, 0.3);
}

/* Light Mode Send Button - Minimalist Black */
[data-theme="light"] .aethrix-chat-send {
  background: #1a1a1a;
  color: #fff;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.aethrix-chat-send:hover {
  background: linear-gradient(135deg, #00E6B8 0%, #00FFDD 100%);
  transform: scale(1.05);
  box-shadow: 0 0 25px rgba(0, 255, 204, 0.5);
}

[data-theme="light"] .aethrix-chat-send:hover {
  background: #000000;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
}

.aethrix-chat-send:active {
  transform: scale(0.95);
}

.aethrix-chat-send:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(0, 255, 204, 0.3), 0 0 20px rgba(0, 255, 204, 0.4);
}

[data-theme="light"] .aethrix-chat-send:focus {
  box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.15);
}

/* Typing indicator */
.aethrix-typing {
  display: flex;
  gap: 4px;
  padding: 6px 0;
}

.aethrix-typing span {
  width: 6px;
  height: 6px;
  background: #00FFCC;
  border-radius: 50%;
  animation: typing-bounce 1.2s ease-in-out infinite;
  box-shadow: 0 0 6px rgba(0, 255, 204, 0.5);
}

[data-theme="light"] .aethrix-typing span {
  background: #666666;
  box-shadow: none;
}

.aethrix-typing span:nth-child(2) {
  animation-delay: 0.15s;
}

.aethrix-typing span:nth-child(3) {
  animation-delay: 0.3s;
}

@keyframes typing-bounce {

  0%,
  60%,
  100% {
    transform: translateY(0);
    opacity: 0.4;
  }

  30% {
    transform: translateY(-4px);
    opacity: 1;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {

  .aethrix-pulse,
  .aethrix-typing span,
  .aethrix-chat-header::before {
    animation: none;
  }

  .aethrix-icon:hover,
  .aethrix-chat-send:hover,
  .aethrix-chat-close:hover {
    transform: none;
  }
}


/* ===================================
   Dify Detail Modal Styles
   =================================== */

.dify-detail-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 10000;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 1rem;
}

.dify-detail-modal.active {
  display: flex;
}

.dify-detail-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(15, 11, 26, 0.8);
  backdrop-filter: blur(8px);
  animation: fadeIn 0.2s ease;
}

.dify-detail-content {
  position: relative;
  background: #FFFFFF;
  border-radius: 16px;
  max-width: 700px;
  width: 100%;
  max-height: 85vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  box-shadow: 0 20px 60px rgba(124, 58, 237, 0.3);
  animation: slideUp 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  z-index: 1;
}

[data-theme="dark"] .dify-detail-content {
  background: #1A1425;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
}

.dify-detail-close {
  position: absolute;
  top: 1.5rem;
  right: 1.5rem;
  background: transparent;
  border: none;
  font-size: 1.75rem;
  line-height: 1;
  color: #9CA3AF;
  cursor: pointer;
  padding: 0.25rem;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  transition: all 0.2s ease;
  z-index: 2;
}

.dify-detail-close:hover {
  background: #F3F4F6;
  color: #1F2937;
}

[data-theme="dark"] .dify-detail-close:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #F3F4F6;
}

.dify-detail-body {
  padding: 2rem;
  overflow-y: auto;
}

.dify-detail-title {
  font-size: 1.75rem;
  font-weight: 700;
  color: #1F2937;
  margin: 0 0 1rem 0;
  padding-right: 2.5rem;
  line-height: 1.3;
}

[data-theme="dark"] .dify-detail-title {
  color: #F3F4F6;
}

.dify-detail-description {
  font-size: 1rem;
  color: #6B7280;
  line-height: 1.6;
  margin: 0 0 1.5rem 0;
}

[data-theme="dark"] .dify-detail-description {
  color: #9CA3AF;
}

.dify-detail-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.dify-tag {
  display: inline-block;
  padding: 0.375rem 0.875rem;
  background: #F3E8FF;
  color: #7C3AED;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
}

[data-theme="dark"] .dify-tag {
  background: rgba(124, 58, 237, 0.2);
  color: #A78BFA;
}

.dify-detail-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.dify-stat-card {
  background: #F9FAFB;
  border-radius: 12px;
  padding: 1.25rem;
  text-align: center;
  transition: all 0.2s ease;
}

.dify-stat-card:hover {
  background: #F3F4F6;
  transform: translateY(-2px);
}

[data-theme="dark"] .dify-stat-card {
  background: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .dify-stat-card:hover {
  background: rgba(255, 255, 255, 0.08);
}

.dify-stat-number {
  font-size: 1.75rem;
  font-weight: 700;
  color: #7C3AED;
  margin-bottom: 0.25rem;
  line-height: 1;
}

[data-theme="dark"] .dify-stat-number {
  color: #A78BFA;
}

.dify-stat-label {
  font-size: 0.8125rem;
  color: #6B7280;
  font-weight: 500;
}

[data-theme="dark"] .dify-stat-label {
  color: #9CA3AF;
}

.dify-detail-section {
  margin-bottom: 1.5rem;
}

.dify-detail-section:last-child {
  margin-bottom: 0;
}

.dify-section-title {
  font-size: 0.875rem;
  font-weight: 600;
  color: #7C3AED;
  margin-bottom: 0.75rem;
  text-transform: none;
  letter-spacing: 0;
}

[data-theme="dark"] .dify-section-title {
  color: #A78BFA;
}

.dify-node-types,
.dify-models {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.dify-node-tag {
  display: inline-block;
  padding: 0.5rem 0.875rem;
  background: #EDE9FE;
  color: #6B21A8;
  border-radius: 8px;
  font-size: 0.8125rem;
  font-weight: 500;
}

[data-theme="dark"] .dify-node-tag {
  background: rgba(167, 139, 250, 0.15);
  color: #C4B5FD;
}

.dify-model-tag {
  display: inline-block;
  padding: 0.5rem 0.875rem;
  background: #DBEAFE;
  color: #1E40AF;
  border-radius: 8px;
  font-size: 0.8125rem;
  font-weight: 500;
}

[data-theme="dark"] .dify-model-tag {
  background: rgba(6, 182, 212, 0.15);
  color: #22D3EE;
}

.dify-detail-actions {
  display: flex;
  gap: 0.75rem;
  margin-top: 2rem;
  padding-top: 1.5rem;
  border-top: 1px solid #E5E7EB;
}

[data-theme="dark"] .dify-detail-actions {
  border-top-color: rgba(255, 255, 255, 0.1);
}

.dify-action-btn {
  flex: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.875rem 1.5rem;
  border-radius: 10px;
  font-size: 0.9375rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  text-decoration: none;
  border: none;
}

.dify-btn-primary {
  background: linear-gradient(135deg, #7C3AED 0%, #A78BFA 100%);
  color: white;
  box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
}

.dify-btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(124, 58, 237, 0.4);
  color: white;
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(40px) scale(0.95);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Responsive */
@media (max-width: 768px) {
  .dify-detail-content {
    max-width: 100%;
    max-height: 92vh;
    margin: 0 0.5rem;
    border-radius: 12px;
  }

  .dify-detail-body {
    padding: 1.5rem;
  }

  .dify-detail-title {
    font-size: 1.5rem;
  }

  .dify-detail-stats {
    grid-template-columns: repeat(2, 1fr);
  }

  .dify-stat-number {
    font-size: 1.5rem;
  }
}


/* ===================================
   Dify Detail Modal Styles - Updated
   极简风格，符合主页面设计
   =================================== */

.dify-detail-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 10000;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 1.5rem;
}

.dify-detail-modal.active {
  display: flex;
}

.dify-detail-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(8px);
  animation: fadeIn 0.2s ease;
}

[data-theme="dark"] .dify-detail-overlay {
  background: rgba(0, 0, 0, 0.8);
}

.dify-detail-content {
  position: relative;
  background: #FFFFFF;
  border-radius: 12px;
  max-width: 600px;
  width: 100%;
  max-height: 90vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
  animation: slideUp 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  z-index: 1;
  border: 1px solid #E5E7EB;
}

[data-theme="dark"] .dify-detail-content {
  background: #1F2937;
  border-color: #374151;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
}

.dify-detail-close {
  position: absolute;
  top: 1.25rem;
  right: 1.25rem;
  background: transparent;
  border: none;
  font-size: 1.5rem;
  line-height: 1;
  color: #6B7280;
  cursor: pointer;
  padding: 0.25rem;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  transition: all 0.2s ease;
  z-index: 2;
}

.dify-detail-close:hover {
  background: #F3F4F6;
  color: #111827;
}

[data-theme="dark"] .dify-detail-close {
  color: #9CA3AF;
}

[data-theme="dark"] .dify-detail-close:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #F3F4F6;
}

.dify-detail-body {
  padding: 2rem;
  overflow-y: auto;
}

.dify-detail-body::-webkit-scrollbar {
  width: 6px;
}

.dify-detail-body::-webkit-scrollbar-track {
  background: transparent;
}

.dify-detail-body::-webkit-scrollbar-thumb {
  background-color: #D1D5DB;
  border-radius: 3px;
}

[data-theme="dark"] .dify-detail-body::-webkit-scrollbar-thumb {
  background-color: #4B5563;
}

.dify-detail-header {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  margin-bottom: 1.5rem;
  padding-right: 2.5rem;
}

.dify-detail-icon {
  font-size: 2rem;
  flex-shrink: 0;
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #F3F4F6;
  border-radius: 10px;
}

[data-theme="dark"] .dify-detail-icon {
  background: #374151;
}

.dify-detail-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: #111827;
  margin: 0;
  line-height: 1.3;
  flex: 1;
}

[data-theme="dark"] .dify-detail-title {
  color: #F9FAFB;
}

.dify-detail-section {
  margin-bottom: 1.5rem;
}

.dify-section-label {
  font-size: 0.75rem;
  font-weight: 600;
  color: #6B7280;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin: 0 0 0.75rem 0;
}

[data-theme="dark"] .dify-section-label {
  color: #9CA3AF;
}

.dify-detail-description {
  font-size: 0.9375rem;
  color: #4B5563;
  line-height: 1.6;
  margin: 0;
}

[data-theme="dark"] .dify-detail-description {
  color: #D1D5DB;
}

.dify-detail-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.dify-tag {
  display: inline-flex;
  align-items: center;
  padding: 0.375rem 0.75rem;
  font-size: 0.8125rem;
  font-weight: 500;
  color: #374151;
  background: #F3F4F6;
  border-radius: 6px;
  transition: all 0.2s ease;
}

[data-theme="dark"] .dify-tag {
  color: #D1D5DB;
  background: #374151;
}

.dify-stats-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0.75rem;
}

.dify-stat-card {
  background: #F9FAFB;
  border: 1px solid #E5E7EB;
  border-radius: 8px;
  padding: 1rem;
  text-align: center;
  transition: all 0.2s ease;
}

.dify-stat-card:hover {
  border-color: #D1D5DB;
  transform: translateY(-2px);
}

[data-theme="dark"] .dify-stat-card {
  background: #374151;
  border-color: #4B5563;
}

[data-theme="dark"] .dify-stat-card:hover {
  border-color: #6B7280;
}

.dify-stat-card.dify-stat-full {
  grid-column: span 3;
}

.dify-stat-value {
  font-size: 1.5rem;
  font-weight: 700;
  color: #111827;
  margin-bottom: 0.25rem;
  line-height: 1;
}

[data-theme="dark"] .dify-stat-value {
  color: #F9FAFB;
}

.dify-stat-label {
  font-size: 0.75rem;
  color: #6B7280;
  font-weight: 500;
}

[data-theme="dark"] .dify-stat-label {
  color: #9CA3AF;
}

.dify-no-stats {
  text-align: center;
  color: #9CA3AF;
  font-size: 0.875rem;
  padding: 2rem;
  margin: 0;
}

.dify-detail-actions {
  display: flex;
  gap: 0.75rem;
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid #E5E7EB;
}

[data-theme="dark"] .dify-detail-actions {
  border-top-color: #374151;
}

.dify-action-btn {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.25rem;
  font-size: 0.9375rem;
  font-weight: 600;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  text-decoration: none;
}

.dify-action-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.dify-action-btn svg {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

.dify-btn-primary {
  background: #111827;
  color: #FFFFFF;
}

.dify-btn-primary:hover:not(:disabled) {
  background: #000000;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

[data-theme="dark"] .dify-btn-primary {
  background: #F9FAFB;
  color: #111827;
}

[data-theme="dark"] .dify-btn-primary:hover:not(:disabled) {
  background: #FFFFFF;
}

.dify-btn-secondary {
  background: transparent;
  color: #111827;
  border: 1px solid #D1D5DB;
}

.dify-btn-secondary:hover:not(:disabled) {
  background: #F3F4F6;
  border-color: #9CA3AF;
}

[data-theme="dark"] .dify-btn-secondary {
  color: #F9FAFB;
  border-color: #4B5563;
}

[data-theme="dark"] .dify-btn-secondary:hover:not(:disabled) {
  background: #374151;
  border-color: #6B7280;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 响应式设计 */
@media (max-width: 640px) {
  .dify-detail-content {
    max-width: 100%;
    max-height: 95vh;
    border-radius: 12px 12px 0 0;
    margin-top: auto;
  }

  .dify-detail-body {
    padding: 1.5rem;
  }

  .dify-stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .dify-stat-card.dify-stat-full {
    grid-column: span 2;
  }

  .dify-detail-actions {
    flex-direction: column;
  }
}


/* 单个按钮占满宽度 */
.dify-btn-full {
  width: 100%;
}

/* Tools Page Theme Toggle Fix */
.theme-toggle-circle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: transparent;
  border: 1px solid rgba(0, 0, 0, 0.1);
  color: #333;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

[data-theme="dark"] .theme-toggle-circle {
  border-color: rgba(255, 255, 255, 0.2);
  color: #fff;
}

.theme-toggle-circle:hover {
  background: rgba(128, 128, 128, 0.1);
}

.theme-toggle-circle .theme-icon {
  width: 20px;
  height: 20px;
  stroke: currentColor;
}

/* Theme Icon Visibility based on Data Attribute */
/* Light Mode: Show Moon */
[data-theme="light"] .theme-icon--sun,
[data-theme="light"] .nav-control-icon--sun {
  display: none !important;
}

[data-theme="light"] .theme-icon--moon,
[data-theme="light"] .nav-control-icon--moon {
  display: block !important;
}

/* Dark Mode: Show Sun */
[data-theme="dark"] .theme-icon--sun,
[data-theme="dark"] .nav-control-icon--sun {
  display: block !important;
}

[data-theme="dark"] .theme-icon--moon,
[data-theme="dark"] .nav-control-icon--moon {
  display: none !important;
}

/* ===================================
 * Hero Section Theme Inheritance Fix
 * These rules use parent [data-theme] since we removed
 * data-theme from the hero-section element itself
 * =================================== */

/* Light Mode Hero Background */
[data-theme="light"] .hero-section {
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 50%, #e9ecef 100%);
}

/* Light Mode Hero Title */
[data-theme="light"] .hero-title {
  color: var(--hero-light-title, #1a1a2e);
}

[data-theme="light"] .hero-title-text {
  text-shadow: none;
  animation: none;
}

/* Light Mode Hero Subtitle */
[data-theme="light"] .hero-subtitle {
  color: var(--hero-light-subtitle, #4a4a6a);
}

[data-theme="light"] .hero-subtitle-text {
  background: none !important;
  -webkit-background-clip: initial !important;
  background-clip: initial !important;
  -webkit-text-fill-color: inherit !important;
  color: var(--hero-light-subtitle, #4a4a6a) !important;
  animation: none !important;
}

/* Light Mode Hero Buttons */
[data-theme="light"] .hero-btn {
  border-color: var(--color-primary, #1a1a2e) !important;
}

[data-theme="light"] .hero-btn--primary {
  background: var(--color-primary, #1a1a2e) !important;
  color: #ffffff !important;
  border-color: var(--color-primary, #1a1a2e) !important;
}

[data-theme="light"] .hero-btn--secondary {
  background: transparent !important;
  color: var(--color-primary, #1a1a2e) !important;
  border: 2px solid var(--color-primary, #1a1a2e) !important;
}

[data-theme="light"] .hero-btn--secondary:hover {
  background: var(--color-primary, #1a1a2e) !important;
  color: #ffffff !important;
}

/* Light Mode Particles Canvas - Hide in light mode */
[data-theme="light"] .hero-particles-canvas {
  opacity: 0.1;
}

/* Dark Mode Hero Background */
[data-theme="dark"] .hero-section {
  background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 50%, #0d0d1e 100%);
}

/* Dark Mode Hero Title */
[data-theme="dark"] .hero-title {
  color: var(--hero-dark-title, #ffffff);
}

[data-theme="dark"] .hero-title-text {
  text-shadow:
    0 0 10px rgba(147, 51, 234, 0.5),
    0 0 20px rgba(79, 70, 229, 0.4),
    0 0 30px rgba(6, 182, 212, 0.3),
    0 0 40px rgba(6, 182, 212, 0.2);
}

/* Dark Mode Hero Subtitle - Pure White */
[data-theme="dark"] .hero-subtitle {
  color: rgba(255, 255, 255, 0.9);
}

[data-theme="dark"] .hero-subtitle-text {
  background: none !important;
  -webkit-background-clip: initial !important;
  background-clip: initial !important;
  -webkit-text-fill-color: rgba(255, 255, 255, 0.85) !important;
}

/* Dark Mode Hero Buttons - Two-tone design for visual hierarchy */

/* Primary Button: Dark background + Teal text = "黑绿" style */
[data-theme="dark"] .hero-btn--primary,
[data-theme="dark"] .hero-section .hero-btn--primary,
[data-theme="dark"] .hero-actions .btn.btn--primary,
[data-theme="dark"] #hero-btn-portfolio {
  background: linear-gradient(135deg, #0a1628 0%, #1a2b45 100%) !important;
  color: #2dd4bf !important;
  border: 2px solid #2dd4bf !important;
  border-radius: 50px !important;
  font-weight: 600 !important;
  box-shadow: 0 0 20px rgba(45, 212, 191, 0.3), inset 0 0 20px rgba(45, 212, 191, 0.05) !important;
  transition: all 0.3s ease !important;
}

[data-theme="dark"] .hero-btn--primary:hover,
[data-theme="dark"] #hero-btn-portfolio:hover {
  background: linear-gradient(135deg, #0f1f35 0%, #243a5e 100%) !important;
  box-shadow: 0 0 30px rgba(45, 212, 191, 0.5), inset 0 0 25px rgba(45, 212, 191, 0.1) !important;
  transform: translateY(-2px);
}

/* Secondary Button: Transparent background + Teal border = "绿黑" style */
[data-theme="dark"] .hero-btn--secondary,
[data-theme="dark"] .hero-section .hero-btn--secondary,
[data-theme="dark"] .hero-actions .btn.btn--secondary,
[data-theme="dark"] #hero-btn-tools {
  background: transparent !important;
  color: #2dd4bf !important;
  border: 2px solid #2dd4bf !important;
  border-radius: 50px !important;
  font-weight: 500 !important;
  box-shadow: 0 0 15px rgba(45, 212, 191, 0.2), inset 0 0 15px rgba(45, 212, 191, 0.03) !important;
  transition: all 0.3s ease !important;
}

[data-theme="dark"] .hero-btn--secondary:hover,
[data-theme="dark"] #hero-btn-tools:hover {
  background: rgba(45, 212, 191, 0.1) !important;
  box-shadow: 0 0 25px rgba(45, 212, 191, 0.4), inset 0 0 20px rgba(45, 212, 191, 0.08) !important;
}

/* Dark Mode Particles Canvas - Full opacity */
[data-theme="dark"] .hero-particles-canvas {
  opacity: 1;
}

/* Smooth theme transition for hero elements */
.hero-section,
.hero-title,
.hero-subtitle,
.hero-btn {
  transition: background 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

/* ===================================
   Workshop Action Button - Teal Green Style
   Matches Skill Library Button Style
   =================================== */

/* ===================================
   Workshop Action Button - Neon Bright Style
   High Visibility & Contrast
   =================================== */

.workshop-action-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 13px;
  text-decoration: none;
  border: none;
  cursor: pointer;
  background: var(--primary-black);
  color: var(--primary-white);
  font-weight: 600;
  transition: all 0.2s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.workshop-action-btn:hover {
  background: #333333;
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
  color: var(--primary-white);
}

/* Workshop More Button - Default (Light Mode) */
.workshop-more-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 500;
  text-decoration: none;
  border: 1px solid var(--primary-black);
  cursor: pointer;
  background: var(--primary-black);
  color: var(--primary-white);
  transition: all 0.2s ease;
}

.workshop-more-btn:hover {
  background: #333333;
  border-color: #333333;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  color: var(--primary-white);
}

/* Dark Mode Adjustment */
[data-theme='dark'] .workshop-action-btn {
  background: linear-gradient(135deg, #40ffaa 0%, #40ffff 100%);
  box-shadow: 0 0 20px rgba(64, 255, 170, 0.5);
  /* Stronger glow in dark mode */
}

[data-theme='dark'] .workshop-action-btn:hover {
  box-shadow: 0 0 30px rgba(64, 255, 255, 0.8);
}

[data-theme='dark'] .workshop-more-btn {
  background: rgba(255, 255, 255, 0.05);
  /* Semi-transparent in dark mode */
  border-color: rgba(255, 255, 255, 0.1);
  color: #ffffff;
  /* White text in dark mode */
}

[data-theme='dark'] .workshop-more-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.2);
}