app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: æ•°æ®ç»Ÿè®¡åˆ†æ
  use_icon_as_answer_icon: false
kind: app
version: 0.1.3
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 1000
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: true
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: true
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1732151456981-source-answer-target
      selected: false
      source: '1732151456981'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: code
      id: 1732153817994-true-1732152926114-target
      selected: false
      source: '1732153817994'
      sourceHandle: 'true'
      target: '1732152926114'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 1732152926114-source-1732152908893-target
      selected: false
      source: '1732152926114'
      sourceHandle: source
      target: '1732152908893'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: if-else
      id: 1732153817994-false-1732153988019-target
      selected: false
      source: '1732153817994'
      sourceHandle: 'false'
      target: '1732153988019'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: code
      id: 1732153988019-true-1732154023290-target
      selected: false
      source: '1732153988019'
      sourceHandle: 'true'
      target: '1732154023290'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 1732154023290-source-1732154058355-target
      selected: false
      source: '1732154023290'
      sourceHandle: source
      target: '1732154058355'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: if-else
      id: 1732153988019-false-1732154079951-target
      selected: false
      source: '1732153988019'
      sourceHandle: 'false'
      target: '1732154079951'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: code
      id: 1732154079951-true-1732154109789-target
      selected: false
      source: '1732154079951'
      sourceHandle: 'true'
      target: '1732154109789'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: code
      id: 1732154079951-false-1732154160372-target
      selected: false
      source: '1732154079951'
      sourceHandle: 'false'
      target: '1732154160372'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 1732154109789-source-1732154236106-target
      selected: false
      source: '1732154109789'
      sourceHandle: source
      target: '1732154236106'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 1732154160372-source-1732154244433-target
      selected: false
      source: '1732154160372'
      sourceHandle: source
      target: '1732154244433'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: start
        targetType: knowledge-retrieval
      id: 1732151368697-source-1732158935880-target
      source: '1732151368697'
      sourceHandle: source
      target: '1732158935880'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1732158935880-source-1732158952605-target
      source: '1732158935880'
      sourceHandle: source
      target: '1732158952605'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 1732152827381-source-1732159209172-target
      source: '1732152827381'
      sourceHandle: source
      target: '1732159209172'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: if-else
      id: 1732159209172-source-1732153817994-target
      source: '1732159209172'
      sourceHandle: source
      target: '1732153817994'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: if-else
      id: 1732159087819-source-1732167735392-target
      source: '1732159087819'
      sourceHandle: source
      target: '1732167735392'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1732167735392-false-1732151456981-target
      source: '1732167735392'
      sourceHandle: 'false'
      target: '1732151456981'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: code
      id: answer-source-1732152827381-target
      source: answer
      sourceHandle: source
      target: '1732152827381'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1732167735392-true-1732167773905-target
      source: '1732167735392'
      sourceHandle: 'true'
      target: '1732167773905'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: answer
        targetType: llm
      id: 1732167773905-source-1732167981036-target
      source: '1732167773905'
      sourceHandle: source
      target: '1732167981036'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: answer
      id: 1732167941415-source-1732168063554-target
      source: '1732167941415'
      sourceHandle: source
      target: '1732168063554'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: code
      id: 1732177530436-source-1732159087819-target
      source: '1732177530436'
      sourceHandle: source
      target: '1732159087819'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: if-else
      id: 1732167981036-source-1732236636187-target
      source: '1732167981036'
      sourceHandle: source
      target: '1732236636187'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1732236636187-false-1732167941415-target
      source: '1732236636187'
      sourceHandle: 'false'
      target: '1732167941415'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1732236636187-true-1732236667696-target
      source: '1732236636187'
      sourceHandle: 'true'
      target: '1732236667696'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: 1732158952605-source-1732237109866-target
      source: '1732158952605'
      sourceHandle: source
      target: '1732237109866'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: if-else
      id: 1732237109866-source-1732237157896-target
      source: '1732237109866'
      sourceHandle: source
      target: '1732237157896'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: code
      id: 1732237157896-false-1732177530436-target
      source: '1732237157896'
      sourceHandle: 'false'
      target: '1732177530436'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: answer
      id: 1732237157896-true-1732237193635-target
      source: '1732237157896'
      sourceHandle: 'true'
      target: '1732237193635'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 54
      id: '1732151368697'
      position:
        x: 30
        y: 263
      positionAbsolute:
        x: 30
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1732151456981.text#}}


          '
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 103
      id: answer
      position:
        x: 2766
        y: 263
      positionAbsolute:
        x: 2766
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            frequency_penalty: 0.3
            presence_penalty: 0.2
            temperature: 0.5
            top_p: 0.85
          mode: chat
          name: gpt-4o
          provider: openai
        prompt_template:
        - id: fd4debf9-b795-4d08-8cc6-999dc604348d
          role: system
          text: '##è§’è‰²ï¼šä½ æ˜¯åˆ¶é€ ä¸šæ•°æ®åˆ†æä¸“å®¶ã€‚åˆ†æJSONæ ¼å¼çš„SQLæŸ¥è¯¢ç»“æœï¼Œå¹¶æ’°å†™åˆ†ææŠ¥å‘Š

            ##å…³é”®è§„åˆ™ï¼š

            1.æ‰€æœ‰æ•°æ®å·²ç¬¦åˆç”¨æˆ·é—®é¢˜ä¸­çš„æ¡ä»¶(å¦‚äº§å“ç±»å‹ã€æ—¥æœŸèŒƒå›´ï¼‰

            2.ç›´æ¥ä½¿ç”¨æä¾›çš„æ•°æ®åˆ†æï¼Œä¸è¦è´¨ç–‘æ•°æ®æ˜¯å¦ç¬¦åˆæ¡ä»¶

            3.ä¸éœ€å†æ¬¡ç­›é€‰æˆ–ç¡®è®¤æ•°æ®ç±»åˆ«/æ—¶é—´èŒƒå›´

            4.æ•°æ®ä¸º[]æˆ–ç©ºæ—¶ï¼Œå›å¤â€æ²¡æœ‰æŸ¥è¯¢åˆ°ç›¸å…³æ•°æ®â€ï¼Œä¸å¾—ç¼–é€ æ•°æ®

            5.ä¸è¦æœ‰ä»»ä½•æç¤ºæ€§è¯­è¨€

            ##åˆ†ææŠ¥å‘Šè¦æ±‚ï¼š

            1.å¯¹éœ€è¦ç»Ÿè®¡çš„æ•°æ®{{#1732159087819.result#}}è¿›è¡Œç»Ÿè®¡åˆ†æ.

            2.è®°ä½:æ‰€æœ‰æ•°æ®éƒ½ç¬¦åˆç”¨æˆ·é—®é¢˜æ¡ä»¶ï¼Œç›´æ¥åˆ†ææä¾›çš„æ•°æ®ã€‚'
        selected: false
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1732151456981'
      position:
        x: 2461.374940603958
        y: 263
      positionAbsolute:
        x: 2461.374940603958
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef main(json_data: str) -> dict:\n    data = json.loads(json_data)\n\
          \    headers = data[0].keys()\n    table = \"| \" + \" | \".join(headers)\
          \ + \" |\\n\"\n    table += \"| \" + \" | \".join([\"---\"] * len(headers))\
          \ + \" |\\n\"\n    for row in data:\n        table += \"| \" + \" | \".join([str(row[header])\
          \ for header in headers]) + \" |\\n\"\n    return {\"result\": table}  #\
          \ Fixed closing parenthesis"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ç”Ÿæˆè¡¨æ ¼
        type: code
        variables:
        - value_selector:
          - '1732159087819'
          - result
          variable: json_data
      height: 54
      id: '1732152827381'
      position:
        x: 3070
        y: 263
      positionAbsolute:
        x: 3070
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1732152926114.output#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 2
        type: answer
        variables: []
      height: 103
      id: '1732152908893'
      position:
        x: 4286
        y: 263
      positionAbsolute:
        x: 4286
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\nimport random\n\ndef main(data):\n    weather_data = json.loads(data)\n\
          \    \n    # ç¡®ä¿æ•°æ®ä¸ä¸ºç©ºä¸”è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ \n    if not weather_data or len(weather_data)\
          \ == 0:\n        return {\"output\": \"æ•°æ®ä¸ºç©ºï¼Œæ— æ³•ç”Ÿæˆé¥¼å›¾ã€‚\"}\n    \n    field_names\
          \ = list(weather_data[0].keys())  # è·å–å­—æ®µååˆ—è¡¨\n    \n    # ç¡®ä¿æ¯ä¸ªå­—å…¸é¡¹è‡³å°‘æœ‰ä¸¤ä¸ªå­—æ®µ\n\
          \    if len(field_names) < 2:\n        return {\"output\": \"æ•°æ®å­—æ®µä¸è¶³ï¼Œæ— æ³•ç”Ÿæˆé¥¼å›¾ã€‚\"\
          }\n    \n    field_data = {field: [] for field in field_names}  # ä½¿ç”¨å­—æ®µåä½œä¸ºå­—å…¸çš„é”®\n\
          \n    for item in weather_data:\n        for field in field_names:\n   \
          \         field_data[field].append(item[field])\n\n    # å‡è®¾é¥¼å›¾çš„åˆ†ç±»æ•°æ®æ¥è‡ªç¬¬ä¸€åˆ—ï¼Œå€¼æ¥è‡ªç¬¬äºŒåˆ—\n\
          \    categories = field_data[field_names[0]]\n    values = field_data[field_names[1]]\n\
          \n    # ç”Ÿæˆé¥¼å›¾é¢œè‰²å’Œæ•°æ®\n    pie_colors = [\n        f\"rgb({random.randint(0,\
          \ 255)}, {random.randint(0, 255)}, {random.randint(0, 255)})\"\n       \
          \ for _ in categories\n    ]\n    pie_data = [\n        {\"name\": category,\
          \ \"value\": value, \"itemStyle\": {\"color\": color}}\n        for category,\
          \ value, color in zip(categories, values, pie_colors)\n    ]\n\n    # ç”Ÿæˆ\
          \ ECharts å›¾è¡¨é…ç½®\n    echarts_config = {\n        \"tooltip\": {\n       \
          \     \"trigger\": \"item\",           \n            \"formatter\": \"{a}\
          \ <br/>{b}: {c} ({d}%)\"\n        },\n        \"legend\": None,  # ä¸æ˜¾ç¤ºå›¾ä¾‹\n\
          \        \"series\": [\n            {\n                \"name\": \"åˆ†ç±»æ•°æ®\"\
          ,\n                \"type\": \"pie\",\n                \"radius\": \"50%\"\
          ,\n                \"data\": pie_data,\n                \"label\": {\n \
          \                  \"show\": False,  # ä¸æ˜¾ç¤ºæ ‡ç­¾\n                   \"position\"\
          : \"center\"\n                },                \n                \"emphasis\"\
          : {\n                    \"itemStyle\": {\n                        \"shadowBlur\"\
          : 10,\n                        \"shadowOffsetX\": 0,\n                 \
          \       \"shadowColor\": \"rgba(0, 0, 0, 0.5)\"\n                    }\n\
          \                }\n            }\n        ]\n    }\n\n\n\n    # è¾“å‡ºç»“æœ\n\
          \    output = (\n        \"```echarts\\n\" +\n        json.dumps(echarts_config,\
          \ indent=2, ensure_ascii=False) +\n        \"\\n```\\n\\nå›¾ä¾‹:\\n\" \n   \
          \ )\n    return {\"output\": output}"
        code_language: python3
        desc: ''
        outputs:
          output:
            children: null
            type: string
        selected: false
        title: é¥¼çŠ¶å›¾
        type: code
        variables:
        - value_selector:
          - '1732159087819'
          - result
          variable: data
      height: 54
      id: '1732152926114'
      position:
        x: 3982
        y: 263
      positionAbsolute:
        x: 3982
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 469280df-4af4-4332-b80e-cc8080b315a3
            value: é¥¼çŠ¶å›¾
            varType: string
            variable_selector:
            - sys
            - query
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 126
      id: '1732153817994'
      position:
        x: 3678
        y: 263
      positionAbsolute:
        x: 3678
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: bec1eae2-108d-4b0a-8cea-e149b2cc9c92
            value: æŠ˜çº¿å›¾
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: 2cb04889-61fb-4d4d-bb12-562f05b46faa
            value: è¶‹åŠ¿
            varType: string
            variable_selector:
            - sys
            - query
          id: 'true'
          logical_operator: or
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 2
        type: if-else
      height: 152
      id: '1732153988019'
      position:
        x: 3982
        y: 357
      positionAbsolute:
        x: 3982
        y: 357
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\nimport random\n\ndef main(data):\n    weather_data = json.loads(data)\n\
          \    \n    # ç¡®ä¿æ•°æ®ä¸ä¸ºç©ºä¸”è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ \n    if not weather_data or len(weather_data)\
          \ == 0:\n        return {\"output\": \"æ•°æ®ä¸ºç©ºï¼Œæ— æ³•ç”ŸæˆæŠ˜çº¿å›¾ã€‚\"}\n    \n    field_names\
          \ = list(weather_data[0].keys())  # è·å–å­—æ®µååˆ—è¡¨\n    \n    # ç¡®ä¿æ¯ä¸ªå­—å…¸é¡¹è‡³å°‘æœ‰ä¸¤ä¸ªå­—æ®µ\n\
          \    if len(field_names) < 2:\n        return {\"output\": \"æ•°æ®å­—æ®µä¸è¶³ï¼Œæ— æ³•ç”ŸæˆæŠ˜çº¿å›¾ã€‚\"\
          }\n    \n    field_data = {field: [] for field in field_names}  # ä½¿ç”¨å­—æ®µåä½œä¸ºå­—å…¸çš„é”®\n\
          \n    for item in weather_data:\n        for field in field_names:\n   \
          \         field_data[field].append(item[field])\n\n    # å‡è®¾æŠ˜çº¿å›¾çš„xè½´æ•°æ®æ¥è‡ªç¬¬ä¸€åˆ—ï¼Œyè½´æ•°æ®æ¥è‡ªç¬¬äºŒåˆ—\n\
          \    x_axis_data = field_data[field_names[0]]\n    y_axis_data = field_data[field_names[1]]\n\
          \n    # ç”Ÿæˆ ECharts å›¾è¡¨é…ç½®\n    echarts_config = {\n        \"tooltip\": {\n\
          \            \"trigger\": \"axis\",\n            \"formatter\": \"{a} <br/>{b}:\
          \ {c}\"\n        },\n        \"xAxis\": {\n            \"type\": \"category\"\
          ,\n            \"data\": x_axis_data,\n            \"axisLabel\": {\n  \
          \              \"show\": False  # ä¸æ˜¾ç¤º X è½´çš„æ ‡ç­¾\n            }\n        },\n\
          \        \"yAxis\": {\n            \"type\": \"value\"\n        },\n   \
          \     \"series\": [\n            {\n                \"name\": \"åˆ†ç±»æ•°æ®\",\n\
          \                \"type\": \"line\",\n                \"data\": y_axis_data,\n\
          \                \"smooth\": True,  # å¹³æ»‘æ›²çº¿\n                \"lineStyle\"\
          : {\n                    \"width\": 2\n                },\n            \
          \    \"itemStyle\": {\n                    \"color\": f\"rgb({random.randint(0,\
          \ 255)}, {random.randint(0, 255)}, {random.randint(0, 255)})\"\n       \
          \         },\n                \"symbolSize\": 8,  # ç‚¹çš„å¤§å°\n             \
          \   \"label\": {\n                    \"show\": True,  # æ˜¾ç¤ºæ•°æ®æ ‡ç­¾\n      \
          \              \"position\": \"top\",  # æ ‡ç­¾æ˜¾ç¤ºåœ¨ç‚¹çš„ä¸Šæ–¹\n                   \
          \ \"formatter\": \"{c}\"  # æ ‡ç­¾å†…å®¹ä¸ºæ•°æ®å€¼\n                }\n            }\n\
          \        ]\n    }\n\n    # è¾“å‡ºç»“æœ\n    output = (\n        \"```echarts\\\
          n\" +\n        json.dumps(echarts_config, indent=2, ensure_ascii=False)\
          \ +\n        \"\\n```\\n\\nå›¾ä¾‹:\\n\"\n    )\n    return {\"output\": output}"
        code_language: python3
        desc: ''
        outputs:
          output:
            children: null
            type: string
        selected: false
        title: æŠ˜çº¿å›¾
        type: code
        variables:
        - value_selector:
          - '1732159087819'
          - result
          variable: data
      height: 54
      id: '1732154023290'
      position:
        x: 4286
        y: 430.5
      positionAbsolute:
        x: 4286
        y: 430.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1732154023290.output#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 3
        type: answer
        variables: []
      height: 103
      id: '1732154058355'
      position:
        x: 4590
        y: 406
      positionAbsolute:
        x: 4590
        y: 406
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 9ff96c7c-60f4-4ee4-ac5d-4ebc378c2c33
            value: æŠ˜çº¿å›¾
            varType: string
            variable_selector:
            - sys
            - query
          - comparison_operator: contains
            id: d65e0f92-7845-49c3-bede-9540ddfa657e
            value: æŸ±çŠ¶å›¾
            varType: string
            variable_selector:
            - sys
            - query
          id: 'true'
          logical_operator: and
        - case_id: 28bb6146-9170-4d56-bb27-f628962cb9fb
          conditions:
          - comparison_operator: contains
            id: bfd9bc9d-40f1-43d8-a219-fa3fb63c4737
            value: å¤åˆå›¾
            varType: string
            variable_selector:
            - sys
            - query
          id: 28bb6146-9170-4d56-bb27-f628962cb9fb
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 3
        type: if-else
      height: 200
      id: '1732154079951'
      position:
        x: 4286
        y: 524.5
      positionAbsolute:
        x: 4286
        y: 524.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\nimport random\n\ndef main(data):\n    weather_data = json.loads(data)\n\
          \    field_names = list(weather_data[0].keys())  # è·å–å­—æ®µååˆ—è¡¨\n    field_data\
          \ = {field: [] for field in field_names}  # ä½¿ç”¨å­—æ®µåä½œä¸ºå­—å…¸çš„é”®\n\n    # æŒ‰å­—æ®µé€é¡¹æ•´ç†æ•°æ®\n\
          \    for item in weather_data:\n        for field in field_names:\n    \
          \        field_data[field].append(item[field])\n\n    # ç¡®ä¿æŠ˜çº¿å›¾å’ŒæŸ±çŠ¶å›¾ä¸¥æ ¼å¯¹åº”åˆ†ç±»è½´\
          \ (X è½´)\n    x_axis_data = field_data[field_names[0]]  # åˆ†ç±»è½´æ•°æ®\n    bar_values\
          \ = field_data[field_names[1]]  # æŸ±çŠ¶å›¾æ•°æ®\n    line_values = field_data[field_names[1]]\
          \  # æŠ˜çº¿å›¾æ•°æ® (ä¿æŒä¸€è‡´)\n\n    # ç”ŸæˆæŸ±çŠ¶å›¾ç³»åˆ—æ•°æ®\n    bar_colors = [\n        f\"rgb({random.randint(0,\
          \ 255)}, {random.randint(0, 255)}, {random.randint(0, 255)})\"\n       \
          \ for _ in bar_values\n    ]\n    bar_series = {\n        \"name\": \"æŸ±çŠ¶å›¾\"\
          ,\n        \"type\": \"bar\",\n    \"data\": [\n        {\"value\": value,\
          \ \"itemStyle\": {\"color\": color}, \"label\": {\"show\": True, \"position\"\
          : \"top\", \"color\": \"#000\"}}\n        for value, color in zip(bar_values,\
          \ bar_colors)\n    ],\n        \"barGap\": \"0%\",  # ç¦æ­¢æŸ±é—´é—´è·\n        \"\
          barCategoryGap\": \"50%\",  # è®¾ç½®åˆ†ç±»é—´è·\n    }\n\n    # ç”ŸæˆæŠ˜çº¿å›¾ç³»åˆ—æ•°æ®\n    line_series\
          \ = {\n        \"name\": \"æŠ˜çº¿å›¾\",\n        \"type\": \"line\",\n       \
          \ \"data\": [{\"value\": value} for value in line_values],  # ä¸æŸ±çŠ¶å›¾æ•°æ®ä¸¥æ ¼å¯¹åº”\n\
          \        \"smooth\": True,\n        \"lineStyle\": {\n            \"width\"\
          : 2\n        },\n        \"itemStyle\": {\n            \"color\": f\"rgb({random.randint(0,\
          \ 255)}, {random.randint(0, 255)}, {random.randint(0, 255)})\"\n       \
          \ },\n        \"symbolSize\": 8,\n        \"label\": {\n            \"show\"\
          : False  # éšè—æŠ˜çº¿å›¾æ ‡æ³¨\n        }\n    }\n\n    # ECharts é…ç½®\n    echarts_config\
          \ = {\n        \"title\": {\n            \"text\": \"åº“å­˜æ•°æ®\"\n        },\n\
          \        \"tooltip\": {\n            \"trigger\": \"axis\",\n          \
          \  \"axisPointer\": {\n                \"type\": \"cross\",\n          \
          \      \"label\": {\n                    \"backgroundColor\": \"#6a7985\"\
          \n                }\n            }\n        },\n        \"legend\": {\n\
          \            \"show\": False  # éšè—å›¾ä¾‹\n        },\n        \"xAxis\": {\n\
          \            \"type\": \"category\",\n            \"data\": x_axis_data,\
          \  # åˆ†ç±»è½´\n            \"axisLabel\": {\n                \"show\": False\
          \  # éšè—Xè½´æ ‡ç­¾\n            }\n        },\n        \"yAxis\": {\n         \
          \   \"type\": \"value\"\n        },\n        \"series\": [bar_series, line_series]\
          \  # åˆå¹¶ç³»åˆ—æ•°æ®\n    }\n\n    # è¾“å‡ºç»“æœ\n    output = (\n        \"```echarts\\\
          n\" +\n        json.dumps(echarts_config, indent=2, ensure_ascii=False)\
          \ +\n        \"\\n```\"\n    )\n    return {\"output\": output}"
        code_language: python3
        desc: ''
        outputs:
          output:
            children: null
            type: string
        selected: false
        title: æŠ˜çº¿+æŸ±çŠ¶å›¾
        type: code
        variables:
        - value_selector:
          - '1732159087819'
          - result
          variable: data
      height: 54
      id: '1732154109789'
      position:
        x: 4590
        y: 597.5
      positionAbsolute:
        x: 4590
        y: 597.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\nimport random\n\ndef main(data):\n    weather_data = json.loads(data)\n\
          \    field_names = list(weather_data[0].keys())  # è·å–å­—æ®µååˆ—è¡¨\n    field_data\
          \ = {field: [] for field in field_names}  # ä½¿ç”¨å­—æ®µåä½œä¸ºå­—å…¸çš„é”®\n\n    for item\
          \ in weather_data:\n        for field in field_names:\n            field_data[field].append(item[field])\n\
          \n    # ç”Ÿæˆæ¯ä¸ªæŸ±å­çš„é¢œè‰²\n    series_data = []\n    for field in field_names[1:]:\
          \  # æ’é™¤åˆ†ç±»è½´\n        field_colors = [\n            f\"rgb({random.randint(0,\
          \ 255)}, {random.randint(0, 255)}, {random.randint(0, 255)})\"\n       \
          \     for _ in field_data[field_names[0]]  # ç”Ÿæˆä¸åˆ†ç±»è½´æ•°æ®ç›¸åŒæ•°é‡çš„é¢œè‰²\n        ]\n\
          \        series_data.append({\n            \"name\": field,\n          \
          \  \"type\": \"bar\",\n            \"data\": [\n                {\"value\"\
          : value, \"itemStyle\": {\"color\": color}}\n                for value,\
          \ color in zip(field_data[field], field_colors)\n            ],\n      \
          \      \"label\": {\n                \"show\": True,\n                \"\
          position\": \"top\",\n                \"formatter\": \"{c}\"\n         \
          \   }\n        })\n\n    # ç”Ÿæˆ ECharts å›¾è¡¨é…ç½®\n    echarts_config = {\n   \
          \     \"title\": {\n            \"text\": \"åº“å­˜æ•°æ®\"\n        },\n       \
          \ \"tooltip\": {},\n        \"xAxis\": {\n            \"type\": \"category\"\
          ,\n            \"data\": field_data[field_names[0]],\n            \"axisLabel\"\
          : {\n                \"show\": False  # ä¸æ˜¾ç¤ºxè½´çš„æ•°æ®æ ‡ç­¾\n            }\n    \
          \    },\n        \"yAxis\": {},\n        \"series\": series_data\n    }\n\
          \n    # è¾“å‡ºç»“æœ\n    output = (\n        \"```echarts\\n\" +\n        json.dumps(echarts_config,\
          \ indent=2, ensure_ascii=False) +\n        \"\\n```\"\n    )\n    return\
          \ {\"output\": output}"
        code_language: python3
        desc: ''
        outputs:
          output:
            children: null
            type: string
        selected: false
        title: æŸ±çŠ¶å›¾
        type: code
        variables:
        - value_selector:
          - '1732159087819'
          - result
          variable: data
      height: 54
      id: '1732154160372'
      position:
        x: 4590
        y: 740.5
      positionAbsolute:
        x: 4590
        y: 740.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1732154109789.output#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 4
        type: answer
        variables: []
      height: 103
      id: '1732154236106'
      position:
        x: 4894
        y: 573
      positionAbsolute:
        x: 4894
        y: 573
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1732154160372.output#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 5
        type: answer
        variables: []
      height: 103
      id: '1732154244433'
      position:
        x: 4894
        y: 716
      positionAbsolute:
        x: 4894
        y: 716
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        dataset_ids:
        - fb5c7c53-fec8-41ac-b9be-871e8e730bf1
        desc: ''
        multiple_retrieval_config:
          reranking_enable: true
          reranking_mode: reranking_model
          reranking_model:
            model: gte-rerank
            provider: tongyi
          score_threshold: null
          top_k: 10
          weights:
            keyword_setting:
              keyword_weight: 0.3
            vector_setting:
              embedding_model_name: text-embedding-3-small
              embedding_provider_name: openai
              vector_weight: 0.7
        query_variable_selector:
        - '1732151368697'
        - sys.query
        retrieval_mode: multiple
        selected: false
        title: çŸ¥è¯†æ£€ç´¢
        type: knowledge-retrieval
      height: 92
      id: '1732158935880'
      position:
        x: 334
        y: 263
      positionAbsolute:
        x: 334
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: true
          variable_selector:
          - '1732158935880'
          - result
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o
          provider: openai
        prompt_template:
        - id: 6c642e66-b135-4e38-a805-dab1af90b1e0
          role: system
          text: "ä½ æ˜¯åˆ¶é€ ä¸šæ•°æ®åˆ†æä¸“å®¶ï¼Œç²¾é€šMYSQLï¼Œæ ¹æ®ç”¨æˆ·é—®é¢˜ç”ŸæˆSQLæŸ¥è¯¢ã€‚\næ ¸å¿ƒè§„åˆ™ï¼š\n1.ä»…ä½¿ç”¨ç”¨æˆ·æåˆ°çš„è¡¨å’Œå­—æ®µ\n2.ç¡®ä¿SQLå…¼å®¹MYSQL\n\
            3.åªç”¨ç®€ä½“ä¸­æ–‡ï¼Œç¦ç”¨ç¹ä½“ä¸­æ–‡\n4.åªè¾“å‡ºä¸€ä¸ªå®Œæ•´SQLè¯­å¥ï¼Œæ— æ³¨é‡Š\n5.æ— è®ºæ˜¯å¦éœ€è¦è¾“å‡ºäº§å“åï¼Œéƒ½è¯·å°†äº§å“åæ”¾åœ¨ç¬¬ä¸€åˆ—è¿›è¡Œè¾“å‡º\n6.æ— è®ºæ˜¯å¦éœ€è¦è¾“å‡ºäº§å“å¯ç”¨åº“å­˜éƒ½éœ€è¦è¾“å‡ºï¼Œå¹¶ä¿è¯å¯ç”¨åº“å­˜åœ¨ç¬¬äºŒåˆ—\n\
            \nå…³é”®æŠ€å·§ï¼š\n1.WHEREè¯­å¥ï¼š\n -å¯¹äºå­—ç¬¦ä¸²å’Œé•¿æ–‡æœ¬å­—æ®µç”¨LIKEæ“ä½œï¼Œè€Œä¸æ˜¯ç­‰äºæ“ä½œï¼Œä¾‹å¦‚ï¼šWHERE äº§å“å‹å· LIKE N'%å…³é”®è¯%'ï¼Œè€Œä¸æ˜¯WHERE\
            \ äº§å“å‹å·=â€˜å…³é”®è¯â€™\n -æ—¥æœŸç”¨DATEDIFF: WHERE DATEDIFF(day,ç”Ÿæˆå®Œæˆæ—¶é—´ï¼ŒGETDATE()) = 0\n\
            \n2.æ—¥æœŸå¤„ç†ï¼š\n - ç”¨CASTè½¬æ¢æ—¥æœŸï¼šCAST(ç”Ÿæˆå®Œæˆæ—¶é—´ AS DATE)\n - ç”¨DATEADDå’ŒDATEDIFFè®¡ç®—\n\
            \ - ç”¨GETDATE()è·å–å½“å‰æ—¥æœŸ\n - ç¦ç”¨DATE()å‡½æ•°\n\n3.èšåˆå‡½æ•°ï¼š\n - SUM():æ€»å’Œï¼ˆå¦‚æ€»äº§é‡ï¼‰\n -\
            \ AVG():å¹³å‡å€¼ï¼ˆå¦‚å¹³å‡æ—¶é—´ï¼‰\n - COUNT():è®¡æ•°ï¼ˆå¦‚äº§å“æ•°é‡ï¼‰\n\n4.é™¤æ³•å¤„ç†ï¼š\nå¿…é¡»ç”¨æ¨¡æ¿ï¼š\nCASE WHEN\
            \ [é™¤æ•°] =0 THEN 0\nELSE CAST([è¢«é™¤æ•°] AS FLOAT)/[é™¤æ•°]\nEND AS [ç»“æœåˆ—å]\n\n5.æ—¥æœŸèŒƒå›´ç¤ºä¾‹ï¼š\n\
            \ - ä»Šå¤©ï¼šCAST(ç”Ÿäº§å®Œæˆæ—¶é—´ AS DATE) = CAST(GETDATE() AS DATE)\n - æœ¬å‘¨ï¼šDATEPART(week,ç”Ÿäº§å®Œæˆæ—¶é—´)\
            \ = DATEPART(week,GETDATE())\n   AND DATEPART(year,ç”Ÿäº§å®Œæˆæ—¶é—´) = DATEPART(year,GETDATE())\n\
            \næ³¨æ„ï¼š\n- æ£€æŸ¥è¡¨åå’Œå­—æ®µå\n- å­—ç¬¦å­—æ®µç”¨LIKE Nâ€˜%å…³é”®è¯%â€™\n- æ‰€æœ‰é™¤æ³•ç”¨æŒ‡å®šæ¨¡æ¿\n- æ—¥æœŸå¤„ç†ç”¨æ­£ç¡®å‡½æ•°\n- æ ¹æ®éœ€æ±‚é€‰æ‹©æ­£ç¡®çš„èšåˆå‡½æ•°\n\
            \nå‚è€ƒç¤ºä¾‹ä¸ä¸šåŠ¡é€»è¾‘è¯´æ˜ï¼š{{#context#}}"
        - id: 316ce6ce-c68e-4ff9-8059-2195ad4c8364
          role: user
          text: "(å¡«å…¥ä½ çš„æ•°æ®åº“è¡¨ç»“æ„æè¿°ï¼‰\n é—®é¢˜ï¼š{{#sys.query#}}"
        selected: false
        title: LLM 2
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1732158952605'
      position:
        x: 638
        y: 263
      positionAbsolute:
        x: 638
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import urllib.request\n\nimport json\n\ndef main(sql_query: str) ->\
          \ dict:\n\n    # Flask æœåŠ¡ç«¯ç‚¹ï¼Œè¿™ä¸ªæœåŠ¡è¿è¡Œåœ¨åå°ï¼Œç”¨é€”æ˜¯æ¥æ”¶ä¸€ä¸ªsqlè¯­å¥ï¼Œæäº¤ç»™æ•°æ®åº“æŸ¥è¯¢å¹¶è·å¾—ç»“æœ\n\n   \
          \ api_url = \"http://(å¡«å…¥ä½ çš„flaskåœ°å€)/execute_query\"\n\n    \n\n    #\
          \ è¯·æ±‚ä½“\n\n    payload = {\n\n        \"sql_query\": sql_query\n\n    }\n\n\
          \    \n\n    # å°†è¯·æ±‚ä½“è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²\n\n    data = json.dumps(payload).encode('utf-8')\n\
          \n    \n\n    # åˆ›å»ºè¯·æ±‚å¯¹è±¡\n\n    req = urllib.request.Request(api_url, data=data,\
          \ headers={\"Content-Type\": \"application/json\"})\n\n    \n\n    try:\n\
          \n        # å‘é€è¯·æ±‚å¹¶è·å–å“åº”\n\n        with urllib.request.urlopen(req) as response:\n\
          \n            # è¯»å–å¹¶è§£ç å“åº”\n\n            result_data = json.loads(response.read().decode('utf-8'))\
          \  \n\n            # å°†ç»“æœè½¬æ¢ä¸ºå­—ç¬¦ä¸²æ ¼å¼\n\n            result_str = json.dumps(result_data,\
          \ ensure_ascii=False)  # ç¡®ä¿ä¸­æ–‡å­—ç¬¦æ­£å¸¸æ˜¾ç¤º\n\n            return {'result': result_str}\
          \  # è¿”å›å­—ç¬¦ä¸²ç±»å‹çš„ç»“æœ\n\n    except Exception as e:\n\n        raise Exception(f\"\
          Error: {str(e)}\")"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æ‰§è¡ŒæŸ¥è¯¢
        type: code
        variables:
        - value_selector:
          - '1732177530436'
          - result
          variable: sql_query
      height: 54
      id: '1732159087819'
      position:
        x: 1854
        y: 263
      positionAbsolute:
        x: 1854
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1732152827381.result#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 6
        type: answer
        variables: []
      height: 103
      id: '1732159209172'
      position:
        x: 3374
        y: 263
      positionAbsolute:
        x: 3374
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 55b3014f-36fa-4867-8b64-ba9607d42ea3
            value: '[]'
            varType: string
            variable_selector:
            - '1732159087819'
            - result
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æŸ¥è¯¢ç»“æœè¿›è¡Œåˆ¤æ–­
        type: if-else
      height: 126
      id: '1732167735392'
      position:
        x: 2158
        y: 263
      positionAbsolute:
        x: 2158
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: æŠ±æ­‰åœ¨æ•°æ®åº“ä¸­æœªæŸ¥è¯¢åˆ°ç›¸å…³æ•°æ®ã€‚
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 7
        type: answer
        variables: []
      height: 100
      id: '1732167773905'
      position:
        x: 2376.285714285714
        y: 428
      positionAbsolute:
        x: 2376.285714285714
        y: 428
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: detail
          provider: openai_api_compatible
        prompt_template:
        - id: 3e24d7bf-210f-4d89-b804-ec05a047af7a
          role: system
          text: '{{#1732167981036.text#}}çš„è¿‘æœŸå¸‚åœºä»·æ ¼åŠèµ°åŠ¿'
        selected: true
        title: LLM 3
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1732167941415'
      position:
        x: 3374
        y: 428
      positionAbsolute:
        x: 3374
        y: 428
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o
          provider: openai
        prompt_template:
        - id: 315cd4d2-0deb-4a14-bbc9-8dca3fc29555
          role: system
          text: æå–å‡º{{#sys.query#}}é—®é¢˜ä¸­çš„äº§å“åï¼Œå¦‚æœæ²¡æœ‰å…·ä½“äº§å“åï¼Œè¯·ç›´æ¥è¾“å‡ºâ€œnullâ€
        selected: false
        title: LLM 4
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1732167981036'
      position:
        x: 2766
        y: 428
      positionAbsolute:
        x: 2766
        y: 428
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: 'ä½†æˆ‘åœ¨ç½‘ä¸Šå¸®ä½ æŸ¥åˆ°äº†è¿™äº›ï¼Œå¸Œæœ›å¯¹æ‚¨æœ‰ç”¨ï¼

          {{#1732167941415.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 8
        type: answer
        variables: []
      height: 119
      id: '1732168063554'
      position:
        x: 3678
        y: 429
      positionAbsolute:
        x: 3678
        y: 429
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\nimport json\n\ndef main(sql_string):\n    # æ£€æŸ¥è¾“å…¥å‚æ•°ç±»å‹\n \
          \   if not isinstance(sql_string, str):\n        return {\n            \"\
          result\": \"Error: input should be a string.\"\n        }\n\n    # ç§»é™¤ä»£ç å—æ ‡è®°\n\
          \    sql_string = re.sub(r'```sql\\s*', '', sql_string)\n    sql_string\
          \ = re.sub(r'\\s*```', '', sql_string)\n\n    # ç§»é™¤æŒ‡å®šçš„å­—æ ·\n    sql_string\
          \ = sql_string.replace('mysql', '')\n    sql_string = sql_string.replace('sql\\\
          \\n', '')\n    \n    # ç§»é™¤åæ–œæ n\n    sql_string = sql_string.replace('\\\\\
          n', ' ')\n\n    # ç§»é™¤å¤šä½™çš„ç©ºç™½å­—ç¬¦\n    sql_string = ' '.join(sql_string.split())\n\
          \n    # è¿”å›å¤„ç†åçš„SQLå­—ç¬¦ä¸²\n    return {\n        \"result\": sql_string,\n  \
          \  }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æ¸…é™¤å¤šä½™ç¬¦å·
        type: code
        variables:
        - value_selector:
          - '1732158952605'
          - text
          variable: sql_string
      height: 54
      id: '1732177530436'
      position:
        x: 1550
        y: 263
      positionAbsolute:
        x: 1550
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 9241134e-0c67-4943-90be-a5b077225b9b
            value: 'null'
            varType: string
            variable_selector:
            - '1732167981036'
            - text
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 5
        type: if-else
      height: 126
      id: '1732236636187'
      position:
        x: 3070
        y: 389.5
      positionAbsolute:
        x: 3070
        y: 389.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: sorryï¼Œæ— æ³•æŸ¥è¯¢ç›¸å…³ä¿¡æ¯ï¼
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 9
        type: answer
        variables: []
      height: 100
      id: '1732236667696'
      position:
        x: 3374
        y: 566
      positionAbsolute:
        x: 3374
        y: 566
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4
          provider: openai
        prompt_template:
        - id: 484a2276-4390-4e63-9b95-720f795888e5
          role: system
          text: åˆ¤æ–­{{#1732158952605.text#}}æ˜¯å¦æ˜¯ä¸€ä¸ªsqlè¯­å¥ï¼Œå¦‚æœä¸æ˜¯è¯·ç›´æ¥è¾“å‡ºâ€œnullâ€
        selected: false
        title: LLM 5
        type: llm
        variables: []
        vision:
          enabled: false
      height: 98
      id: '1732237109866'
      position:
        x: 942
        y: 263
      positionAbsolute:
        x: 942
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: b4d5cf4f-6280-42d3-a83f-e025c4158a3f
            value: 'null'
            varType: string
            variable_selector:
            - '1732237109866'
            - text
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 6
        type: if-else
      height: 126
      id: '1732237157896'
      position:
        x: 1246
        y: 263
      positionAbsolute:
        x: 1246
        y: 263
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: sorryï¼Œæ— æ³•ä¸æ‚¨è¿›è¡Œäº¤æµï¼Œåªèƒ½ç»Ÿè®¡åˆ†ææ•°æ®åº“ä¿¡æ¯
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤ 10
        type: answer
        variables: []
      height: 116
      id: '1732237193635'
      position:
        x: 1550
        y: 357
      positionAbsolute:
        x: 1550
        y: 357
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -2614.970181401974
      y: -20.475042311386346
      zoom: 0.9072347108245612
