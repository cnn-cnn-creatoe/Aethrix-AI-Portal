app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: é•¿æ–‡å†™ä½œ
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/volcengine_maas:0.0.7@f8e44422cfa5b9a6ac1f2d3b43ef1069868efdad1e5cec2590de3f53ceac37b0
kind: app
version: 0.1.5
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 500
        batch_count_limit: 50
        file_size_limit: 1024
        image_file_size_limit: 1000
        video_file_size_limit: 10000
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: llm
      id: 1720414200671-source-1720414237605-target
      source: '1720414200671'
      sourceHandle: source
      target: '1720414237605'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: template-transform
        targetType: end
      id: 1720415806041-source-1720415185037-target
      source: '1720415806041'
      sourceHandle: source
      target: '1720415185037'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: iteration
      id: 1720415379070-source-1743777522098-target
      source: '1720415379070'
      sourceHandle: source
      target: '1743777522098'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1743777522098'
        sourceType: iteration-start
        targetType: llm
      id: 1743777522098start-source-1743777541778-target
      source: 1743777522098start
      sourceHandle: source
      target: '1743777541778'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInLoop: false
        sourceType: iteration
        targetType: template-transform
      id: 1743777522098-source-1720415806041-target
      source: '1743777522098'
      sourceHandle: source
      target: '1720415806041'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: if-else
      id: 1720414237605-source-1743952702602-target
      source: '1720414237605'
      sourceHandle: source
      target: '1743952702602'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: template-transform
      id: 1743952702602-true-1743780001641-target
      source: '1743952702602'
      sourceHandle: 'true'
      target: '1743780001641'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: template-transform
        targetType: variable-aggregator
      id: 1743780001641-source-1743952715913-target
      source: '1743780001641'
      sourceHandle: source
      target: '1743952715913'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: variable-aggregator
        targetType: code
      id: 1743952715913-source-1720415379070-target
      source: '1743952715913'
      sourceHandle: source
      target: '1720415379070'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: template-transform
      id: 1743952702602-false-1743952837696-target
      source: '1743952702602'
      sourceHandle: 'false'
      target: '1743952837696'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: template-transform
        targetType: variable-aggregator
      id: 1743952837696-source-1743952715913-target
      source: '1743952837696'
      sourceHandle: source
      target: '1743952715913'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: è¾“å…¥ä¸»é¢˜
          max_length: 5000
          options: []
          required: true
          type: paragraph
          variable: subject
        - label: æ˜¯å¦éœ€è¦è½¬æ¢
          max_length: 48
          options:
          - æ‰‹åŠ¨å»é™¤jsonå­—ç¬¦
          - æ— éœ€å¤„ç†
          required: true
          type: select
          variable: type
      height: 114
      id: '1720414200671'
      position:
        x: 268
        y: 124.5
      positionAbsolute:
        x: 268
        y: 124.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: true
          variable_selector:
          - '1720414200671'
          - subject
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: DeepSeek-V3
          provider: langgenius/volcengine_maas/volcengine_maas
        prompt_template:
        - id: e1e8888f-b66a-459d-b025-bb5fd15aad3c
          role: system
          text: '

            ### è§’è‰² ###

            ä½ æ˜¯ä¸€ä¸ªç²¾é€šä¸“ä¸šå†™ä½œçš„ä½œå®¶ï¼Œè¯·æ ¹æ®ç”¨æˆ·è¦æ±‚è¿›è¡Œå¤§çº²ç”Ÿæˆï¼Œå…·ä½“è¦æ±‚ä¸ºï¼š{{#1720414200671.subject#}}



            ### æŠ€èƒ½ ###

            æŒ‰ç”¨æˆ·è¦æ±‚ä¼°ç®—å‡ºæ€»å­—æ•°, ç”±äºæ¥ä¸‹æ¥çš„å¤„ç†èŠ‚ç‚¹æ¯æ¬¡æœ€å¤šè¾“å‡º2000ä¸ªæ±‰å­—ï¼Œæ‰€ä»¥ä½ éœ€è¦åœ¨æ‹†åˆ†ç›®å½•æ—¶è€ƒè™‘å­—æ•°å½±å“

            å›´ç»•ä¸»é¢˜ï¼Œåˆ©ç”¨é‡‘å­—å¡”åŸç†ï¼Œè¾“å‡ºä¸€ä¸ªæ‘˜è¦å’Œä¸€ç»„å¤§çº²ç›®å½•æ ‡é¢˜



            ### è¾“å‡º ###

            1. æ³¨æ„ï¼Œæ¥æ”¶ä½ è¾“å‡ºçš„ç¨‹åºï¼Œåªèƒ½æ¥å—JSONæ ¼å¼

            2. æ ¼å¼æ¨¡ç‰ˆä¸º`{"title":"{{æ–‡ç« æ ‡é¢˜}}","summary": "{{æ‘˜è¦}}", "outline": [ "{{ç›®å½•å¤§æ ‡é¢˜}}"
            ],"word_count":{{ç›®æ ‡å­—æ•°}}}`

            3. æ³¨æ„outlineè¾“å‡ºæ—¶ï¼Œå­æ ‡é¢˜è¦æŒ‰æ•°å­—æ ‡è®°é¡ºåº



            ### ç¤ºä¾‹ ###

            è¾“å…¥ï¼šè¯·å†™ä¸€ç¯‡å…³äºèŠ±æœµçš„è®ºæ–‡

            è¾“å‡ºï¼š

            { "title": "èŠ±çš„å®ç”¨ä»·å€¼å’Œæ–‡åŒ–æ„ä¹‰","summary": "æœ¬æ–‡ç»¼è¿°äº†èŠ±æœµçš„å¤šé‡ä»·å€¼å’ŒåŠŸèƒ½ï¼Œä»ç”Ÿç‰©å­¦ç‰¹æ€§æ¢è®¨å…¶åœ¨ç”Ÿæ€ç³»ç»Ÿä¸­çš„è§’è‰²ï¼Œåˆ†æèŠ±æœµçš„ç»æµå½±å“ï¼Œä»¥åŠå…¶åœ¨å…¨çƒæ–‡åŒ–ä¸­çš„è±¡å¾æ„ä¹‰ã€‚æ–‡ç« é¦–å…ˆè§£æèŠ±æœµçš„ç”Ÿç‰©æ„é€ å’Œç¹æ®–æœºåˆ¶ï¼Œéšåè®¨è®ºå…¶åœ¨ç»´æŒç”Ÿç‰©å¤šæ ·æ€§ä¸­çš„ä½œç”¨ï¼Œæ¢è®¨å…¶åœ¨å›­è‰ºå’Œå•†ä¸šä¸­çš„ç»æµä»·å€¼ï¼Œæœ€åé˜é‡ŠèŠ±æœµåœ¨ä¸åŒæ–‡åŒ–ä¼ ç»Ÿä¸­çš„è±¡å¾å’Œä½¿ç”¨ã€‚",
            "outline": [  "èŠ±æœµçš„ç”Ÿç‰©å­¦ç‰¹æ€§", "èŠ±æœµåœ¨ç”Ÿæ€ç³»ç»Ÿä¸­çš„ä½œç”¨", "èŠ±æœµåœ¨å…¨çƒæ–‡åŒ–ä¸­çš„è±¡å¾æ„ä¹‰","word_count":10000
            ] }

            '
        selected: false
        title: å¤§çº²æ’°å†™
        type: llm
        variables: []
        vision:
          enabled: false
      height: 88
      id: '1720414237605'
      position:
        x: 375
        y: -46.5
      positionAbsolute:
        x: 375
        y: -46.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1720415806041'
          - output
          variable: output
        selected: false
        title: ç»“æŸ
        type: end
      height: 88
      id: '1720415185037'
      position:
        x: 2469.162543721636
        y: 118.5
      positionAbsolute:
        x: 2469.162543721636
        y: 118.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "\nfunction main({text}) {\n    const json = JSON.parse(text)\n    return\
          \ {\n        title: json.title,\n        summary: json.summary,\n      \
          \  outline: json.outline,\n        part_word_count: Math.ceil(json.word_count\
          \ / json.outline.length) \n    }\n}\n"
        code_language: javascript
        desc: ''
        outputs:
          outline:
            children: null
            type: array[string]
          part_word_count:
            children: null
            type: number
          summary:
            children: null
            type: string
          title:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables:
        - value_selector:
          - '1743780001641'
          - output
          variable: text
      height: 52
      id: '1720415379070'
      position:
        x: 1430.851301645003
        y: -123.5
      positionAbsolute:
        x: 1430.851301645003
        y: -123.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        desc: ''
        selected: true
        template: '# {{ title }}


          æ‘˜è¦: {{ summary }}


          {% for text in array %}

          {{ text }}

          {% endfor %}'
        title: æ¨¡æ¿è½¬æ¢(æ•´ç†æ–‡ç« è¾“å‡º)
        type: template-transform
        variables:
        - value_selector:
          - '1743777522098'
          - output
          variable: array
        - value_selector:
          - '1720415379070'
          - title
          variable: title
        - value_selector:
          - '1720415379070'
          - summary
          variable: summary
      height: 52
      id: '1720415806041'
      position:
        x: 2121.162543721636
        y: -46.5
      positionAbsolute:
        x: 2121.162543721636
        y: -46.5
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        desc: ''
        error_handle_mode: terminated
        height: 177
        is_parallel: false
        iterator_selector:
        - '1720415379070'
        - outline
        output_selector:
        - '1743777541778'
        - text
        output_type: array[string]
        parallel_nums: 10
        selected: false
        start_node_id: 1743777522098start
        title: è¿­ä»£
        type: iteration
        width: 388
      height: 177
      id: '1743777522098'
      position:
        x: 1744.1625437216362
        y: 209.5
      positionAbsolute:
        x: 1744.1625437216362
        y: 209.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 388
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1743777522098start
      parentId: '1743777522098'
      position:
        x: 24
        y: 68
      positionAbsolute:
        x: 1768.1625437216362
        y: 277.5
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        context:
          enabled: true
          variable_selector:
          - '1743777522098'
          - item
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1743777522098'
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: DeepSeek-V3
          provider: langgenius/volcengine_maas/volcengine_maas
        prompt_template:
        - id: 0b623d2a-d981-462e-8b7e-fafe8c464146
          role: system
          text: "### è§’è‰²  ###\né•¿æ–‡ç« èŠ‚å†™æ‰‹\n\n\n### è¦æ±‚ ###\næ ¹æ®ç»™å®šè¦æ±‚è¿›è¡Œæ–‡ç« æ’°å†™\nä»…æ’°å†™ä¸»é¢˜ç›¸å…³çš„å†…å®¹ï¼Œä¸åšä»»ä½•å»¶ä¼¸,ä¸åšæ€»ç»“\n\
            å­—æ•°ç›®æ ‡ï¼š{{#1720415379070.part_word_count#}}æ±‰å­—\n\n\n### ä¸Šä¸‹æ–‡ ####\nä¸»é¢˜ï¼š{{#1720414200671.subject#}}\
            \ \næ‘˜è¦ï¼š{{#1720415379070.summary#}}\nå½“å‰ç›®å½•æ ‡é¢˜ï¼š {{#1743777522098.item#}}\n\
            \n\n### è¾“å‡ºç¤ºä¾‹ ####\n \n\n## ä¸€çº§æ ‡é¢˜\n### äºŒçº§æ ‡é¢˜\nå†…å®¹\n### äºŒçº§æ ‡é¢˜\nå†…å®¹\n### äºŒçº§æ ‡é¢˜\n\
            å†…å®¹\n### äºŒçº§æ ‡é¢˜\nå†…å®¹\n"
        selected: false
        title: ç« èŠ‚æ’°å†™
        type: llm
        variables: []
        vision:
          enabled: false
      height: 88
      id: '1743777541778'
      parentId: '1743777522098'
      position:
        x: 129
        y: 66
      positionAbsolute:
        x: 1873.1625437216362
        y: 275.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        desc: ''
        selected: false
        template: '{{ arg1 | replace("json","") | replace("`","") }}'
        title: æ¨¡æ¿è½¬æ¢(å»é™¤```jsonå­—ç¬¦)
        type: template-transform
        variables:
        - value_selector:
          - '1720414237605'
          - text
          variable: arg1
      height: 52
      id: '1743780001641'
      position:
        x: 968
        y: 218.5
      positionAbsolute:
        x: 968
        y: 218.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 2ced53ff-7d42-4609-8b35-864903889de3
            value: æ‰‹åŠ¨å»é™¤jsonå­—ç¬¦
            varType: string
            variable_selector:
            - '1720414200671'
            - type
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 124
      id: '1743952702602'
      position:
        x: 648
        y: 301.5
      positionAbsolute:
        x: 648
        y: 301.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        desc: ''
        output_type: string
        selected: false
        title: å˜é‡èšåˆå™¨
        type: variable-aggregator
        variables:
        - - '1743780001641'
          - output
        - - '1743952837696'
          - output
      height: 129
      id: '1743952715913'
      position:
        x: 1289.851301645003
        y: 344.5
      positionAbsolute:
        x: 1289.851301645003
        y: 344.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        desc: ''
        selected: false
        template: '{{ arg1 }}'
        title: æ¨¡æ¿è½¬æ¢(æ— éœ€å¤„ç†)
        type: template-transform
        variables:
        - value_selector:
          - '1720414237605'
          - text
          variable: arg1
      height: 52
      id: '1743952837696'
      position:
        x: 968
        y: 465.5
      positionAbsolute:
        x: 968
        y: 465.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: -1623.67256839651
      y: 426.15672335472163
      zoom: 1
