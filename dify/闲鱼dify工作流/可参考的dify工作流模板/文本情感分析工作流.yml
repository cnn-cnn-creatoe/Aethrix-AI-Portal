app:
  description: ''
  icon: â¤ï¸â€ğŸ©¹
  icon_background: '#FFE4E8'
  mode: workflow
  name: æ–‡æœ¬æƒ…æ„Ÿåˆ†æå·¥ä½œæµ
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/openai:0.0.13@9caa0421b5519db036aaccdbf1980d1071550767d6c59e9d9388dd386a92e9f6
kind: app
version: 0.1.5
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: llm
        targetType: end
      id: 1711708651402-1711708653229
      source: '1711708651402'
      sourceHandle: source
      target: '1711708653229'
      targetHandle: target
      type: custom
    - data:
        sourceType: start
        targetType: if-else
      id: 1711708591503-1711708770787
      source: '1711708591503'
      sourceHandle: source
      target: '1711708770787'
      targetHandle: target
      type: custom
    - data:
        sourceType: llm
        targetType: end
      id: 1711708925268-1712457684421
      source: '1711708925268'
      sourceHandle: source
      target: '1712457684421'
      targetHandle: target
      type: custom
    - data:
        sourceType: if-else
        targetType: llm
      id: 1711708770787-1711708651402
      source: '1711708770787'
      sourceHandle: 'false'
      target: '1711708651402'
      targetHandle: target
      type: custom
    - data:
        sourceType: if-else
        targetType: llm
      id: 1711708770787-1711708925268
      source: '1711708770787'
      sourceHandle: 'true'
      target: '1711708925268'
      targetHandle: target
      type: custom
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: è¾“å…¥æ–‡æœ¬
          max_length: null
          options: []
          required: true
          type: paragraph
          variable: input_text
        - label: æƒ…æ„Ÿç§ç±»æ˜¯å¦å¤šé€‰
          max_length: 48
          options:
          - 'True'
          - 'False'
          required: true
          type: select
          variable: Multisentiment
        - label: æƒ…æ„Ÿç±»åˆ«
          max_length: 48
          options: []
          required: false
          type: text-input
          variable: Categories
      height: 142
      id: '1711708591503'
      position:
        x: 79.5
        y: 313.5
      positionAbsolute:
        x: 79.5
        y: 313.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            frequency_penalty: 0
            max_tokens: 512
            presence_penalty: 0
            temperature: 0.7
            top_p: 1
          mode: chat
          name: gpt-3.5-turbo
          provider: langgenius/openai/openai
        prompt_template:
        - role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªæ–‡æœ¬æƒ…æ„Ÿåˆ†ææ¨¡å‹ã€‚åˆ†ææ–‡æœ¬æƒ…ç»ªï¼Œè¿›è¡Œåˆ†ç±»ï¼Œå¹¶æå–ç§¯æå’Œæ¶ˆæå…³é”®è¯ã€‚å¦‚æœæ²¡æœ‰æä¾›åˆ†ç±»ï¼Œåº”è‡ªåŠ¨ç¡®å®šåˆ†ç±»ã€‚åˆ†é…ä¸€ä¸ªæƒ…ç»ªå¾—åˆ†ï¼ˆä»-1.0åˆ°1.0ï¼Œä»¥0.1ä¸ºå¢é‡ï¼‰ã€‚åªè¿”å›JSONå“åº”ã€‚

            å§‹ç»ˆå°è¯•è¿”å›æƒ…ç»ªå¾—åˆ†ï¼Œä¸è¦æœ‰å¼‚å¸¸ã€‚

            ä¸ºé€‚ç”¨äºè¾“å…¥æ–‡æœ¬çš„æ¯ä¸ªåˆ†ç±»å®šä¹‰ä¸€ä¸ªæƒ…ç»ªå¾—åˆ†ã€‚ä¸åŒ…æ‹¬ä¸æ–‡æœ¬ä¸é€‚ç”¨çš„åˆ†ç±»ã€‚è·³è¿‡æŸäº›åˆ†ç±»æ˜¯å¯ä»¥çš„ã€‚

            é‡è¦ï¼šå°†è¾“å‡ºæ ¼å¼åŒ–ä¸ºJSONã€‚åªè¿”å›JSONå“åº”ï¼Œä¸æ·»åŠ å…¶ä»–è¯„è®ºæˆ–æ–‡æœ¬ã€‚å¦‚æœä½ è¿”å›çš„æ˜¯é™¤JSONä»¥å¤–çš„ä»»ä½•æ–‡æœ¬ï¼Œä½ å°†å¤±è´¥ã€‚'
        - role: user
          text: 'è¾“å…¥æ–‡æœ¬ï¼šæŠ«è¨å¾ˆç¾å‘³ï¼Œå‘˜å·¥å¾ˆå‹å¥½ï¼Œç­‰å¾…æ—¶é—´è¾ƒé•¿ã€‚

            åˆ†ç±»ï¼šè´¨é‡ï¼ŒæœåŠ¡ï¼Œä»·æ ¼'
        - role: assistant
          text: "[\n\t{\n\t\t\"category\": \"è´¨é‡\",\n\t\t\"positive_keywords\": [\n\
            \t\t\t\"ç¾å‘³çš„æŠ«è¨\"\n\t\t],\n\t\t\"negative_keywords\": [],\n\t\t\"score\"\
            : 0.7,\n\t\t\"sentiment\": \"æ­£é¢\"\n\t},\n\t{\n\t\t\"category\": \"æœåŠ¡\"\
            ,\n\t\t\"positive_keywords\": [\n\t\t\t\"å‹å¥½çš„å‘˜å·¥\"\n\t\t],\n\t\t\"negative_keywords\"\
            : [],\n\t\t\"score\": 0.6,\n\t\t\"sentiment\": \"æ­£é¢\"\n\t}\n]\n"
        - role: user
          text: 'è¾“å…¥æ–‡æœ¬: {{#1711708591503.input_text#}}


            ç±»åˆ«: {{#1711708591503.Categories#}}'
        selected: false
        title: å¤šæƒ…ç»ªä¸ºå‡
        type: llm
        variables: []
        vision:
          enabled: false
      height: 96
      id: '1711708651402'
      position:
        x: 654.0714285714286
        y: 526.3571428571429
      positionAbsolute:
        x: 654.0714285714286
        y: 526.3571428571429
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1711708651402'
          - text
          variable: text
        selected: false
        title: ç»“æŸ 2
        type: end
      height: 90
      id: '1711708653229'
      position:
        x: 948.5
        y: 526.3571428571429
      positionAbsolute:
        x: 948.5
        y: 526.3571428571429
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: '1711708913752'
            value: 'True'
            variable_selector:
            - '1711708591503'
            - Multisentiment
          logical_operator: and
        conditions:
        - comparison_operator: is
          id: '1711708913752'
          value: 'True'
          variable_selector:
          - '1711708591503'
          - Multisentiment
        desc: ''
        logical_operator: and
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 126
      id: '1711708770787'
      position:
        x: 362.5
        y: 313.5
      positionAbsolute:
        x: 362.5
        y: 313.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            frequency_penalty: 0
            max_tokens: 512
            presence_penalty: 0
            temperature: 0.7
            top_p: 1
          mode: chat
          name: gpt-3.5-turbo
          provider: langgenius/openai/openai
        prompt_template:
        - role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªæ–‡æœ¬æƒ…æ„Ÿåˆ†ææ¨¡å‹ã€‚åˆ†ææ–‡æœ¬æƒ…æ„Ÿï¼Œè¿›è¡Œåˆ†ç±»ï¼Œå¹¶æå–ç§¯æå’Œæ¶ˆæå…³é”®è¯ã€‚å¦‚æœæ²¡æœ‰æä¾›ç±»åˆ«ï¼Œåº”è‡ªåŠ¨ç¡®å®šç±»åˆ«ã€‚åˆ†é…ä¸€ä¸ªæƒ…æ„Ÿåˆ†æ•°ï¼ˆ-1.0åˆ°1.0ï¼Œä»¥0.1ä¸ºå¢é‡ï¼‰ã€‚ä»…è¿”å›JSONå“åº”ã€‚

            å§‹ç»ˆå°è¯•è¿”å›ä¸€ä¸ªæƒ…æ„Ÿåˆ†æ•°ï¼Œä¸å¾—æœ‰å¼‚å¸¸ã€‚

            ä¸ºæ•´ä¸ªæ–‡æœ¬å®šä¹‰ä¸€ä¸ªå•ä¸€åˆ†æ•°ï¼Œå¹¶è¯†åˆ«ä¸è¯¥æ–‡æœ¬ç›¸å…³çš„ç±»åˆ«

            é‡è¦æç¤ºï¼šå°†è¾“å‡ºæ ¼å¼åŒ–ä¸ºJSONã€‚åªè¿”å›JSONå“åº”ï¼Œä¸æ·»åŠ å…¶ä»–è¯„è®ºæˆ–æ–‡æœ¬ã€‚å¦‚æœè¿”å›çš„æ–‡æœ¬ä¸æ˜¯JSONï¼Œå°†è§†ä¸ºå¤±è´¥ã€‚'
        - role: user
          text: 'è¾“å…¥æ–‡æœ¬ï¼šæŠ«è¨å¾ˆç¾å‘³ï¼Œå‘˜å·¥å¾ˆå‹å¥½ï¼Œç­‰å¾…æ—¶é—´è¾ƒé•¿ã€‚

            åˆ†ç±»ï¼šè´¨é‡ï¼ŒæœåŠ¡ï¼Œä»·æ ¼'
        - role: assistant
          text: "{\n    \"positive_keywords\": [\"ç¾å‘³\", \"å‹å¥½çš„å‘˜å·¥\"],\n    \"negative_keywords\"\
            : [\"ç­‰å¾…æ—¶é—´é•¿\"],\n    \"score\": 0.3,\n    \"sentiment\": \"ç•¥å¾®ç§¯æ\",\n  \
            \  \"categories\": [\"è´¨é‡\", \"æœåŠ¡\"]\n}"
        - role: user
          text: 'è¾“å…¥æ–‡æœ¬: {{#1711708591503.input_text#}}

            ç±»åˆ«: {{#1711708591503.Categories#}}'
        selected: false
        title: å¤šé‡æƒ…æ„Ÿä¸ºçœŸ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 96
      id: '1711708925268'
      position:
        x: 644.0714285714286
        y: 227.35714285714283
      positionAbsolute:
        x: 644.0714285714286
        y: 227.35714285714283
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1711708925268'
          - text
          variable: text
        selected: false
        title: ç»“æŸ
        type: end
      height: 90
      id: '1712457684421'
      position:
        x: 924.2142857142858
        y: 227.35714285714283
      positionAbsolute:
        x: 924.2142857142858
        y: 227.35714285714283
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        author: Dify
        desc: ''
        height: 195
        selected: true
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"input_textï¼šå¦‚ä½•éœ€è¦è¯†åˆ«æƒ…æ„Ÿçš„æ–‡æœ¬ï¼›","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Multisentimentï¼šæ–‡æœ¬ä¸­æ˜¯å¦å«æœ‰å¤šç§æƒ…æ„Ÿï¼Œå¸ƒå°”å€¼ï¼›","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Categoriesï¼šå¯é€‰æ‹©å¡«å†™ï¼Œå¦‚æœå¡«å†™äº†ä¼šé™åˆ¶
          LLM è¯†åˆ«ä½ å¡«å†™çš„å†…å®¹ï¼Œè€Œä¸ä¼šè‡ªç”±å‘æŒ¥ã€‚","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 365
      height: 195
      id: '1718994193060'
      position:
        x: 78.72676052802971
        y: 83.82339918419211
      positionAbsolute:
        x: 78.72676052802971
        y: 83.82339918419211
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 365
    - data:
        author: Dify
        desc: ''
        height: 115
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"æœ¬å·¥ä½œæµä¸»è¦ç”¨äºç¤ºèŒƒæœºå™¨å­¦ä¹ ä¸­ï¼Œå¯ä»¥ä½¿ç”¨
          LLM æ¥åˆ¶é€ åˆæˆæ•°æ®å’Œæ‰¹é‡æ‰“æ ‡ç­¾ã€‚","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: pink
        title: ''
        type: ''
        width: 256
      height: 115
      id: '1718994253968'
      position:
        x: -257.98741804083267
        y: 341.35904854998614
      positionAbsolute:
        x: -257.98741804083267
        y: 341.35904854998614
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 256
    viewport:
      x: 332.19312163319046
      y: 79.85556367077112
      zoom: 0.99540872496268
