app:
  description: ''
  icon: ğŸ“„
  icon_background: '#FBE8FF'
  mode: advanced-chat
  name: é•¿ç¯‡æ•…äº‹ç”Ÿæˆï¼ˆè¿­ä»£ï¼‰
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/openai:0.0.13@9caa0421b5519db036aaccdbf1980d1071550767d6c59e9d9388dd386a92e9f6
kind: app
version: 0.1.5
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: llm
      id: 1716783101349-source-1716783205923-target
      source: '1716783101349'
      sourceHandle: source
      target: '1716783205923'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 1716783205923-source-1716783405935-target
      source: '1716783205923'
      sourceHandle: source
      target: '1716783405935'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: iteration
      id: 1716783405935-source-1716786291494-target
      source: '1716783405935'
      sourceHandle: source
      target: '1716786291494'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: iteration
        targetType: code
      id: 1716786291494-source-1716786321875-target
      source: '1716786291494'
      sourceHandle: source
      target: '1716786321875'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: answer
      id: 1716786321875-source-1716786344896-target
      source: '1716786321875'
      sourceHandle: source
      target: '1716786344896'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: æ–‡ç« æ ‡é¢˜
          max_length: 256
          options: []
          required: true
          type: text-input
          variable: article_title
        - label: æ–‡ç« å†…å®¹
          max_length: 33024
          options: []
          required: true
          type: paragraph
          variable: article_outline
      height: 116
      id: '1716783101349'
      position:
        x: 30
        y: 330.5
      positionAbsolute:
        x: 30
        y: 330.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o
          provider: langgenius/openai/openai
        prompt_template:
        - id: 872364eb-6859-4011-b830-e9d547b2a2b4
          role: system
          text: "<instruction> \nä½ éœ€è¦æ ¹æ®æä¾›çš„æ ‡é¢˜å’Œå¤§çº²å†™ä¸€ç¯‡é•¿æ–‡ã€‚æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å®Œæˆä»»åŠ¡ï¼š \n1. ä½¿ç”¨article_titleä½œä¸ºæ–‡ç« æ ‡é¢˜ã€‚\
            \ \n2. æ ¹æ®æä¾›çš„article_outlineç»„ç»‡æ–‡ç« ã€‚å¤§çº²ä¸­çš„æ¯ä¸ªéƒ¨åˆ†åº”å¯¹åº”æ–‡ç« ä¸­çš„ä¸€ä¸ªéƒ¨åˆ†ã€‚ \n3. ç¡®ä¿æ–‡ç« å†…å®¹è¯¦å®ï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½åŒ…å«è¯¦ç»†çš„ä¿¡æ¯ã€è§£é‡Šã€ä¾‹å­ä»¥åŠä»»ä½•å…¶ä»–ç›¸å…³å†…å®¹ï¼Œä»¥å……åˆ†æ¶µç›–ä¸»é¢˜ã€‚\
            \ \n4. ç¡®ä¿å„éƒ¨åˆ†ä¹‹é—´çš„è¿‡æ¸¡é¡ºç•…ï¼Œä¿æŒè¿è´¯çš„æµç•…æ€§ã€‚ \n5. è¾“å‡ºåº”ä¸åŒ…å«ä»»ä½•XMLæ ‡ç­¾ã€‚ä»…æä¾›åŒ…å«ä»¥ä¸‹é”®å’Œå€¼çš„JSONæ•°ç»„ï¼šâ€œsectionâ€ï¼ˆæ–‡ç« æ¯ä¸ªéƒ¨åˆ†çš„æ ‡é¢˜ï¼‰ï¼Œâ€œbulletsâ€ï¼ˆæ¯ä¸ªéƒ¨åˆ†çš„æçº²ï¼‰ã€‚\
            \ \n<example> \n<input> \n<article_title> \næ°”å€™å˜åŒ–å¯¹æ²¿æµ·åŸå¸‚çš„å½±å“ \n</article_title>\
            \ \n<article_outline> \n1. å¼•è¨€ \n2. æµ·å¹³é¢ä¸Šå‡ \n3. é£æš´é¢‘ç‡å¢åŠ  \n4. ç»“è®º \n</article_outline>\
            \ \n</input> \n<output> \n[ { \"section\": \"å¼•è¨€\", \"bullets\": \"1. æ°”å€™å˜åŒ–å¯¹æ²¿æµ·åŸå¸‚å½±å“çš„æ¦‚è¿°\
            \ 2. ç†è§£è¿™äº›å½±å“çš„é‡è¦æ€§\" }, { \"section\": \"æµ·å¹³é¢ä¸Šå‡\", \"bullets\": \"1. æµ·å¹³é¢ä¸Šå‡çš„åŸå› \
            \ 2. å¯¹æ²¿æµ·åŸºç¡€è®¾æ–½å’Œç¤¾åŒºçš„å½±å“ 3. å—å½±å“åŸå¸‚çš„ä¾‹å­\" }, { \"section\": \"é£æš´é¢‘ç‡å¢åŠ \", \"bullets\"\
            : \"1. æ°”å€™å˜åŒ–ä¸é£æš´é¢‘ç‡çš„å…³è” 2. æ›´é¢‘ç¹å’Œä¸¥é‡çš„é£æš´å¯¹æ²¿æµ·åœ°åŒºçš„å½±å“ 3. æœ€è¿‘é£æš´çš„æ¡ˆä¾‹ç ”ç©¶\" }, { \"section\"\
            : \"ç»“è®º\", \"bullets\": \"1. å…³é”®ç‚¹æ€»ç»“ 2. åº”å¯¹æ°”å€™å˜åŒ–çš„ç´§è¿«æ€§ 3. å¯¹æ”¿ç­–åˆ¶å®šè€…å’Œç¤¾åŒºçš„è¡ŒåŠ¨å‘¼å\" }\
            \ ] \n</output> \n</example> \n</instruction> \n<input> \n<article_title>\
            \ \n{{#1716783101349.article_title#}} \n</article_title>\n<article_outline>\
            \ \n{{#1716783101349.article_outline#}} \n</article_outline> \n</input>\
            \ \n<output>\n"
        selected: false
        title: ç”Ÿæˆæ®µè½æ ‡é¢˜å’Œæ®µè½å†…å®¹
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: true
      height: 96
      id: '1716783205923'
      position:
        x: 334
        y: 330.5
      positionAbsolute:
        x: 334
        y: 330.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(arg1: str) -> dict:\n    import json\n    data = json.loads(arg1)\n\
          \    \n    # Create an array of objects\n    result = [{'section': item[\"\
          section\"], 'bullets': item[\"bullets\"]} for item in data]\n    \n    return\
          \ {\n        'result': result\n    }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: array[object]
        selected: false
        title: æå–æ®µè½æ ‡é¢˜å’Œæ®µè½å†…å®¹
        type: code
        variables:
        - value_selector:
          - '1716783205923'
          - text
          variable: arg1
      height: 54
      id: '1716783405935'
      position:
        x: 638
        y: 330.5
      positionAbsolute:
        x: 638
        y: 330.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ä¸€æ®µä¸€æ®µç”Ÿæˆé•¿ç¯‡æ•…äº‹
        error_handle_mode: terminated
        height: 261
        is_parallel: false
        iterator_selector:
        - '1716783405935'
        - result
        output_selector:
        - '1716805725916'
        - text
        output_type: array[string]
        parallel_nums: 10
        selected: false
        startNodeType: llm
        start_node_id: '1716805725916'
        title: è¿­ä»£
        type: iteration
        width: 446
      height: 261
      id: '1716786291494'
      position:
        x: 942
        y: 330.5
      positionAbsolute:
        x: 942
        y: 330.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 446
      zIndex: 1
    - data:
        code: "\ndef main(articleSections: list):\n    data = articleSections\n  \
          \  return {\n        \"result\": \"\\n\".join(data)\n    }\n"
        code_language: python3
        desc: å°†è¿­ä»£èŠ‚ç‚¹è¾“å‡ºçš„æ•°ç»„ Array è½¬æ¢æˆå­—ç¬¦ä¸² String
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables:
        - value_selector:
          - '1716786291494'
          - output
          variable: articleSections
      height: 98
      id: '1716786321875'
      position:
        x: 1448
        y: 330.5
      positionAbsolute:
        x: 1448
        y: 330.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1716786321875.result#}}'
        desc: ''
        selected: false
        title: ç»“æŸ
        type: answer
        variables: []
      height: 105
      id: '1716786344896'
      position:
        x: 1752
        y: 330.5
      positionAbsolute:
        x: 1752
        y: 330.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ç”Ÿæˆæ–‡ç« 
        isInIteration: true
        isIterationStart: true
        iteration_id: '1716786291494'
        memory:
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gpt-4o
          provider: langgenius/openai/openai
        prompt_template:
        - id: 0c84c8c2-bcde-43be-a392-87cd04b40674
          role: system
          text: "You are an expert document writer. Your job is to write long form\
            \ cohesive content. \n"
        - id: a661230f-2367-4f35-98d8-d9d608745354
          role: user
          text: "You are writing a document called {{#1716783101349.article_title#}}.\
            \ Write a section based on the following information: {{#1716786291494.item#}}.\
            \  \n\n\n<Full outline>\nTake the full outline as a reference when generating\
            \ full article. \n{{#1716783205923.text#}}"
        selected: false
        title: 'LLM '
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      extent: parent
      height: 124
      id: '1716805725916'
      parentId: '1716786291494'
      position:
        x: 85
        y: 85
      positionAbsolute:
        x: 1027
        y: 415.5
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1001
    - data:
        author: Dify
        desc: ''
        height: 252
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"è¾“å…¥ä½ æƒ³ç”Ÿæˆçš„æ–‡ç« çš„ç»“æ„ï¼Œæ¯”å¦‚ä½ æƒ³ç”Ÿæˆä¸€ä¸ªæ ‡é¢˜ä¸ºã€Šåº„å­æœ€é€šé€çš„5ä¸ªæ•…äº‹ï¼Œæ²»å¥½äº†æˆ‘çš„ç²¾ç¥å†…è€—ã€‹çš„æ–‡ç« ï¼Œå…¶ä¸­æœ‰åˆ†åˆ«å…³äºè¯„ä»·ã€å¾—å¤±ã€å›°å¢ƒã€é€‰æ‹©å’Œå¿ƒæ€äº”ä¸ªæ•…äº‹ã€‚","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":2,"mode":"normal","style":"font-size:
          16px;","text":"è¾“å…¥å˜é‡ç¤ºä¾‹","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":2},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"article_titleï¼šåº„å­æœ€é€šé€çš„5ä¸ªæ•…äº‹ï¼Œæ²»å¥½äº†æˆ‘çš„ç²¾ç¥å†…è€—","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"article_outlineï¼š
          å…³äºè¯„ä»·ã€å¾—å¤±ã€å›°å¢ƒã€é€‰æ‹©å’Œå¿ƒæ€äº”ä¸ªæ•…äº‹","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 285
      height: 252
      id: '1718916743166'
      position:
        x: 8.322615117174962
        y: 455.3921060834343
      positionAbsolute:
        x: 8.322615117174962
        y: 455.3921060834343
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 285
    - data:
        author: Dify
        desc: ''
        height: 427
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":2,"mode":"normal","style":"font-size:
          16px;","text":"æ­¥éª¤","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":2},{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"ä½¿ç”¨
          LLM èŠ‚ç‚¹ç”Ÿæˆå…³äºå‰¯æ ‡é¢˜å’Œå‰¯æ ‡é¢˜ä¸‹çš„å†…å®¹çš„ JSONï¼Œå¦‚æœæƒ³è¦æ›´å¥½æ•ˆæœå¯ä»¥åœ¨å†…å®¹ä¸­æ·»åŠ ä¸Šä¸‹æ–‡å’Œæ–‡ç« ç»“æ„ç­‰ã€‚","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"listitem","version":1,"value":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"ä½¿ç”¨
          Code èŠ‚ç‚¹è§£æ JSON ä¼ é€’ç»™è¿­ä»£èŠ‚ç‚¹åˆ†æ®µâ€‹ã€‚","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"listitem","version":1,"value":2}],"direction":"ltr","format":"","indent":0,"type":"list","version":1,"listType":"bullet","start":1,"tag":"ul"},{"children":[],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":2,"mode":"normal","style":"font-size:
          16px;","text":"JSON ç¤ºä¾‹","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":2},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"[","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Â 
          {","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Â 
          Â  \"section\": \"å…³äºè¯„ä»·çš„æ•…äº‹\",","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Â 
          Â  \"bullets\": \"åº„å­å…³äºè¯„ä»·çš„æ•…äº‹...\"","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Â 
          },","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Â 
          {","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Â 
          Â  \"section\": \"å…³äºå¾—å¤±çš„æ•…äº‹\",","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Â 
          Â  \"bullets\": \"åº„å­å…³äºå¾—å¤±çš„æ•…äº‹...\"","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Â 
          }","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"Â 
          ......","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"]","type":"text","version":1}],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 558
      height: 427
      id: '1718921268873'
      position:
        x: 334
        y: 455.3921060834343
      positionAbsolute:
        x: 334
        y: 455.3921060834343
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 558
    - data:
        author: Dify
        desc: ''
        height: 127
        selected: false
        showAuthor: true
        text: '{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"ä½¿ç”¨
          \"\\n\".join(data) æŠŠè¿­ä»£è¾“å‡ºçš„ Array è½¬æ¢æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚","type":"text","version":1},{"type":"linebreak","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"ä½¿ç”¨","type":"text","version":1},{"detail":0,"format":1,"mode":"normal","style":"","text":"æ¨¡æ¿","type":"text","version":1},{"detail":0,"format":0,"mode":"normal","style":"","text":"èŠ‚ç‚¹
          ","type":"text","version":1},{"detail":0,"format":16,"mode":"normal","style":"","text":"{{
          argument | join(\"\\n\") }} å¯ä»¥è¾¾æˆä¸€æ ·çš„æ•ˆæœã€‚","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1,"textFormat":0},{"children":[{"type":"linebreak","version":1}],"direction":null,"format":"start","indent":0,"type":"paragraph","version":1,"textFormat":0}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}'
        theme: blue
        title: ''
        type: ''
        width: 468
      height: 127
      id: '1718921370849'
      position:
        x: 1448
        y: 480
      positionAbsolute:
        x: 1448
        y: 480
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-note
      width: 468
    viewport:
      x: 41.05443799350451
      y: -40.96954697114654
      zoom: 0.81762522227863
